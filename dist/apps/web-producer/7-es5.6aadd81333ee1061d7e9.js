function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(s){r=!0,o=s}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1hPV":function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("v2vP"),l=n("uzuk"),a=n("6Br6"),s=n("7oWP"),c=n("QuXn"),d=n("tpAt"),u=function(e){function t(n,i,r){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=l.empty;break;case 1:if(!n){o.destination=l.empty;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new m(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new m(o,n,i,r)}return o}return r(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);t.Subscriber=u;var m=function(e){function t(t,n,i,r){var a,s=e.call(this)||this;s._parentSubscriber=t;var c=s;return o.isFunction(n)?a=n:n&&(a=n.next,i=n.error,r=n.complete,n!==l.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=r,s}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):d.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;d.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;d.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(d.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u);t.SafeSubscriber=m},"6Br6":function(e,t,n){"use strict";var i=n("D9en"),r=n("a96P"),o=n("v2vP"),l=n("ZGdk");function a(e){return e.reduce((function(e,t){return e.concat(t instanceof l.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(o.isFunction(s))try{s.call(this)}catch(p){t=p instanceof l.UnsubscriptionError?a(p.errors):[p]}if(i.isArray(c)){d=-1;for(var u=c.length;++d<u;){var m=c[d];if(r.isObject(m))try{m.unsubscribe()}catch(p){t=t||[],p instanceof l.UnsubscriptionError?t=t.concat(a(p.errors)):t.push(p)}}}if(t)throw new l.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},"7bXj":function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t.getSymbolIterator=i,t.iterator=i(),t.$$iterator=t.iterator},"7oWP":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},D9en:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},DtmU:function(e,t,n){"use strict";var i=n("qiMw"),r=n("sBpz"),o=n("uHtI");t.fromArray=function(e,t){return t?o.scheduleArray(e,t):new i.Observable(r.subscribeToArray(e))}},"E/Xc":function(e,t,n){"use strict";var i=n("RKpm");function r(e){return 0===e.length?i.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},t.pipeFromArray=r},GB03:function(e,t,n){"use strict";var i=n("7bXj");t.subscribeToIterable=function(e){return function(t){for(var n=e[i.iterator]();;){var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},JJ8B:function(e,t,n){"use strict";var i=n("1hPV");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},Lbxd:function(e,t,n){"use strict";var i=n("k/06");t.subscribeToObservable=function(e){return function(t){var n=e[i.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},QuXn:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},RKpm:function(e,t,n){"use strict";t.identity=function(e){return e}},VTS6:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},Yfti:function(e,t,n){"use strict";var i=n("1hPV"),r=n("7oWP"),o=n("uzuk");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[r.rxSubscriber])return e[r.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(o.empty)}},ZGdk:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},a96P:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},ci3w:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},d4zx:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.InnerSubscriber=function(e){function t(t,n,i){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n("1hPV").Subscriber)},dmvN:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.OuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e,t,n,i,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n("1hPV").Subscriber)},eUpz:function(e,t,n){"use strict";n.r(t),n.d(t,"playerFactory",(function(){return Ln})),n.d(t,"EmissionModule",(function(){return Tn}));var i=n("sEIs"),r=n("sN6X"),o=n("Bxzl"),l=n("R186"),a=n("jCLe"),s=n("LXme"),c=n("OIWk"),d=n("+E71"),u=n("HHj5"),m=n("bwdy"),p=n("HM3f"),v=n("ROBh"),h=n("47ST"),b=n("mWib"),f=n("8j5Y"),y=n("TLy2"),g=n("jOdJ"),S=n("4e/d"),E=n("c2re"),x=n.n(E),C=n("EM62"),P=n("YroZ"),w=n("qgZ/"),k=n("smBE"),I=n("2kYt"),M=n("yEyH"),O=["modalCupos"];function _(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"h3",7),C["\u0275\u0275text"](1," El cup\xf3n de descuento aplicado en la cotizaci\xf3n no se encuentra disponible actualmente. "),C["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",8),C["\u0275\u0275elementStart"](1,"div",9),C["\u0275\u0275elementStart"](2,"div",10),C["\u0275\u0275elementStart"](3,"button",11),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().callCostWithoutDiscounts()})),C["\u0275\u0275text"](4," Recotizar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",i.loadingCosts)}}function j(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",12),C["\u0275\u0275elementStart"](1,"div",13),C["\u0275\u0275element"](2,"ng-lottie",14),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",n.lottieConfig)}}var V,A,B=((V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,l,a,s){var c;return _classCallCheck(this,n),(c=t.call(this)).router=e,c.storeQuote=i,c.storeEmission=r,c.storePolicy=o,c.discountService=l,c.quotingService=a,c.policyAdapter=s,c.modalCupos={},c.routes=[],c.policy={},c.discounts=[],c.loadingCosts=!1,c.newCost=!1,c.emissionSubscription=new m.a,c.policySubscription=new m.a,c.discountSubscription=new m.a,c.lottieConfig={path:"/assets/loadings/sura-loader.json"},c}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;Object(p.a)([this.storeEmission.select(c.e),this.storePolicy.select(u.p)]).subscribe((function(t){var n,i,r,o,l,s=_slicedToArray(t,2),c=s[0],d=s[1];if(!c){e.storeQuote.dispatch(new a.r(1));var u=null===(l=null===(o=null===(r=null===(i=null===(n=null==d?void 0:d.motor)||void 0===n?void 0:n.vehicles)||void 0===i?void 0:i.find((function(e){return 1===e.number})))||void 0===r?void 0:r.packages)||void 0===o?void 0:o.find((function(e){return e.selected})))||void 0===l?void 0:l.group;e.storeQuote.dispatch(new a.u(u))}})).unsubscribe(),this.storeEmission.dispatch(new s.g(!0)),this.emissionSubscription=this.storeEmission.select(c.m).subscribe((function(t){var n,i;if(t.length<1){var r={};(r=null===(i=null===(n=e.router)||void 0===n?void 0:n.config)||void 0===i?void 0:i.find((function(e){return"quoting"===e.path})))&&(r._loadedConfig.routes[0].children.find((function(e){return"emission"===e.path}))._loadedConfig.routes[0].children[0].children.forEach((function(t){var n,i=String(t.path).replace(":id",String(1));n=t,e.routes.push({path:i,question:n.data.question,show:n.data.show,disabled:n.data.disabled,value:n.data.value,shortName:n.data.shortName,visible:n.data.visible,line:n.data.line})})),e.storeEmission.dispatch(new s.o(e.routes)),e.storeEmission.dispatch(new s.c("client")))}})),this.policySubscription=this.storePolicy.select(u.p).subscribe((function(t){return e.policy=x()(t)}))}},{key:"checkDiscount",value:function(){var e=this;this.discountSubscription=Object(p.a)([this.storeEmission.select(c.d),this.storePolicy.select(u.p)]).pipe(Object(b.a)(500),Object(f.a)((function(t){e.discounts=x()(t[1].motor.discounts)})),Object(y.a)((function(t){var n=t[1];return t[0].jobNumberFromQuotes&&n.motor.discounts.some((function(e){return e.value>0}))?e.discountService.getAvailableDiscounts({job:{number:n.job.number}}):Object(v.a)(null)})),Object(g.a)()).subscribe((function(t){!t||t.applied<t.total||(e.modalCupos.options.backdrop="static",e.modalCupos.options.keyboard=!1,e.modalCupos.openModal())}))}},{key:"callCostWithoutDiscounts",value:function(){var e=this;this.newCost=!1,this.loadingCosts=!0,this.discounts.forEach((function(e){return e.value=e.value?0:null})),this.storePolicy.dispatch(new d.o(this.discounts));var t=this.policyAdapter.adapt(this.policy);this.quotingService.getCosts(t).pipe(Object(S.a)((function(t){return e.loadingCosts=!1,Object(h.a)(t)}))).subscribe((function(t){var n=t.motor.vehicles,i=e.policy.motor.vehicles;i.forEach((function(e){var t,i=n.find((function(t){return t.number===e.number}));if(i){var r={};i&&i.packages&&i.packages.length>0&&(r=null==i?void 0:i.packages[0]);var o=null===(t=null==e?void 0:e.packages)||void 0===t?void 0:t.find((function(e){return e.externalid===r.externalid}));o&&(o.costs=r.costs,o.premiums=r.premiums)}})),e.storePolicy.dispatch(new d.H(i)),e.loadingCosts=!1,e.newCost=!0,e.modalCupos.closeModal()}))}},{key:"ngOnDestroy",value:function(){this.emissionSubscription&&this.emissionSubscription.unsubscribe(),this.discountSubscription&&this.discountSubscription.unsubscribe(),this.policySubscription&&this.policySubscription.unsubscribe()}}]),n}(l.BaseComponent)).\u0275fac=function(e){return new(e||V)(C["\u0275\u0275directiveInject"](i.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.DiscountService),C["\u0275\u0275directiveInject"](P.QuotingService),C["\u0275\u0275directiveInject"](w.a))},V.\u0275cmp=C["\u0275\u0275defineComponent"]({type:V,selectors:[["sxf-emission"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](O,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalCupos=n.first)},features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:11,vars:4,consts:[["modalCupos",""],[1,"modal-header","modal-header-items"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","modal-body-items"],["style","padding-top: 1.5rem;",4,"ngIf","ngIfElse"],["class","modal-footer",4,"ngIf"],["stillLoadingCost",""],[2,"padding-top","1.5rem"],[1,"modal-footer"],[1,"row"],[1,"col-lg-4","offset-lg-8","pl-0"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"row",2,"padding","1rem 0"],[1,"col-12","text-center"],["width","8.75rem","height","6.25rem",3,"options"]],template:function(e,t){if(1&e&&(C["\u0275\u0275element"](0,"router-outlet"),C["\u0275\u0275elementStart"](1,"sxf-modal",null,0),C["\u0275\u0275elementStart"](3,"div",1),C["\u0275\u0275elementStart"](4,"h4",2),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",3),C["\u0275\u0275template"](7,_,2,0,"h3",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](8,N,5,1,"div",5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](9,j,3,1,"ng-template",null,6,C["\u0275\u0275templateRefExtractor"])),2&e){var n=C["\u0275\u0275reference"](10);C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" ",t.loadingCosts?"Recotizando":"Descuento comercial no disponible"," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!t.loadingCosts)("ngIfElse",n),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!t.loadingCosts)}},directives:[i.k,k.a,I.o,M.a],styles:[""],changeDetection:0}),V),R=n("ZTXN"),D=n("Z3wF"),L=n("nIj0"),F=n("J+dc"),T=n("soHz"),$=n("q2B7"),q=((A=function(){function e(t,n){_classCallCheck(this,e),this.storeEmission=t,this.router=n}return _createClass(e,[{key:"goToNextStep",value:function(e){var t=e.filter((function(e){return""===e.value||null===e.value}))[0].path.split("/")[2];return e.forEach((function(e){e.path===t&&(e.disabled=!1)})),this.storeEmission.dispatch(new s.o(e)),this.storeEmission.dispatch(new s.c(t)),this.router.navigateByUrl("quoting/emission/questions/"+t)}},{key:"enableRoute",value:function(e,t){e.forEach((function(e){e.path===t&&(e.disabled=!1,e.value=null)})),this.storeEmission.dispatch(new s.c(t)),this.router.navigateByUrl("quoting/emission/questions/"+t),this.storeEmission.dispatch(new s.o(e))}}]),e}()).\u0275fac=function(e){return new(e||A)(C["\u0275\u0275inject"](r.h),C["\u0275\u0275inject"](i.h))},A.\u0275prov=C["\u0275\u0275defineInjectable"]({token:A,factory:A.\u0275fac}),A),Q=n("+m/I"),U=n("ScPh"),z=n("SVrd"),G=n("etEC"),H=["modalNoGNC"],Y=["modalPatentInUse"],W=["modalUW"];function J(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"div",26),C["\u0275\u0275elementStart"](2,"div",7),C["\u0275\u0275elementStart"](3,"div",27),C["\u0275\u0275elementStart"](4,"span",28),C["\u0275\u0275element"](5,"sxf-icon",29),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",7),C["\u0275\u0275elementStart"](7,"div",30),C["\u0275\u0275element"](8,"img",31),C["\u0275\u0275pipe"](9,"uppercase"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",32),C["\u0275\u0275elementStart"](11,"div",33),C["\u0275\u0275text"](12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",34),C["\u0275\u0275text"](14),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](8),C["\u0275\u0275propertyInterpolate1"]("src","/assets/icons/TYPE_",C["\u0275\u0275pipeBind1"](9,4,n.group),".svg",C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](null==n||null==n.brand?null:n.brand.description),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate2"](" ",null==n?null:n.shortModel," ",null==n?null:n.year," ")}}function X(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",36),C["\u0275\u0275elementStart"](1,"div",55),C["\u0275\u0275element"](2,"input",67),C["\u0275\u0275element"](3,"label",68),C["\u0275\u0275elementStart"](4,"label",58),C["\u0275\u0275text"](5," Conduce el cliente "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Z(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",36),C["\u0275\u0275elementStart"](1,"div",55),C["\u0275\u0275element"](2,"input",69),C["\u0275\u0275element"](3,"label",70),C["\u0275\u0275elementStart"](4,"label",58),C["\u0275\u0275text"](5," GNC "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",71),C["\u0275\u0275elementStart"](1,"div",44),C["\u0275\u0275elementStart"](2,"div",45),C["\u0275\u0275elementStart"](3,"div",72),C["\u0275\u0275elementStart"](4,"label"),C["\u0275\u0275text"](5,"Tipo de acreedor prendario"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](6,"sxf-select",73),C["\u0275\u0275pipe"](7,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",45),C["\u0275\u0275elementStart"](9,"label"),C["\u0275\u0275text"](10," Cuotas "),C["\u0275\u0275elementStart"](11,"sup"),C["\u0275\u0275text"](12,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](13,"sxf-select",74),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](3);C["\u0275\u0275property"]("hidden",n.hiddenFormPatent),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("items",C["\u0275\u0275pipeBind1"](7,7,n.bondHoldersTypes$))("multiple",!1)("searchable",!0),C["\u0275\u0275advance"](7),C["\u0275\u0275property"]("items",n.bondHoldersQuotesQuantity)("multiple",!1)("searchable",!0)}}function ee(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",75),C["\u0275\u0275elementStart"](1,"div",45),C["\u0275\u0275elementStart"](2,"sxf-textbox",76),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](3).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"div",45),C["\u0275\u0275elementStart"](4,"sxf-textbox",77),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](3).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"](3);C["\u0275\u0275property"]("hidden",i.hiddenFormPatent)("formGroup",i.formClient),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("helpFeedback",""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("helpFeedback","")}}function te(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",78),C["\u0275\u0275elementStart"](1,"div",45),C["\u0275\u0275elementStart"](2,"sxf-textbox",79),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](3).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"div",45),C["\u0275\u0275elementStart"](4,"sxf-datetimepicker",80),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](3).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"](3);C["\u0275\u0275property"]("hidden",i.hiddenFormPatent)("formGroup",i.formGNC),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!0)("helpFeedback","No es modificable"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("minDate",i.minDateGNC)}}function ne(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"div",35),C["\u0275\u0275elementStart"](2,"div",7),C["\u0275\u0275elementStart"](3,"div",36),C["\u0275\u0275elementStart"](4,"div",7),C["\u0275\u0275elementStart"](5,"div",37),C["\u0275\u0275elementStart"](6,"span",38),C["\u0275\u0275element"](7,"img",39),C["\u0275\u0275pipe"](8,"uppercase"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](9,"div",7),C["\u0275\u0275elementStart"](10,"div",37),C["\u0275\u0275elementStart"](11,"span",40),C["\u0275\u0275text"](12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",7),C["\u0275\u0275elementStart"](14,"div",37),C["\u0275\u0275elementStart"](15,"span",41),C["\u0275\u0275text"](16),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",7),C["\u0275\u0275elementStart"](18,"div",37),C["\u0275\u0275elementStart"](19,"span",42),C["\u0275\u0275text"](20),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",43),C["\u0275\u0275elementStart"](22,"div",44),C["\u0275\u0275elementStart"](23,"div",45),C["\u0275\u0275elementStart"](24,"sxf-textbox",46),C["\u0275\u0275listener"]("keyup.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).onEnterPatent()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"div",47),C["\u0275\u0275elementStart"](26,"button",48),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).validatePatent()})),C["\u0275\u0275elementStart"](27,"ng-lottie",49),C["\u0275\u0275listener"]("animationCreated",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).animationCreated(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"label",50),C["\u0275\u0275text"](29),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](30,"div",51),C["\u0275\u0275elementStart"](31,"div",45),C["\u0275\u0275elementStart"](32,"sxf-textbox",52),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](33,"div",45),C["\u0275\u0275elementStart"](34,"sxf-textbox",53),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](35,"div",54),C["\u0275\u0275elementStart"](36,"div",36),C["\u0275\u0275elementStart"](37,"div",55),C["\u0275\u0275element"](38,"input",56),C["\u0275\u0275element"](39,"label",57),C["\u0275\u0275elementStart"](40,"label",58),C["\u0275\u0275text"](41," Acreedor Prendario "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](42,X,6,0,"div",59),C["\u0275\u0275template"](43,Z,6,0,"div",59),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](44,K,14,9,"div",60),C["\u0275\u0275template"](45,ee,5,4,"div",61),C["\u0275\u0275template"](46,te,5,5,"div",62),C["\u0275\u0275elementStart"](47,"div",63),C["\u0275\u0275elementStart"](48,"div",64),C["\u0275\u0275elementStart"](49,"span"),C["\u0275\u0275elementStart"](50,"button",65),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).continue()})),C["\u0275\u0275text"](51," Siguiente "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](52,"span",66),C["\u0275\u0275text"](53," o presiona ENTER "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().$implicit,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("formGroup",r.form),C["\u0275\u0275advance"](6),C["\u0275\u0275propertyInterpolate1"]("src","/assets/icons/TYPE_",C["\u0275\u0275pipeBind1"](8,28,i.group),".svg",C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate2"](" ",r.currentMotor.brand.description," ",null==r.currentMotor?null:r.currentMotor.shortModel," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",r.currentMotor.model.description," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",r.currentMotor.year," "),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("maxLength",r.maxLength)("disabled",r.disabledByRetrieve),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",r.currentMotor.license&&(r.currentMotor.chasis||r.currentMotor.motor)||!r.form.get("patent").valid||r.disabledValidate),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("hidden",!r.loadingPatent)("options",r.lottieConfig),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",r.buttonLabel," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("hidden",r.hiddenFormPatent),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("minLength",8)("maxLength",20)("helpFeedback","")("disabled",r.disabledByRetrieve),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("minLength",10)("maxLength",17)("helpFeedback","")("disabled",r.disabledByRetrieve),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("hidden",r.hiddenFormPatent),C["\u0275\u0275advance"](7),C["\u0275\u0275property"]("ngIf","Person"===r.currentPolicy.client.type),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!r.gncNotRequired),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",r.applyBondHolderFlag),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!r.currentMotor.driver.clientIsDriver&&"Company"!==r.clientType||"Company"==r.clientType),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",r.currentMotor.gnc||r.showGNC),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",r.form.invalid||r.formClient.invalid&&(!r.currentMotor.driver.clientIsDriver&&"Company"!==r.clientType||"Company"==r.clientType))}}function ie(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"div",26),C["\u0275\u0275elementStart"](2,"div",7),C["\u0275\u0275elementStart"](3,"div",27),C["\u0275\u0275elementStart"](4,"span",81),C["\u0275\u0275element"](5,"sxf-icon",29),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",7),C["\u0275\u0275elementStart"](7,"div",30),C["\u0275\u0275element"](8,"img",31),C["\u0275\u0275pipe"](9,"uppercase"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",32),C["\u0275\u0275elementStart"](11,"div",33),C["\u0275\u0275text"](12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",34),C["\u0275\u0275text"](14),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](8),C["\u0275\u0275propertyInterpolate1"]("src","/assets/icons/TYPE_",C["\u0275\u0275pipeBind1"](9,4,n.group),".svg",C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate"](null==n||null==n.brand?null:n.brand.description),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate2"](" ",null==n?null:n.shortModel," ",null==n?null:n.year," ")}}function re(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275template"](1,J,15,6,"div",24),C["\u0275\u0275template"](2,ne,54,30,"div",24),C["\u0275\u0275template"](3,ie,15,6,"div",24),C["\u0275\u0275elementEnd"]()),2&e){var n=t.index,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n+1<i.currentMotor.number),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",i.currentMotor.number===n+1),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n+1>i.currentMotor.number)}}var oe,le=((oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,l,a,s,c,d,u,m){var p;return _classCallCheck(this,n),(p=t.call(this)).fb=e,p.storePolicy=i,p.storeQuote=r,p.router=o,p.route=l,p.carService=a,p.flowRouteEmissionService=s,p.storeEmission=c,p.patentBlackListService=d,p.patentUseService=u,p.bondHolderService=m,p.lottieConfig={path:"/assets/loadings/data-validation-loader.json",loop:!1,autoplay:!1},p.showGNC=!1,p.disabledValidate=!1,p._CODE_GNC="SURA_CA7_EquipodeGNCCov",p._CODE_SUMMA_GNC="SURA_CA7_EquipodeGNCLim",p._CODE_EXPIRATION="SURA_CA7_EquipodeGNCFecVencLim",p.hiddenFormPatent=!0,p.loadingPatent$=new R.a,p.currentBlackList=!1,p.loadingPatent=!1,p.buttonLabel="Validar",p.bondHoldersQuotesQuantity=[],p.openedModalPatentInUse=!1,p.maxLength=11,p.patentPattern=$.b,p.clientType="",p}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.loadingPatent$.next(!1),this.route.params.subscribe((function(t){var n=t.id;e.storeQuote.dispatch(new a.r(Number(n)))})),this.policyQuoteSubscription=Object(p.a)([this.storePolicy.select(u.p).pipe(Object(F.a)(1)),this.storeQuote.select(D.v)]).subscribe((function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1];console.log("Recargando data"),e.currentPolicy=i,e.currentMotor=i.motor.vehicles.find((function(e){return e.number===r.activeMotor})),e.vehicles=i.motor.vehicles,e.applyBondHolderFlag=null!==e.currentMotor.bondholder.type,null!==e.currentMotor.chasis&&null!==e.currentMotor.motor&&(e.hiddenFormPatent=!1),e.currentMotor.driver.clientIsDriver&&"Person"===e.currentPolicy.client.type&&(e.currentMotor.driver.firstname=e.currentPolicy.client.firstname,e.currentMotor.driver.lastname=e.currentPolicy.client.lastname);var o=e.currentPolicy.period.start.toString(),l={year:parseInt(o.substring(0,4),0),month:parseInt(o.substring(5,7),0),day:parseInt(o.substring(8,10),0)};e.minDateGNC=l,"MOTO"===e.currentMotor.group?(e.gncNotRequired=!0,e.patentPattern=$.c):e.patentPattern="OTRO"===e.currentMotor.group?$.d:$.b})),this.storeQuote.select(D.v).pipe(Object(T.a)("activeMotor")).subscribe((function(){return e.initializeForms()})),this.emissionRoutesSubscription=this.storeEmission.select(c.m).subscribe((function(t){e.routes=t})),this.bondHoldersTypes$=this.bondHolderService.getBondHolders();for(var t=0;t<100;)t++,this.bondHoldersQuotesQuantity.push({code:t,description:t});this.emissionSubscription=this.storeEmission.select(c.d).subscribe((function(t){var n=t.jobNumberFromQuotes,i=t.approvedEmission;e.clientType=t.client.type,e.disabledByRetrieve=!(!n||!i),e.disabledByRetrieve&&(e.form.get("gnc").disable(),e.form.get("creditorPrendario").disable(),e.form.get("clientIsDriver").disable(),e.formClient.disable(),e.form.get("bondHolderType").disable(),e.form.get("bondHolderQuotas").disable())}))}},{key:"initializeForms",value:function(){var e=this;console.log("Inicializo los formularios"),this.form=this.fb.group({gnc:[this.currentMotor.gnc,L.Validators.required],creditorPrendario:[this.applyBondHolderFlag],patent:[this.currentMotor.license,[L.Validators.required,L.Validators.pattern(this.patentPattern)]],bondHolderType:[this.currentMotor.bondholder.type],bondHolderQuotas:[this.currentMotor.bondholder.quotas],engineNumber:[this.currentMotor.motor,[L.Validators.required,L.Validators.minLength(6),L.Validators.maxLength(20)]],chassisNumber:[this.currentMotor.chasis,[L.Validators.required,L.Validators.minLength(10),L.Validators.maxLength(17)]],clientIsDriver:[this.currentMotor.driver.clientIsDriver]}),this.formClient=this.fb.group({driverName:[this.currentMotor.driver.firstname,L.Validators.required],driverLastName:[this.currentMotor.driver.lastname,L.Validators.required]}),this.currentMotor.packages.filter((function(e){return e.selected})).map((function(t){var n=t.coverages.filter((function(t){return t.pattern.code===e._CODE_GNC}));if(1===n.length){var i=n[0].terms.filter((function(t){return t.code===e._CODE_SUMMA_GNC}))[0].value,r=n[0].terms.filter((function(t){return t.code===e._CODE_EXPIRATION}))[0].value.toString(),o={year:parseInt(r.substring(0,4),0),month:parseInt(r.substring(5,7),0),day:parseInt(r.substring(8,10),0)};e.formGNC=e.fb.group({summa:[i,L.Validators.required],expiration:[o,L.Validators.required]}),e.form.patchValue({gnc:!0},{onlySelf:!0,emitEvent:!1}),e.showGNC=!0}else e.formGNC=e.fb.group({summa:[0,L.Validators.required],expiration:[,L.Validators.required]})})),this.unsubscribeForm(),this.patentInputSubscription=this.form.get("patent").valueChanges.subscribe((function(){e.currentBlackList=!1,e.hiddenFormPatent=!0,e.disabledValidate=!1,e.form.get("chassisNumber").setValue([]),e.form.get("engineNumber").setValue([]),e.form.get("creditorPrendario").setValue(!1,{emitEvent:!1}),e.applyBondHolderFlag=!1,e.form.get("bondHolderType").setValue([]),e.form.get("bondHolderQuotas").setValue([]),e.form.get("bondHolderQuotas").clearValidators(),e.currentMotor.license=null,e.buttonLabel="Validar"})),this.clientIsDriverCheckSubscription=this.form.get("clientIsDriver").valueChanges.subscribe((function(t){t?(e.formClient.get("driverName").setValue(e.currentPolicy.client.firstname),e.formClient.get("driverLastName").setValue(e.currentPolicy.client.lastname),e.vehicles.forEach((function(n){n.number===e.currentMotor.number&&(n.driver.firstname=e.currentPolicy.client.firstname,n.driver.lastname=e.currentPolicy.client.lastname,n.driver.clientIsDriver=t)})),e.storePolicy.dispatch(new d.H(e.vehicles))):(e.formClient.get("driverName").setValue(e.disabledByRetrieve?e.currentMotor.driver.firstname:null),e.formClient.get("driverLastName").setValue(e.disabledByRetrieve?e.currentMotor.driver.lastname:null),e.vehicles.forEach((function(n){n.number===e.currentMotor.number&&(n.driver.firstname=e.formClient.get("driverName").value,n.driver.lastname=e.formClient.get("driverLastName").value,n.driver.clientIsDriver=t)})),e.storePolicy.dispatch(new d.H(e.vehicles)))})),this.gncCheckSubscription=this.form.get("gnc").valueChanges.subscribe((function(t){e.showGNC=!1,t&&0===e.formGNC.get("summa").value?e.openModalNoGNC():(e.vehicles.forEach((function(n){n.number===e.currentMotor.number&&(n.gnc=t)})),e.storePolicy.dispatch(new d.H(e.vehicles)))})),this.expirationInputSubscription=this.formGNC.get("expiration").valueChanges.subscribe((function(t){var n=t.year+"-"+t.month+"-"+t.day;n=new Date(n).toISOString(),e.vehicles.forEach((function(t){t.number===e.currentMotor.number&&(t.packages.filter((function(e){return e.selected}))[0].coverages.filter((function(t){return t.pattern.code===e._CODE_GNC}))[0].terms.filter((function(t){return t.code===e._CODE_EXPIRATION}))[0].value.current=n)})),e.storePolicy.dispatch(new d.H(e.vehicles))})),this.creditorPrendarioInputSubscription=this.form.get("creditorPrendario").valueChanges.subscribe((function(t){e.applyBondHolderFlag=t,e.applyBondHolderFlag?(e.form.get("bondHolderQuotas").setValidators([L.Validators.required]),e.form.get("bondHolderQuotas").updateValueAndValidity()):(e.form.get("bondHolderQuotas").clearValidators(),e.form.get("bondHolderQuotas").updateValueAndValidity(),e.form.get("bondHolderQuotas").reset(),e.form.get("bondHolderType").reset())}))}},{key:"unsubscribeForm",value:function(){var e,t,n,i;null===(e=this.patentInputSubscription)||void 0===e||e.unsubscribe(),null===(t=this.clientIsDriverCheckSubscription)||void 0===t||t.unsubscribe(),null===(n=this.gncCheckSubscription)||void 0===n||n.unsubscribe(),null===(i=this.expirationInputSubscription)||void 0===i||i.unsubscribe()}},{key:"ngOnDestroy",value:function(){var e,t,n;null===(e=this.emissionSubscription)||void 0===e||e.unsubscribe(),null===(t=this.policyQuoteSubscription)||void 0===t||t.unsubscribe(),null===(n=this.emissionRoutesSubscription)||void 0===n||n.unsubscribe(),this.unsubscribeForm()}},{key:"continuePatentValidate",value:function(){var e=this;this.carService.getCar(this.form.get("patent").value).pipe(Object(S.a)((function(){return e.hiddenFormPatent=!1,e.loadingPatent$.next(!1),e.loadingPatent=!1,Object(v.a)(null)}))).subscribe((function(t){e.buttonAnimated.playSegments([[120,175]],!1),setTimeout((function(){e.buttonLabel="Validado"}),2e3),e.hiddenFormPatent=!1,e.loadingPatent=!1,e.loadingPatent$.next(!1),e.checkBlackList(t)}))}},{key:"validatePatent",value:function(){var e=this;this.openedModalPatentInUse=!1,this.disabledValidate=!0,this.loadingPatent$.next(!0),this.loadingPatent=!0,this.buttonLabel="Validando",this.buttonAnimated.playSegments([[0,119]],!0);var t=new Date(this.currentPolicy.period.start.toString()),n=t.getDate()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear();t.setMonth(t.getMonth()+3);var i=t.getDate()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear();this.patentUseService.validePatentInUse(this.form.get("patent").value,n,i).subscribe((function(t){null!==t&&t.length>0&&""!==t[0].fixedid?(e.openModalPatentInUse(),e.openedModalPatentInUse=!0):e.continuePatentValidate()}))}},{key:"checkBlackList",value:function(e){var t=this;this.patentBlackListService.validePatent(this.form.get("patent").value).subscribe((function(e){t.loadingPatent$.next(!1),t.currentBlackList=!1,null!==e&&e.length>0&&(t.currentBlackList=!0),t.vehicles.forEach((function(e){e.number===t.currentMotor.number&&(e.blacklist=t.currentBlackList)})),t.storePolicy.dispatch(new d.H(t.vehicles)),t.currentBlackList?t.modalUW.openModal():setTimeout((function(){t.buttonLabel="Validado"}),2e3)})),e&&(this.form.get("chassisNumber").setValue(e.chassis),this.form.get("engineNumber").setValue(e.motor),this.form.markAllAsTouched())}},{key:"onEnterPatent",value:function(){this.form.get("patent").valid&&this.validatePatent()}},{key:"onEnter",value:function(){this.form.valid&&this.continue()}},{key:"continue",value:function(){var e=this,t=this.form.value,n=t.patent,i=t.engineNumber,r=t.chassisNumber,o=t.bondHolderType,l=t.bondHolderQuotas,a=t.gnc,c=this.formClient.value,u=c.driverLastName,m=c.driverName;if(this.currentMotor.license=n,this.currentMotor.motor=i,this.currentMotor.chasis=r,this.currentMotor.bondholder=Object.assign(Object.assign({},this.currentMotor.bondholder),{type:this.applyBondHolderFlag?o:null,quotas:this.applyBondHolderFlag?l:null}),this.currentMotor.driver=Object.assign(Object.assign({},this.currentMotor.driver),{lastname:u,firstname:m}),a){var p=this.currentMotor.packages.find((function(e){return e.selected}));this.flowRouteEmissionService.enableRoute(this.routes,"payment-method"),this.storeEmission.dispatch(new s.c("payment-method")),this.routes.forEach((function(t){"aditionalauto"===t.path&&(t.value=e.form.get("chassisNumber").value.toString().toUpperCase()+" - "+e.form.get("engineNumber").value.toString().toUpperCase())})),this.vehicles.forEach((function(t){t.number===e.currentMotor.number&&(t.driver.lastname=e.formClient.get("driverLastName").value,t.driver.firstname=e.formClient.get("driverName").value,t.license=e.form.get("patent").value.toString().toUpperCase(),t.motor=e.form.get("engineNumber").value,t.chasis=e.form.get("chassisNumber").value,e.applyBondHolderFlag?(t.bondholder.type=e.form.get("bondHolderType").value,t.bondholder.quotas=e.form.get("bondHolderQuotas").value):(t.bondholder.type=null,t.bondholder.quotas=null))})),p.coverages=p.coverages.filter((function(t){return t.pattern.code!==e._CODE_GNC}))}this.storePolicy.dispatch(new d.H(this.vehicles)),this.currentMotor.number<this.vehicles.length?this.router.navigateByUrl("quoting/emission/questions/aditionalauto/"+(this.currentMotor.number+1)):(this.flowRouteEmissionService.enableRoute(this.routes,"payment-method"),this.storeEmission.dispatch(new s.c("payment-method")),this.form.valid&&this.storeEmission.dispatch(new s.i(!0)),this.changeRouteTitleValue(),this.router.navigateByUrl("quoting/emission/questions/payment-method"))}},{key:"changeRouteTitleValue",value:function(){var e=this.routes.find((function(e){return e.path.includes("aditionalauto")})),t=this.currentMotor,n=t.license,i=t.chasis,r=t.motor;e.value="".concat(this.vehicles.length>0?n.toUpperCase()+": ":"").concat(i.toUpperCase()," - ").concat(r.toUpperCase())}},{key:"closeModalNoGNC",value:function(){this.form.patchValue({gnc:!1},{onlySelf:!0,emitEvent:!0}),this.modalNoGNC.closeModal()}},{key:"openModalNoGNC",value:function(){this.modalNoGNC.openModal()}},{key:"redirectCoverage",value:function(){var e=this.currentMotor.packages.filter((function(e){return e.selected}))[0].code;this.modalNoGNC.closeModal(),this.router.navigateByUrl("quoting/coverage/"+this.currentMotor.id+"/modal/"+e)}},{key:"animationCreated",value:function(e){this.buttonAnimated=e}},{key:"closeModalPatentInUse",value:function(){this.loadingPatent=!1,this.buttonAnimated.playSegments([[120,175]],!1),this.buttonLabel="Validar",this.modalPatentInUse.closeModal()}},{key:"openModalPatentInUse",value:function(){this.modalPatentInUse.openModal()}},{key:"closeUWModal",value:function(e){"continue"!==e?(this.loadingPatent=!1,this.buttonAnimated.playSegments([[120,175]],!1),this.buttonLabel="Validar",this.form.get("patent").setValue(""),this.modalUW.closeModal()):this.modalUW.closeModal()}}]),n}(l.BaseComponent)).\u0275fac=function(e){return new(e||oe)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](i.h),C["\u0275\u0275directiveInject"](i.a),C["\u0275\u0275directiveInject"](P.CarService),C["\u0275\u0275directiveInject"](q),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.PatentBlackListService),C["\u0275\u0275directiveInject"](P.PatentUseService),C["\u0275\u0275directiveInject"](P.BondholderService))},oe.\u0275cmp=C["\u0275\u0275defineComponent"]({type:oe,selectors:[["sxf-others-motor"]],viewQuery:function(e,t){var n;1&e&&(C["\u0275\u0275staticViewQuery"](H,!0),C["\u0275\u0275staticViewQuery"](Y,!0),C["\u0275\u0275staticViewQuery"](W,!0)),2&e&&(C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalNoGNC=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalPatentInUse=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalUW=n.first))},features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:55,vars:1,consts:[[4,"ngFor","ngForOf"],["modalNoGNC",""],[1,"modal-header","modal-header-items"],["type","button","aria-label","Close","name","closeModalNoGNCBtn",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-body-items"],[1,"modal-footer"],[1,"row"],[1,"col-lg-4","offset-lg-3","pl-0"],["type","button","name","closeModalNoGNCBtn",1,"btn","btn-modal","btn-lg","btn-block",3,"click"],[1,"col-lg-5","pl-0"],["type","button","name","redirectCoverageGNCBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[3,"closed"],["modalPatentInUse",""],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","name","closeModalPatentInUseBtn",1,"close",3,"click"],[1,"col-lg-4","offset-lg-8","pl-0"],["type","button","name","closeModalPatentInUseBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["modalUW",""],[1,"modal-header",2,"padding","1rem 2rem"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["type","button",1,"btn","btn-modal","btn-lg","btn-block",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["class","row pb-4",4,"ngIf"],[1,"row","pb-4"],[1,"col-lg-5","px-0","btn-vehicle"],[1,"col-lg-12","text-right"],[1,"circle-ok"],["type","ok",1,"icon-white",2,"cursor","none !important"],[1,"col-lg-4","icon"],["alt","vehicle","width","64px",1,"icon-vehicle",3,"src"],[1,"col-lg-8","pl-0","text-left",2,"margin-top","-15px"],[1,"title-primary"],[1,"title-secondary"],[1,"col-lg-12","py-4",2,"border","0.5px solid #00aec7",3,"formGroup"],[1,"col-lg-4"],[1,"col-lg-12"],[1,"vehicle-type"],["alt","vehicle icon","width","64px;",3,"src"],[1,"brand-span"],[1,"model-span"],[1,"year-span"],[1,"col-lg-8","pt-3"],[1,"row","mb-4"],[1,"col-lg-6"],["type","text","formControlName","patent","label","Patente *","placeholder","Ingres\xe1 la patente",3,"maxLength","disabled","keyup.enter"],[1,"col-lg-5"],[1,"btn","btn-primary","btn-block",3,"disabled","click"],["height","32px","width","32px",1,"mr-2",3,"hidden","options","animationCreated"],[1,"label-btn"],[1,"row","mb-2",3,"hidden"],["type","text","formControlName","engineNumber","label","N\xfamero de motor *","placeholder","N\xfamero de motor",3,"minLength","maxLength","helpFeedback","disabled","keydown.enter"],["type","text","formControlName","chassisNumber","label","N\xfamero de chasis *","placeholder","",3,"minLength","maxLength","helpFeedback","disabled","keydown.enter"],[1,"row","mb-4",3,"hidden"],[1,"form-checkbox"],["type","checkbox","id","creditorPrendario","formControlName","creditorPrendario",1,"form-checkbox-input"],["for","creditorPrendario",1,"form-checkbox-label"],[1,"label-checkbox"],["class","col-lg-4",4,"ngIf"],[3,"hidden",4,"ngIf"],["class","row mt-4",3,"hidden","formGroup",4,"ngIf"],["class","row mb-3",3,"hidden","formGroup",4,"ngIf"],[1,"row","mt-4"],[1,"col-lg-8"],["name","continueEmissionOthers",1,"btn","btn-primary","btn-heft",2,"width","10rem",3,"disabled","click"],[1,"press-enter","ml-3","mr-4"],["type","checkbox","id","driveCustomer","formControlName","clientIsDriver",1,"form-checkbox-input"],["for","driveCustomer",1,"form-checkbox-label"],["type","checkbox","id","gnc","formControlName","gnc",1,"form-checkbox-input"],["for","gnc",1,"form-checkbox-label"],[3,"hidden"],[1,"form-group"],["formControlName","bondHolderType","bindLabel","description","bindValue","code","placeholder","Seleccione el tipo","dropdownPosition","bottom","name","bondHolderType",1,"custom",3,"items","multiple","helpFeedback","searchable"],["formControlName","bondHolderQuotas","bindLabel","description","bindValue","code","placeholder","Seleccione las cuotas","dropdownPosition","bottom","name","bondHoldersQuotesQuantity",1,"custom",3,"items","multiple","helpFeedback","searchable"],[1,"row","mt-4",3,"hidden","formGroup"],["type","text","formControlName","driverName","label","Nombre *","placeholder","Ingres\xe1 el nombre del conductor","placement","bottom","messageTooltips","Nombre","name","driverNameEmission",3,"helpFeedback","keydown.enter"],["type","text","formControlName","driverLastName","label","Apellido *","placeholder","Ingres\xe1 el apellido del conductor","placement","bottom","messageTooltips","Apellido","name","driverLastNameEmission",3,"helpFeedback","keydown.enter"],[1,"row","mb-3",3,"hidden","formGroup"],["type","text","formControlName","summa","label","Suma asegurada de equipo de GNC *","placement","bottom","messageTooltips","Suma asegurada","name","summaGNCEmission",3,"disabled","helpFeedback","keydown.enter"],["label","Vencimiento de equipo de GNC *","formControlName","expiration","name","expirationGNCEmission",3,"minDate","keydown.enter"],[1,"circle-ok",2,"visibility","hidden"]],template:function(e,t){1&e&&(C["\u0275\u0275template"](0,re,4,3,"div",0),C["\u0275\u0275elementStart"](1,"sxf-modal",null,1),C["\u0275\u0275elementStart"](3,"div",2),C["\u0275\u0275elementStart"](4,"button",3),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNoGNC()})),C["\u0275\u0275elementStart"](5,"span",4),C["\u0275\u0275text"](6,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",5),C["\u0275\u0275elementStart"](8,"h3"),C["\u0275\u0275text"](9,"El equipo de GNC es solo a modo"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"h3"),C["\u0275\u0275text"](11,"declarativo \xbfDesea asegurar el equipo?"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",6),C["\u0275\u0275elementStart"](13,"div",7),C["\u0275\u0275elementStart"](14,"div",8),C["\u0275\u0275elementStart"](15,"button",9),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNoGNC()})),C["\u0275\u0275text"](16," No solictar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",10),C["\u0275\u0275elementStart"](18,"button",11),C["\u0275\u0275listener"]("click",(function(){return t.redirectCoverage()})),C["\u0275\u0275text"](19," Asegurar el equipo de GNC "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](20,"sxf-modal",12,13),C["\u0275\u0275listener"]("closed",(function(){return t.closeModalPatentInUse()})),C["\u0275\u0275elementStart"](22,"div",2),C["\u0275\u0275elementStart"](23,"h4",14),C["\u0275\u0275text"](24," Patente asociada a otra p\xf3liza "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"button",15),C["\u0275\u0275listener"]("click",(function(){return t.closeModalPatentInUse()})),C["\u0275\u0275elementStart"](26,"span",4),C["\u0275\u0275text"](27,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"div",5),C["\u0275\u0275elementStart"](29,"p"),C["\u0275\u0275text"](30," La patente est\xe1 asociada a una p\xf3liza o solicitud activa y actualmente no podr\xe1 ser asegurada. Comunicate con tu Ejecutivo de Cuenta para m\xe1s informaci\xf3n. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](31,"div",6),C["\u0275\u0275elementStart"](32,"div",7),C["\u0275\u0275elementStart"](33,"div",16),C["\u0275\u0275elementStart"](34,"button",17),C["\u0275\u0275listener"]("click",(function(){return t.closeModalPatentInUse()})),C["\u0275\u0275text"](35," Volver "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](36,"sxf-modal",12,18),C["\u0275\u0275listener"]("closed",(function(){return t.closeUWModal()})),C["\u0275\u0275elementStart"](38,"div",19),C["\u0275\u0275elementStart"](39,"button",20),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal("Cross click")})),C["\u0275\u0275elementStart"](40,"span",4),C["\u0275\u0275text"](41,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](42,"div",21),C["\u0275\u0275elementStart"](43,"h4"),C["\u0275\u0275text"](44," La presente emisi\xf3n va a requerir autorizaci\xf3n de la compa\xf1\xeda. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](45,"h4"),C["\u0275\u0275text"](46,"\xbfDesea solicitar autorizaci\xf3n?"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](47,"div",6),C["\u0275\u0275elementStart"](48,"div",7),C["\u0275\u0275elementStart"](49,"div",8),C["\u0275\u0275elementStart"](50,"button",22),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal()})),C["\u0275\u0275text"](51," Cancelar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](52,"div",10),C["\u0275\u0275elementStart"](53,"button",23),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal("continue")})),C["\u0275\u0275text"](54," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&C["\u0275\u0275property"]("ngForOf",t.vehicles)},directives:[I.n,k.a,I.o,Q.a,L.NgControlStatusGroup,L.FormGroupDirective,U.a,L.NgControlStatus,L.FormControlName,M.a,L.CheckboxControlValueAccessor,z.a,G.a],pipes:[I.z,I.b],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.brand-span[_ngcontent-%COMP%], .model-span[_ngcontent-%COMP%], .year-span[_ngcontent-%COMP%]{font-size:.875rem;color:#393b3d}.driver-span[_ngcontent-%COMP%]{color:#06369e;font-size:.875rem;font-weight:700}.press-enter[_ngcontent-%COMP%]{color:#a3adb3;font-size:.75rem}.label-checkbox[_ngcontent-%COMP%]{vertical-align:top;margin-left:3px}.label-btn[_ngcontent-%COMP%]{color:#fff;font-size:.9375rem}.btn-vehicle[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-radius:.3125rem;padding:0 1rem 1rem}.btn-vehicle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;padding-left:1.7rem}.btn-vehicle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .icon-vehicle[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0}.btn-vehicle[_ngcontent-%COMP%]   .circle-ok[_ngcontent-%COMP%]{display:inline-block;background-color:#0033a0;border-radius:50%;width:24px;height:24px;zoom:.8;margin-right:.5rem}.btn-vehicle[_ngcontent-%COMP%]   .title-primary[_ngcontent-%COMP%], .btn-vehicle[_ngcontent-%COMP%]   .title-secondary[_ngcontent-%COMP%]{font-size:.875rem;color:#393b3d}"]}),oe),ae=n("GobW"),se=n("XVTm"),ce=n("LMO5"),de=n("IdLP"),ue=n("6Oco"),me=n("YtkY"),pe=n("7ntQ"),ve=n("FK24"),he=n("7ncN"),be=n("ojpD"),fe=n("Y1rU"),ye=n("NcZ/"),ge=["childComp"],Se=["uwEmision"],Ee=["vehicleDetails"],xe=["modalEditCoverage"];function Ce(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span",46),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"async"),C["\u0275\u0275elementEnd"]()),2&e){var n,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",null==(n=C["\u0275\u0275pipeBind1"](2,1,i.packageSelectedWithAssistance$))||null==n.package?null:n.package.description," ")}}function Pe(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span",46),C["\u0275\u0275text"](1," Resumen "),C["\u0275\u0275elementEnd"]())}function we(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",8),C["\u0275\u0275elementStart"](1,"a",49),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).goCoverage()})),C["\u0275\u0275text"](2," Cambio de cobertura "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}}function ke(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",8),C["\u0275\u0275elementStart"](1,"a",49),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).openModal()})),C["\u0275\u0275text"](2," Editar cotizaci\xf3n "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}}function Ie(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",47),C["\u0275\u0275template"](1,we,3,0,"div",48),C["\u0275\u0275template"](2,ke,3,0,"div",48),C["\u0275\u0275pipe"](3,"async"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"](),i=null,r=n.disabledByRetrieve&&(null==(i=C["\u0275\u0275pipeBind1"](3,2,n.vehicles$))?null:i.length)<2&&!n.getQuoteApproved;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!n.disabledByRetrieve),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",r)}}function Me(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",47),C["\u0275\u0275elementStart"](1,"div",13),C["\u0275\u0275elementStart"](2,"div",50),C["\u0275\u0275elementStart"](3,"span"),C["\u0275\u0275text"](4),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"a",51),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().openVehicleDetails()})),C["\u0275\u0275text"](7," Ver todos "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",null==(i=C["\u0275\u0275pipeBind1"](5,1,r.vehicles$))?null:i.length," Veh\xedculos ")}}function Oe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"titlecase"),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",8),C["\u0275\u0275elementStart"](7,"span"),C["\u0275\u0275text"](8,"Asistencia mec\xe1nica"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](C["\u0275\u0275pipeBind1"](4,1,C["\u0275\u0275pipeBind1"](5,3,n.brandModelPrizeCar$).type))}}function _e(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"async"),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",8),C["\u0275\u0275elementStart"](7,"span"),C["\u0275\u0275text"](8),C["\u0275\u0275pipe"](9,"async"),C["\u0275\u0275pipe"](10,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n,i=C["\u0275\u0275nextContext"](),r=null;C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate2"](" ",null==(r=C["\u0275\u0275pipeBind1"](4,3,i.brandModelPrizeCar$))?null:r.brand," ",null==(r=C["\u0275\u0275pipeBind1"](5,5,i.brandModelPrizeCar$))?null:r.model," "),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](9,7,i.getAssistanceDescription(null==(n=C["\u0275\u0275pipeBind1"](10,9,i.packageSelectedWithAssistance$))?null:n.assistance))," ")}}function Ne(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3,"Suma asegurada"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",8),C["\u0275\u0275elementStart"](5,"span"),C["\u0275\u0275text"](6,"Refacturaci\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function je(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"number"),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",8),C["\u0275\u0275elementStart"](7,"span"),C["\u0275\u0275text"](8),C["\u0275\u0275pipe"](9,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](4,2,null==(n=C["\u0275\u0275pipeBind1"](5,5,i.brandModelPrizeCar$))?null:n.prize,"1.0-0")," "),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](9,7,i.rebillingPeriod$)," ")}}function Ve(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3,"Condici\xf3n fiscal"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"div",8),C["\u0275\u0275elementEnd"]())}function Ae(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"tr"),C["\u0275\u0275elementStart"](1,"td",59),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"td",59),C["\u0275\u0275elementStart"](4,"b"),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",n.pattern.description," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](6,2,(null==n.terms[0].value?null:n.terms[0].value.current)||n.terms[0].value,"1.0-0")," ")}}function Be(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"table",58),C["\u0275\u0275elementStart"](1,"tbody"),C["\u0275\u0275template"](2,Ae,7,5,"tr",33),C["\u0275\u0275pipe"](3,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n,i=C["\u0275\u0275nextContext"](2),r=null==(n=C["\u0275\u0275pipeBind1"](3,1,i.additionals$))?null:n.additionals;C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngForOf",r)}}function Re(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",8),C["\u0275\u0275template"](6,Be,4,3,"ng-template",null,52,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementStart"](8,"div",53),C["\u0275\u0275pipe"](9,"async"),C["\u0275\u0275element"](10,"input",54),C["\u0275\u0275pipe"](11,"async"),C["\u0275\u0275elementStart"](12,"div",55),C["\u0275\u0275elementStart"](13,"span",56),C["\u0275\u0275element"](14,"sxf-icon",57),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n,i,r=C["\u0275\u0275reference"](7),o=C["\u0275\u0275nextContext"](),l=(null==(n=C["\u0275\u0275pipeBind1"](9,5,o.additionals$))?null:n.additionalsLenght)>0?r:"";C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](4,3,o.fiscalCondition$)," "),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("ngbTooltip",l),C["\u0275\u0275advance"](2),C["\u0275\u0275propertyInterpolate1"]("value","",null==(i=C["\u0275\u0275pipeBind1"](11,7,o.additionals$))?null:i.additionalsLenght," adicionales")}}function De(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3,"Condici\xf3n fiscal"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",8),C["\u0275\u0275elementStart"](5,"span"),C["\u0275\u0275text"](6,"Refacturaci\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Le(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",8),C["\u0275\u0275elementStart"](6,"span"),C["\u0275\u0275text"](7),C["\u0275\u0275pipe"](8,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](4,2,n.fiscalCondition$)," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](8,4,n.rebillingPeriod$)," ")}}function Fe(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3,"Medio de pago"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div",8),C["\u0275\u0275elementStart"](5,"span"),C["\u0275\u0275text"](6,"Cuotas"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",8),C["\u0275\u0275elementStart"](2,"span"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"div",8),C["\u0275\u0275elementStart"](6,"span"),C["\u0275\u0275text"](7),C["\u0275\u0275pipe"](8,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n,i,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",null==(n=C["\u0275\u0275pipeBind1"](4,2,r.paymentMethod$))?null:n.description," "),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"](" ",null==(i=C["\u0275\u0275pipeBind1"](8,4,r.paymentPlan$))?null:i.description," ")}}function $e(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",13),C["\u0275\u0275elementStart"](2,"label",60),C["\u0275\u0275text"](3,"Campa\xf1a"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"sxf-select",61,62),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](4),C["\u0275\u0275classMap"]("custom"),C["\u0275\u0275property"]("formControl",i.formCampaign)("items",n)("multiple",!1)("searchable",!1)("placeholder","Seleccione campa\xf1a")("dropdownPosition","bottom")}}function qe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",69),C["\u0275\u0275elementStart"](1,"div",70),C["\u0275\u0275elementStart"](2,"div"),C["\u0275\u0275text"](3,"Gastos de adquisici\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"div"),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",70),C["\u0275\u0275elementStart"](8,"div"),C["\u0275\u0275text"](9,"Gastos de explotaci\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div"),C["\u0275\u0275text"](11),C["\u0275\u0275pipe"](12,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",70),C["\u0275\u0275elementStart"](14,"div"),C["\u0275\u0275text"](15,"Prima total (GWP)"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](16,"div"),C["\u0275\u0275text"](17),C["\u0275\u0275pipe"](18,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"div",70),C["\u0275\u0275elementStart"](20,"div"),C["\u0275\u0275text"](21,"Regargo financiero"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](22,"div"),C["\u0275\u0275text"](23),C["\u0275\u0275pipe"](24,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"div",70),C["\u0275\u0275elementStart"](26,"div"),C["\u0275\u0275text"](27,"Impuestos internos"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"div"),C["\u0275\u0275text"](29),C["\u0275\u0275pipe"](30,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](31,"div",70),C["\u0275\u0275elementStart"](32,"div"),C["\u0275\u0275text"](33,"Tasa SSN"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](34,"div"),C["\u0275\u0275text"](35),C["\u0275\u0275pipe"](36,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](37,"div",70),C["\u0275\u0275elementStart"](38,"div"),C["\u0275\u0275text"](39,"Servicios sociales"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](40,"div"),C["\u0275\u0275text"](41),C["\u0275\u0275pipe"](42,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](43,"div",70),C["\u0275\u0275elementStart"](44,"div"),C["\u0275\u0275text"](45,"Seguridad vial"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](46,"div"),C["\u0275\u0275text"](47),C["\u0275\u0275pipe"](48,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](49,"div",70),C["\u0275\u0275elementStart"](50,"div"),C["\u0275\u0275text"](51,"Sellados"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](52,"div"),C["\u0275\u0275text"](53),C["\u0275\u0275pipe"](54,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](55,"div",70),C["\u0275\u0275elementStart"](56,"div"),C["\u0275\u0275text"](57,"IVA"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](58,"div"),C["\u0275\u0275text"](59),C["\u0275\u0275pipe"](60,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]().ngIf;C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](6,10,null==n||null==n.cost?null:n.cost.administrativecharge,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](12,13,(null==n||null==n.cost?null:n.cost.submissionfee)+(null==n||null==n.package||null==n.package.premiums?null:n.package.premiums.assistance),"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](18,16,(null==n||null==n.package||null==n.package.premiums?null:n.package.premiums.total)+(null==n||null==n.cost?null:n.cost.submissionfee)+(null==n||null==n.package||null==n.package.premiums?null:n.package.premiums.assistance)+(null==n||null==n.cost?null:n.cost.administrativecharge),"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](24,19,null==n||null==n.cost?null:n.cost.financial,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](30,22,null==n||null==n.cost?null:n.cost.internaltax,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](36,25,null==n||null==n.cost?null:n.cost.ssnrate,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](42,28,null==n||null==n.cost?null:n.cost.socialservice,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](48,31,null==n||null==n.cost?null:n.cost.vialrate,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](54,34,null==n||null==n.cost||null==n.cost.sellado?null:n.cost.sellado.total,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](60,37,null==n||null==n.cost||null==n.cost.iva?null:n.cost.iva.total,"1.0-0")," ")}}function Qe(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"table",63),C["\u0275\u0275elementStart"](1,"tbody"),C["\u0275\u0275elementStart"](2,"tr"),C["\u0275\u0275elementStart"](3,"td"),C["\u0275\u0275text"](4,"Dcto. promocional"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"th",64),C["\u0275\u0275text"](6),C["\u0275\u0275pipe"](7,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"tr"),C["\u0275\u0275elementStart"](9,"td"),C["\u0275\u0275text"](10,"Prima Comisionable"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"th",64),C["\u0275\u0275text"](12),C["\u0275\u0275pipe"](13,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"tr"),C["\u0275\u0275elementStart"](15,"td",65),C["\u0275\u0275elementStart"](16,"div",66),C["\u0275\u0275elementStart"](17,"div"),C["\u0275\u0275text"](18,"Premio total"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"sxf-icon",67),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]();return e.expandedDetail=!e.expandedDetail})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](20,"div"),C["\u0275\u0275text"](21),C["\u0275\u0275pipe"](22,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](23,qe,61,40,"div",68),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"tr"),C["\u0275\u0275elementStart"](25,"td"),C["\u0275\u0275text"](26,"Cuota"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](27,"th",64),C["\u0275\u0275text"](28),C["\u0275\u0275pipe"](29,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.ngIf,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $",C["\u0275\u0275pipeBind2"](7,7,null==i||null==i.cost?null:i.cost.discount,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](13,10,null==i||null==i.package||null==i.package.premiums?null:i.package.premiums.total,"1.0-0")," "),C["\u0275\u0275advance"](7),C["\u0275\u0275classMap"](r.expandedDetail?"icon-down":"icon-arrow-left"),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](22,13,null==i||null==i.cost?null:i.cost.total,"1.0-0")," "),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",r.expandedDetail),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](29,16,null==i||null==i.cost?null:i.cost.invoice,"1.0-0")," ")}}function Ue(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1,"Contratar"),C["\u0275\u0275elementEnd"]())}function ze(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1," Contratando "),C["\u0275\u0275element"](2,"ng-lottie",71),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",n.lottieConfig)}}function Ge(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",72),C["\u0275\u0275elementStart"](1,"div",73),C["\u0275\u0275elementStart"](2,"button",45),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.ngIf,i=C["\u0275\u0275nextContext"]();return 105===e.code?i.goThankYouPage():i.closeModal()})),C["\u0275\u0275text"](3," Aceptar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}}function He(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"tr"),C["\u0275\u0275elementStart"](1,"td"),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"td"),C["\u0275\u0275elementStart"](4,"b"),C["\u0275\u0275text"](5),C["\u0275\u0275pipe"](6,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",n.pattern.description," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](6,2,(null==n.terms[0].value?null:n.terms[0].value.current)||n.terms[0].value,"1.0-0")," ")}}function Ye(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"table",82),C["\u0275\u0275elementStart"](1,"tbody"),C["\u0275\u0275template"](2,He,7,5,"tr",33),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]().$implicit,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngForOf",i.getSelectedAdditionals(n))}}function We(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"td",83),C["\u0275\u0275elementStart"](1,"a",84),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"]().goCoverageVehicles(e.id)})),C["\u0275\u0275text"](2," Editar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}}function Je(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"tr"),C["\u0275\u0275elementStart"](1,"td",74),C["\u0275\u0275elementStart"](2,"b"),C["\u0275\u0275text"](3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](4,"br"),C["\u0275\u0275text"](5),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"td",74),C["\u0275\u0275text"](7," Suma asegurada "),C["\u0275\u0275element"](8,"br"),C["\u0275\u0275elementStart"](9,"b"),C["\u0275\u0275text"](10),C["\u0275\u0275pipe"](11,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"td",74),C["\u0275\u0275text"](13," Cobertura "),C["\u0275\u0275element"](14,"br"),C["\u0275\u0275elementStart"](15,"b"),C["\u0275\u0275text"](16),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"td",74),C["\u0275\u0275text"](18," Asistencia mec\xe1nica "),C["\u0275\u0275element"](19,"br"),C["\u0275\u0275elementStart"](20,"b"),C["\u0275\u0275text"](21),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](22,"td",75),C["\u0275\u0275template"](23,Ye,3,1,"ng-template",null,76,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementStart"](25,"div",77),C["\u0275\u0275element"](26,"input",54),C["\u0275\u0275elementStart"](27,"div",78),C["\u0275\u0275elementStart"](28,"span",79),C["\u0275\u0275element"](29,"sxf-icon",80),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](30,We,3,0,"td",81),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=C["\u0275\u0275reference"](24),r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate2"]("",n.brand.description," ",n.year,""),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",n.model.description," "),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate1"](" $ ",C["\u0275\u0275pipeBind2"](11,9,n.statedamount||n.model.statementamount,"1.0-0")," "),C["\u0275\u0275advance"](6),C["\u0275\u0275textInterpolate"](r.getSelectedPackage(n)),C["\u0275\u0275advance"](5),C["\u0275\u0275textInterpolate"](r.getSelectedMechanicalAssistance(n)),C["\u0275\u0275advance"](5),C["\u0275\u0275propertyInterpolate1"]("value","",r.getSelectedAdditionals(n).length," adicionales"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngbTooltip",r.getSelectedAdditionals(n).length>0?i:""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!r.disabledByRetrieve)}}var Xe,Ze=function(){return{suppressScrollY:!1}},Ke=function(){return{size:"xl"}},et=function(){return{backdrop:"static",keyboard:!1}},tt=((Xe=function(){function e(t,n,i,r,o,l,a,s,c,d,u,p,v){_classCallCheck(this,e),this.producerService=t,this.router=n,this.storePolicy=i,this.storeEmission=r,this.quotingService=o,this.storeQuote=l,this.fiscalConditionService=a,this.notificationService=s,this.quoteIssueAdapter=c,this.paymentMethodService=d,this.paymentPlansService=u,this.producerStore=p,this.storeProducer=v,this.lottieConfig={path:"/assets/loadings/sura-loader.json"},this.child_component={},this.uwEmision={},this.vehicleDetails={},this.modalEditCoverage={},this.currentPolicy={},this.currentMotor={},this.packageSelected={},this.mechanicalAssistance=null,this.isFromRetrieve=null,this.fromRetrieve=!1,this.issueError$=new de.a,this.subject=new R.a,this.loadingIssue$=new R.a,this.loadingFromRetrieve$=null,this.vehicles$=new de.a,this.packageSelectedWithAssistance$=new de.a,this.brandModelPrizeCar$=new de.a,this.rebillingPeriod$=new de.a,this.fiscalCondition$=new de.a,this.additionals$=new de.a,this.discountAndCommission$=new de.a,this.campaign$=new de.a,this.installments$=new de.a,this.payment$=new de.a,this.formsValid$=new de.a,this.expandedDetail=null,this.getQuoteApproved=!1,this.paymentMethod$=new de.a,this.paymentPlan$=new de.a,this.emissionStoreSubscription=new m.a,this.emissionStoreSubscriptionRetrieve=new m.a,this.policyStoreProducerSubscription=new m.a,this.producerServiceSubscription=new m.a,this.policyStoreSubscription=new m.a,this.producerStoreSubscription=new m.a,this.isApprovedEmission=!1,this.disabledByRetrieve=null,this.formCampaign=new L.FormControl({value:"",disabled:!0}),this.updateCostSubscription=new m.a,this.producerSubscription=new m.a,this.currentproducer={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.loadingIssue$.next(!1),this.loadingFromRetrieve$=Object(p.a)([this.storeEmission.select(c.k),this.storePolicy.select(u.b)]).pipe(Object(y.a)((function(t){var n=t[0],i=t[1];return e.isFromRetrieve=!!n,n&&!i.documentNumber?Object(v.a)(!1):Object(v.a)(!0)}))),this.emissionStoreSubscriptionRetrieve=this.storeEmission.select(c.d).subscribe((function(t){e.fromRetrieve=!!t.jobNumberFromQuotes})),this.fromRetrieve&&(this.policyStoreSubscription=this.storePolicy.select(u.p).subscribe((function(t){e.storeProducer.dispatch(new ce.c(t.producer.code)),e.producerServiceSubscription=e.producerService.getProfile(t.producer.code).subscribe((function(t){e.storeProducer.dispatch(new ce.d(t))}))}))),this.producerSubscription=this.producerStore.select(se.a).subscribe((function(t){e.currentproducer=t})),this.formsValid$=Object(p.a)([this.storeEmission.select(c.f),this.storeEmission.select(c.h),this.storeEmission.select(c.i),this.storeEmission.select(c.j),this.storeEmission.select(c.g)]).pipe(Object(y.a)((function(e){return e[0]&&e[1]&&e[2]&&e[3]&&e[4]?Object(v.a)(!1):Object(v.a)(!0)}))),this.payment$=this.storePolicy.select(u.p).pipe(Object(y.a)((function(e){if(null!==e.payment.id)return Object(v.a)(!1);var t=new P.PaymentValidations(e.payment);return t.completeModel()&&t.validatePayment()?Object(v.a)(!1):Object(v.a)(!0)}))),this.vehicles$=this.storePolicy.select(u.p).pipe(Object(y.a)((function(e){var t=e.motor.vehicles;return Object(v.a)(t)}))),this.packageSelectedWithAssistance$=Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v),this.storeEmission.select(c.k),this.storeQuote.select(D.p)]).pipe(Object(y.a)((function(t){var n,i,r,o,l;e.currentPolicy=t[0],e.currentMotor=t[0].motor.vehicles.find((function(e){return e.number===t[1].activeMotor}));var a=t[0].motor.vehicles.find((function(e){return e.number===t[1].activeMotor}));if(e.getQuoteApproved=t[3],null===(null==a?void 0:a.year))return Object(v.a)({});var s=null===(n=null==a?void 0:a.packages)||void 0===n?void 0:n.find((function(e){return e.selected})),c=null===(i=null==s?void 0:s.coverages)||void 0===i?void 0:i.find((function(e){return"SURA_CA7_AsistenciaMecanicaCov"===e.pattern.code})),d=null===(r=e.currentPolicy)||void 0===r?void 0:r.costs[0];return Object(v.a)({package:s,assistance:c?null===(l=null===(o=c.terms[0])||void 0===o?void 0:o.value)||void 0===l?void 0:l.current:"NoAssistance",cost:d})}))),this.additionals$=Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v)]).pipe(Object(y.a)((function(e){var t,n,i,r=e[0].motor.vehicles.filter((function(t){return t.number===e[1].activeMotor}))[0];if(null===r.year)return Object(v.a)({additionalsLenght:0,additionals:[]});var o=null===(i=null===(n=null===(t=null==r?void 0:r.packages)||void 0===t?void 0:t.find((function(e){return e.selected})))||void 0===n?void 0:n.coverages)||void 0===i?void 0:i.filter((function(e){return"SURA_CA7_ClausulaDeAjusteCov"!==e.pattern.code&&"SURA_CA7_AsistenciaMecanicaCov"!==e.pattern.code&&!e.pattern.code.startsWith("SURA_CA7_Mobility")})).filter((function(e){return"SURA_CA7_CobAdicionalesGrp"===e.category.code||"SURA_CA7_AccesoriosGrp"===e.category.code}));return Object(v.a)({additionalsLenght:null==o?void 0:o.length,additionals:o})}))),this.brandModelPrizeCar$=Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v)]).pipe(Object(y.a)((function(e){var t,n,i,r=e[0].motor.vehicles.filter((function(t){return t.number===e[1].activeMotor}))[0];return null===r.year?Object(v.a)({}):Object(v.a)({type:r.group,brand:null===(t=null==r?void 0:r.brand)||void 0===t?void 0:t.description,model:null===(n=null==r?void 0:r.model)||void 0===n?void 0:n.description,prize:r.statedamount||(null===(i=null==r?void 0:r.model)||void 0===i?void 0:i.statementamount)})}))),this.rebillingPeriod$=this.storePolicy.select(u.p).pipe(Object(y.a)((function(e){var t="";switch(e.period.method){case"Sura_ThreeMonths":t="Trimestral";break;case"HalfYear":t="Semestral";break;case"Sura_OneMonth":t="Mensual";break;case"Annual":t="Anual"}return Object(v.a)(t)}))),this.fiscalCondition$=Object(p.a)([this.storePolicy.select(u.p),this.fiscalConditionService.getAllFiscalCondition()]).pipe(Object(y.a)((function(e){var t=e[1].filter((function(t){return t.code===e[0].fiscalcondition}))[0].description;return Object(v.a)(t)}))),this.discountAndCommission$=this.storePolicy.select(u.p).pipe(Object(y.a)((function(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.motor)||void 0===t?void 0:t.discounts.find((function(e){return"SuraCA7_ExternalComercialDiscount"===e.code})))||void 0===n?void 0:n.value;return Object(v.a)({discount:i,commission:e.motor.commission.producer})}))),this.campaign$=this.storePolicy.select(u.p).pipe(Object(T.a)("campaign"),Object(y.a)((function(e){return(null==e?void 0:e.campaign)?Object(v.a)([e.campaign]):Object(v.a)(null)})),Object(f.a)((function(t){null!==t&&e.formCampaign.setValue(t[0].id)}))),this.installments$=this.storePolicy.select(u.p).pipe(Object(me.a)((function(e){return e.paymentTerm.maximumnumberofinstallments}))),this.issueError$=this.subject.pipe(Object(pe.a)()),this.emissionStoreSubscription=this.storeEmission.select(c.d).subscribe((function(t){e.isApprovedEmission=t.approvedEmission,e.disabledByRetrieve=!!t.jobNumberFromQuotes})),this.paymentMethod$=this.storePolicy.select(u.p).pipe(Object(T.a)("payment"),Object(y.a)((function(t){return t.payment?e.paymentMethodService.getAllPaymentMethods(t.job).pipe(Object(y.a)((function(e){return Object(v.a)(e.filter((function(e){return e.code===t.payment.method}))[0])}))):Object(v.a)(ue.a)}))),this.paymentPlan$=this.storePolicy.select(u.p).pipe(Object(g.a)(),Object(y.a)((function(t){return t?e.paymentPlansService.getAllPaymentPlans("ars",t.payment.method,t.producer.code,new Date(t.period.start).toISOString(),new Date(t.period.end).toISOString()).pipe(Object(y.a)((function(n){var i=n.find((function(e){return e.code===t.payment.plan.code}));return e.storePolicy.dispatch(new d.s(i)),Object(v.a)(i)}))):Object(v.a)(ue.a)})))}},{key:"ngOnDestroy",value:function(){var e,t,n,i,r,o,l,a;null===(e=this.producerServiceSubscription)||void 0===e||e.unsubscribe(),null===(t=this.policyStoreSubscription)||void 0===t||t.unsubscribe(),null===(n=this.emissionStoreSubscription)||void 0===n||n.unsubscribe(),null===(i=this.emissionStoreSubscriptionRetrieve)||void 0===i||i.unsubscribe(),null===(r=this.producerStoreSubscription)||void 0===r||r.unsubscribe(),null===(o=this.policyStoreProducerSubscription)||void 0===o||o.unsubscribe(),null===(l=this.updateCostSubscription)||void 0===l||l.unsubscribe(),null===(a=this.producerSubscription)||void 0===a||a.unsubscribe()}},{key:"checkUW",value:function(){this.issuePolicy()}},{key:"issuePolicy",value:function(){var e=this;if(this.loadingIssue$.next(!0),this.isApprovedEmission)this.quotingService.emitPolicy(this.currentPolicy).subscribe((function(t){return e.issueSuccess(t)}),(function(t){return e.issueError(t)}));else{var t=this.quoteIssueAdapter.adapt(this.currentPolicy);this.quotingService.issuePolicy(t).subscribe((function(t){return e.issueSuccess(t)}),(function(t){return e.issueError(t)}))}}},{key:"closeModal",value:function(){this.child_component.closeModal()}},{key:"goThankYouPage",value:function(){this.child_component.closeModal(),this.storeEmission.dispatch(new s.p(!0)),this.router.navigateByUrl("quoting/thankyou")}},{key:"closeUWModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"continue"===e&&this.issuePolicy(),this.uwEmision.closeModal()}},{key:"getAssistanceDescription",value:function(e){var t,n=e;return Object(v.a)((null===(t=[{code:"SOSBasic",description:"SOS B\xe1sica"},{code:"SOSPremium",description:"SOS Premium"},{code:"NoAssistance",description:"Sin Asistencia"}].find((function(e){return e.code===n})))||void 0===t?void 0:t.description)||"Sin Asistencia")}},{key:"goCoverage",value:function(){this.router.navigateByUrl("quoting/coverage/"+this.currentMotor.number)}},{key:"goQuote",value:function(){this.storeQuote.dispatch(new a.i("motor/"+this.currentMotor.number+"/sum")),this.storeQuote.dispatch(new a.q("motor")),this.router.navigateByUrl("/quoting/quote/questions/motor/"+this.currentMotor.number+"/sum"),this.modalEditCoverage.closeModal()}},{key:"openModal",value:function(){this.modalEditCoverage.openModal()}},{key:"goCoverageVehicles",value:function(e){this.storeQuote.dispatch(new a.r(e)),this.closeVehicleDetails(),this.router.navigateByUrl("quoting/coverage/"+e)}},{key:"issueSuccess",value:function(e){var t,n;this.loadingIssue$.next(!1),e.inspection&&this.storePolicy.dispatch(new d.w(e.inspection.status)),e.policynumber?(this.storePolicy.dispatch(new d.D(e.policynumber)),this.storeEmission.dispatch(new s.p(!1)),this.router.navigateByUrl(e.inspection?this.currentMotor.zerokm?"quoting/thankyou":"quoting/inspection":"quoting/thankyou")):(null===(t=e.inspection)||void 0===t?void 0:t.status)?(this.storeEmission.dispatch(new s.p(!1)),this.router.navigateByUrl(this.currentMotor.zerokm?"quoting/thankyou":"quoting/inspection")):(null===(n=e.error)||void 0===n?void 0:n.code)===ve.a.UNDERWRITER?(this.storeEmission.dispatch(new s.p(!0)),this.router.navigateByUrl("quoting/thankyou")):(this.subject.next(e.error),this.child_component.openModal())}},{key:"issueError",value:function(e){this.loadingIssue$.next(!1),e.code===ve.a.UNDERWRITER?(this.storeEmission.dispatch(new s.p(!0)),this.router.navigateByUrl("quoting/thankyou")):e.message.includes("Bad Request")?this.notificationService.notify({code:-2,description:"Ha ocurrido un error, por favor intentelo mas tarde"}):this.notificationService.notify({code:-2,description:e.message.replace(/^[^:]+: */,"")})}},{key:"openVehicleDetails",value:function(){this.vehicleDetails.openModal()}},{key:"closeVehicleDetails",value:function(){this.vehicleDetails.closeModal()}},{key:"getSelectedPackage",value:function(e){var t,n,i;return(null===(n=null===(t=e.packages)||void 0===t?void 0:t.find((function(e){return e.selected})))||void 0===n?void 0:n.description)||(null===(i=e.package)||void 0===i?void 0:i.description)}},{key:"getSelectedMechanicalAssistance",value:function(e){var t,n,i,r,o,l,a,s,c=(null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.packages)||void 0===t?void 0:t.find((function(e){return e.selected})))||void 0===n?void 0:n.coverages)||void 0===i?void 0:i.find((function(e){return"SURA_CA7_AsistenciaMecanicaCov"===e.pattern.code})))||void 0===r?void 0:r.terms[0])||(null===(a=null===(l=null===(o=e.package)||void 0===o?void 0:o.coverages)||void 0===l?void 0:l.find((function(e){return"SURA_CA7_AsistenciaMecanicaCov"===e.pattern.code})))||void 0===a?void 0:a.terms[0]);return(null===(s=[{value:"SOSBasic",description:"SOS B\xe1sica"},{value:"SOSPremium",description:"SOS Premium"},{value:"NoAssistance",description:"Sin Asistencia"}].find((function(e){var t;return e.value===(null===(t=null==c?void 0:c.value)||void 0===t?void 0:t.current)})))||void 0===s?void 0:s.description)||"Sin Asistencia"}},{key:"getSelectedAdditionals",value:function(e){var t,n,i,r=(null===(n=null===(t=e.packages)||void 0===t?void 0:t.find((function(e){return e.selected})))||void 0===n?void 0:n.coverages)||(null===(i=e.package)||void 0===i?void 0:i.coverages),o=["SURA_CA7_CobAdicionalesGrp","SURA_CA7_AccesoriosGrp"],l=["SURA_CA7_AsistenciaMecanicaCov","SURA_CA7_ClausulaDeAjusteCov","SURA_CA7_MobilityTheftDamageCov","SURA_CA7_MobilityDeathCov","SURA_CA7_MobilityIncapacityCov","SURA_CA7_MobilityBoneFractureCov","SURA_CA7_MobilityInterIncomeCov","SURA_CA7_MobilityDamageToThirdCov","SURA_CA7_MobilityTheftPersonalEffectsCov","SURA_CA7_MobilityTheftPersonalDocCov","SURA_CA7_MobilityTheftElectronicEquipCov"];return(null==r?void 0:r.filter((function(e){var t,n;return o.includes(null===(t=null==e?void 0:e.category)||void 0===t?void 0:t.code)&&!l.includes(null===(n=null==e?void 0:e.pattern)||void 0===n?void 0:n.code)})))||[]}}]),e}()).\u0275fac=function(e){return new(e||Xe)(C["\u0275\u0275directiveInject"](he.ProducerService),C["\u0275\u0275directiveInject"](i.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.QuotingService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.FiscalConditionService),C["\u0275\u0275directiveInject"](be.a),C["\u0275\u0275directiveInject"](fe.a),C["\u0275\u0275directiveInject"](P.PaymentMethodService),C["\u0275\u0275directiveInject"](P.PaymentPlansService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h))},Xe.\u0275cmp=C["\u0275\u0275defineComponent"]({type:Xe,selectors:[["sxf-details"]],viewQuery:function(e,t){var n;1&e&&(C["\u0275\u0275viewQuery"](ge,!0),C["\u0275\u0275viewQuery"](Se,!0),C["\u0275\u0275viewQuery"](Ee,!0),C["\u0275\u0275viewQuery"](xe,!0)),2&e&&(C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.child_component=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.uwEmision=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.vehicleDetails=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalEditCoverage=n.first))},decls:128,vars:84,consts:[[1,"details","sticky-top","p-3"],[1,"row"],[1,"row","ml-0"],[1,"col-lg-12","pt-3"],["class","title",4,"ngIf"],[1,"col-lg-12",2,"position","relative","height","calc(90vh - 80px)",3,"perfectScrollbar"],["class","row mt-2",4,"ngIf"],[1,"row","item-title","mt-4"],[1,"col-lg-6"],["class","row item-title mt-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","mb-1"],[1,"row","mt-3"],[1,"col-lg-12"],[1,"tsummary","mb-3"],["class","table table-sm table-borderless",4,"ngIf"],[1,"row","py-3",2,"box-shadow","0px -1px 4px rgba(0, 0, 0, 0.18)","position","fixed","bottom","0","width","25%","height","auto","background","#ffffff","z-index","2000"],[1,"continue","btn","btn-primary","btn-lg","btn-block","btn-next-screen",3,"disabled","click"],[4,"ngIf"],["childComp",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","modal-footer",4,"ngIf"],[3,"options"],["vehicleDetails",""],[1,"modal-header","modal-header-items"],["id","modal-basic-title",1,"modal-vehicle-title"],["type","button","aria-label","Close","name","closeModalBtn",1,"close",3,"click"],[1,"modal-body","modal-body-items"],["id","details-table",1,"details-table",2,"max-width","100%","min-width","100%","width","100%"],[4,"ngFor","ngForOf"],["modalEditCoverage",""],[1,"modal-header",2,"padding-bottom","25px !important"],["id","modal-basic-title",2,"padding-left","15px","font-size","18px !important","font-weight","700","color","#0033a0"],["type","button","aria-label","Close","name","closeModalBtn",1,"close","closeButtom",2,"padding-top","15px","padding-right","63px","padding-bottom","0px",3,"click"],["aria-hidden","true",2,"font-size","3rem","color","#06369e"],[1,"col-lg-10"],[1,"modal-title",2,"font-size","2rem !important"],[1,"modal-footer",2,"padding-top","54px !important"],[1,"col-lg-4","offset-lg-3","pl-0"],["type","button",1,"btn","btn-modal","btn-lg","btn-block",3,"click"],[1,"col-lg-5","pl-0"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"title"],[1,"row","mt-2"],["class","col-lg-6",4,"ngIf"],[1,"change-coverage",2,"cursor","pointer",3,"click"],[1,"quantityVehicles"],[1,"show-detail",2,"cursor","pointer",3,"click"],["tipContent",""],[1,"input-group",2,"margin-top","-15px",3,"ngbTooltip"],["readonly","","type","text",1,"form-control",2,"cursor","pointer",3,"value"],[1,"input-group-append"],[1,"input-group-text"],["type","view",1,"icon-blue"],[1,"table-sm"],[2,"border-bottom","solid 1px"],["for","campaign"],["disabledOnEmpty","true","bindLabel","description","bindValue","id","name","campaign",3,"formControl","items","multiple","searchable","placeholder","dropdownPosition"],["campaign",""],[1,"table","table-sm","table-borderless"],[1,"text-right"],["colspan","2",1,"costs-details"],[1,"main"],[3,"click"],["class","childrens",4,"ngIf"],[1,"childrens"],[1,"child"],["width","4.75rem","height","2.25rem",3,"options"],[1,"modal-footer"],[1,"offset-8","col-4"],["width","17%"],["width","15%"],["tooltipContent",""],[1,"input-group"],["id","detail-tooltip",1,"input-group-append"],["placement","bottom",1,"input-group-text",3,"ngbTooltip"],["type","view",1,"icon-green"],["width","17%","class","text-center",4,"ngIf"],[1,"additional-table"],["width","17%",1,"text-center"],[1,"edit-vehicle-coverage",3,"click"]],template:function(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275template"](4,Ce,3,3,"span",4),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275template"](6,Pe,2,0,"span",4),C["\u0275\u0275pipe"](7,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",5),C["\u0275\u0275template"](9,Ie,4,4,"div",6),C["\u0275\u0275pipe"](10,"async"),C["\u0275\u0275template"](11,Me,8,3,"div",6),C["\u0275\u0275pipe"](12,"async"),C["\u0275\u0275elementStart"](13,"div",7),C["\u0275\u0275elementStart"](14,"div",8),C["\u0275\u0275elementStart"](15,"span"),C["\u0275\u0275text"](16,"C\xf3digo de Productor"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",8),C["\u0275\u0275elementStart"](18,"span"),C["\u0275\u0275text"](19,"Productor"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](20,"div",1),C["\u0275\u0275elementStart"](21,"div",8),C["\u0275\u0275elementStart"](22,"span"),C["\u0275\u0275text"](23),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"div",8),C["\u0275\u0275elementStart"](25,"span"),C["\u0275\u0275text"](26),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](27,Oe,9,5,"div",9),C["\u0275\u0275pipe"](28,"async"),C["\u0275\u0275template"](29,_e,11,11,"div",10),C["\u0275\u0275pipe"](30,"async"),C["\u0275\u0275template"](31,Ne,7,0,"div",9),C["\u0275\u0275pipe"](32,"async"),C["\u0275\u0275template"](33,je,10,9,"div",10),C["\u0275\u0275pipe"](34,"async"),C["\u0275\u0275template"](35,Ve,5,0,"div",9),C["\u0275\u0275pipe"](36,"async"),C["\u0275\u0275template"](37,Re,15,9,"div",10),C["\u0275\u0275pipe"](38,"async"),C["\u0275\u0275template"](39,De,7,0,"div",9),C["\u0275\u0275pipe"](40,"async"),C["\u0275\u0275template"](41,Le,9,6,"div",10),C["\u0275\u0275pipe"](42,"async"),C["\u0275\u0275template"](43,Fe,7,0,"div",9),C["\u0275\u0275pipe"](44,"async"),C["\u0275\u0275template"](45,Te,9,6,"div",10),C["\u0275\u0275pipe"](46,"async"),C["\u0275\u0275elementStart"](47,"div",7),C["\u0275\u0275elementStart"](48,"div",8),C["\u0275\u0275elementStart"](49,"span"),C["\u0275\u0275text"](50,"Dto"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](51,"div",8),C["\u0275\u0275elementStart"](52,"span"),C["\u0275\u0275text"](53,"Comisi\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](54,"div",11),C["\u0275\u0275elementStart"](55,"div",8),C["\u0275\u0275elementStart"](56,"span"),C["\u0275\u0275text"](57),C["\u0275\u0275pipe"](58,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](59,"div",8),C["\u0275\u0275elementStart"](60,"span"),C["\u0275\u0275text"](61),C["\u0275\u0275pipe"](62,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](63,$e,6,8,"div",10),C["\u0275\u0275pipe"](64,"async"),C["\u0275\u0275elementStart"](65,"div",12),C["\u0275\u0275elementStart"](66,"div",13),C["\u0275\u0275elementStart"](67,"div",14),C["\u0275\u0275template"](68,Qe,30,19,"table",15),C["\u0275\u0275pipe"](69,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](70,"div",16),C["\u0275\u0275elementStart"](71,"div",13),C["\u0275\u0275elementStart"](72,"button",17),C["\u0275\u0275listener"]("click",(function(){return t.checkUW()})),C["\u0275\u0275pipe"](73,"async"),C["\u0275\u0275pipe"](74,"async"),C["\u0275\u0275pipe"](75,"async"),C["\u0275\u0275template"](76,Ue,2,0,"span",18),C["\u0275\u0275pipe"](77,"async"),C["\u0275\u0275template"](78,ze,3,1,"span",18),C["\u0275\u0275pipe"](79,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](80,"sxf-modal",null,19),C["\u0275\u0275elementStart"](82,"div",20),C["\u0275\u0275elementStart"](83,"h4",21),C["\u0275\u0275text"](84," Error "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](85,"button",22),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275elementStart"](86,"span",23),C["\u0275\u0275text"](87,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](88,"div",24),C["\u0275\u0275elementStart"](89,"p"),C["\u0275\u0275text"](90),C["\u0275\u0275pipe"](91,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](92,Ge,4,0,"div",25),C["\u0275\u0275pipe"](93,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](94,"sxf-modal",26,27),C["\u0275\u0275elementStart"](96,"div",28),C["\u0275\u0275elementStart"](97,"div",29),C["\u0275\u0275text"](98," Autos a asegurar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](99,"button",30),C["\u0275\u0275listener"]("click",(function(){return t.closeVehicleDetails()})),C["\u0275\u0275elementStart"](100,"span",23),C["\u0275\u0275text"](101,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](102,"br"),C["\u0275\u0275elementStart"](103,"div",31),C["\u0275\u0275elementStart"](104,"table",32),C["\u0275\u0275template"](105,Je,31,12,"tr",33),C["\u0275\u0275pipe"](106,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](107,"sxf-modal",26,34),C["\u0275\u0275elementStart"](109,"div",35),C["\u0275\u0275elementStart"](110,"h4",36),C["\u0275\u0275text"](111," Editar cotizaci\xf3n "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](112,"button",37),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275elementStart"](113,"span",38),C["\u0275\u0275text"](114," \xd7 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](115,"div",24),C["\u0275\u0275elementStart"](116,"div",39),C["\u0275\u0275elementStart"](117,"h4",40),C["\u0275\u0275text"](118," Al editar cualquier dato de la cotizaci\xf3n, se recotizar\xe1 con las tarifas actuales. \xbfQuer\xe9s editarla de todos modos? "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](119,"div",41),C["\u0275\u0275elementStart"](120,"div",1),C["\u0275\u0275elementStart"](121,"div",42),C["\u0275\u0275elementStart"](122,"button",43),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275reference"](108).closeModal()})),C["\u0275\u0275text"](123," Cancelar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](124,"div",44),C["\u0275\u0275elementStart"](125,"button",45),C["\u0275\u0275listener"]("click",(function(){return t.goQuote()})),C["\u0275\u0275elementStart"](126,"span"),C["\u0275\u0275text"](127,"Editar Cotizaci\xf3n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i,r,o,l,a,s,c,d,u,m,p,v,h,b,f,y,g,S=1===(null==(i=C["\u0275\u0275pipeBind1"](5,29,t.vehicles$))?null:i.length),E=(null==(r=C["\u0275\u0275pipeBind1"](7,31,t.vehicles$))?null:r.length)>1,x=1===(null==(o=C["\u0275\u0275pipeBind1"](10,33,t.vehicles$))?null:o.length),P=(null==(l=C["\u0275\u0275pipeBind1"](12,35,t.vehicles$))?null:l.length)>1,w=1===(null==(a=C["\u0275\u0275pipeBind1"](28,37,t.vehicles$))?null:a.length),k=1===(null==(s=C["\u0275\u0275pipeBind1"](30,39,t.vehicles$))?null:s.length),I=1===(null==(c=C["\u0275\u0275pipeBind1"](32,41,t.vehicles$))?null:c.length),M=1===(null==(d=C["\u0275\u0275pipeBind1"](34,43,t.vehicles$))?null:d.length),O=1===(null==(u=C["\u0275\u0275pipeBind1"](36,45,t.vehicles$))?null:u.length),_=1===(null==(m=C["\u0275\u0275pipeBind1"](38,47,t.vehicles$))?null:m.length),N=(null==(p=C["\u0275\u0275pipeBind1"](40,49,t.vehicles$))?null:p.length)>1,j=(null==(v=C["\u0275\u0275pipeBind1"](42,51,t.vehicles$))?null:v.length)>1,V=(null==(h=C["\u0275\u0275pipeBind1"](44,53,t.vehicles$))?null:h.length)>1,A=(null==(b=C["\u0275\u0275pipeBind1"](46,55,t.vehicles$))?null:b.length)>1;C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngIf",S),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",E),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("perfectScrollbar",C["\u0275\u0275pureFunction0"](81,Ze)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",x),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",P),C["\u0275\u0275advance"](12),C["\u0275\u0275textInterpolate1"](" ",t.currentproducer.code," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"](" ",t.currentproducer.description," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",w),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",k),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",I),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",M),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",O),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",_),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",N),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",j),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",V),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",A),C["\u0275\u0275advance"](12),C["\u0275\u0275textInterpolate1"]("",(null==(f=C["\u0275\u0275pipeBind1"](58,57,t.discountAndCommission$))?null:f.discount)||0,"%"),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"]("",(null==(y=C["\u0275\u0275pipeBind1"](62,59,t.discountAndCommission$))?null:y.commission)||0,"%"),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](64,61,t.campaign$)),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](69,63,t.packageSelectedWithAssistance$)),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",C["\u0275\u0275pipeBind1"](73,65,t.formsValid$)||C["\u0275\u0275pipeBind1"](74,67,t.payment$)||C["\u0275\u0275pipeBind1"](75,69,t.loadingIssue$)),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngIf",!0!==C["\u0275\u0275pipeBind1"](77,71,t.loadingIssue$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](79,73,t.loadingIssue$)),C["\u0275\u0275advance"](12),C["\u0275\u0275textInterpolate"](null==(g=C["\u0275\u0275pipeBind1"](91,75,t.issueError$))?null:g.description),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](93,77,t.issueError$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",C["\u0275\u0275pureFunction0"](82,Ke)),C["\u0275\u0275advance"](11),C["\u0275\u0275property"]("ngForOf",C["\u0275\u0275pipeBind1"](106,79,t.vehicles$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",C["\u0275\u0275pureFunction0"](83,et))}},directives:[I.o,ae.b,k.a,I.n,ye.o,Q.a,z.a,L.NgControlStatus,L.FormControlDirective,M.a],pipes:[I.b,I.x,I.f],styles:[".details[_ngcontent-%COMP%]{background:#fff;margin-top:1px;padding-top:0!important;border-left:1px solid #c4c4c4;background-color:#fff;font-size:.875rem;height:100vh}.details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.625rem;font-weight:700;color:#06369e}.details[_ngcontent-%COMP%]   .show-detail[_ngcontent-%COMP%]{float:right}.details[_ngcontent-%COMP%]   .change-coverage[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .show-detail[_ngcontent-%COMP%]{color:#00aec7;font-weight:700}.details[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#06369e;font-weight:700}.details[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem}.details[_ngcontent-%COMP%]   .tsummary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.details[_ngcontent-%COMP%]   .tsummary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #c4c4c4}.details[_ngcontent-%COMP%]   .tsummary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .tsummary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:0;padding-bottom:.05rem}input[type=text].form-control[_ngcontent-%COMP%]{border-top-left-radius:.5em;border-bottom-left-radius:.5em;border-top:.0625rem solid #c4c4c4;border-bottom:.0625rem solid #c4c4c4;border-right:none;background-color:transparent;padding:0!important;height:auto;box-shadow:none;color:#000}.icon-blue[_ngcontent-%COMP%]{color:#00aec7!important}.input-group-text[_ngcontent-%COMP%]{padding:0!important}.input-group-text[_ngcontent-%COMP%], .input-group-text[_ngcontent-%COMP%]:hover{border-top-right-radius:.5em;border-bottom-right-radius:.5em;border:1px solid #c4c4c4!important}.edit-vehicle-coverage[_ngcontent-%COMP%]{cursor:pointer!important;font-size:.9375rem!important;font-weight:700!important;color:#00aec7!important}input[type=text][_ngcontent-%COMP%]{text-align:center}.append[_ngcontent-%COMP%], .input-group-append[_ngcontent-%COMP%]{height:32px}.append[_ngcontent-%COMP%]{border-radius:1em;border-top:.0625rem solid #c4c4c4;border-bottom:.0625rem solid #c4c4c4;background-color:transparent;padding:0;box-shadow:none;color:#000;line-height:35px;padding-right:3px}.costs-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.costs-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-left:auto;font-weight:700}.costs-details[_ngcontent-%COMP%]   .childrens[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.costs-details[_ngcontent-%COMP%]   .childrens[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{margin-left:10px;border-bottom:1px solid #c4c4c4;font-weight:400;font-size:12px;padding:5px 0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.costs-details[_ngcontent-%COMP%]   .childrens[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]:last-child{border-bottom:none}.quantityVehicles[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-radius:5px;margin-left:1px;padding:6px}.modal-title[_ngcontent-%COMP%]{font-size:1rem}.modal-vehicle-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:400;color:#0033a0}.details-table[_ngcontent-%COMP%]{font-size:.875rem;margin-left:-20px}.details-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid #c4c4c4}.details-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #c4c4c4}.details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}.additional-table[_ngcontent-%COMP%]{tr-border-bottom:1px solid #c4c4c4}.additional-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{min-width:5rem;border-bottom:1px solid #000}"]}),Xe);function nt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"sxf-icon",15),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"]().currentRoute(e.path)})),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275property"]("routerLink",i.path)("disabled",i.disabled)}}function it(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"span",16),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"uppercase"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",C["\u0275\u0275pipeBind1"](2,1,n.value)," ")}}function rt(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275element"](1,"router-outlet"),C["\u0275\u0275elementEnd"]())}var ot=function(e,t){return{active:e,visited:t}};function lt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"li",6),C["\u0275\u0275elementStart"](1,"div",7),C["\u0275\u0275elementStart"](2,"div",8),C["\u0275\u0275elementStart"](3,"div",9),C["\u0275\u0275template"](4,nt,1,2,"sxf-icon",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"label",11),C["\u0275\u0275text"](6),C["\u0275\u0275template"](7,it,3,3,"span",12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",13),C["\u0275\u0275template"](9,rt,2,0,"div",14),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction2"](6,ot,n.path==i.routeActive,!(null===n.value||n.value.length<1))),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngIf",n.show&&!n.disabled),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",null===n.value||n.value.length<1?n.question:n.shortName+": "," "),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!(null===n.value||n.value.length<1)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngbCollapse",!n.show),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",n.path===i.routeActive)}}var at,st=function(){return{suppressScrollY:!1}},ct=((at=function(){function e(t){_classCallCheck(this,e),this.store=t,this.routes=[],this.routeActive=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.select(c.m).subscribe((function(t){e.routes=t})),this.store.select(c.a).subscribe((function(t){e.routeActive=t,""===t&&(e.store.dispatch(new s.c("client")),e.routeActive="client")}))}},{key:"currentRoute",value:function(e){this.store.dispatch(new s.c(e))}}]),e}()).\u0275fac=function(e){return new(e||at)(C["\u0275\u0275directiveInject"](r.h))},at.\u0275cmp=C["\u0275\u0275defineComponent"]({type:at,selectors:[["sxf-emission-questions"]],decls:8,vars:3,consts:[[1,"row"],[1,"col-lg-9","pr-2","ps",2,"position","relative","min-height","90vh","max-height","90vh","height","90vh",3,"perfectScrollbar"],[1,"questions","col-lg-10","offset-lg-1"],[1,"timeline","list-group"],["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-lg-3","px-0","ps"],[1,"list-group-item",3,"ngClass"],[1,"row","header"],[1,"col-lg-12","line"],[1,"float-right","edit"],["type","edit",3,"routerLink","disabled","click",4,"ngIf"],[1,"mb-2"],["class","item-value",4,"ngIf"],["id","collapseExample",3,"ngbCollapse"],["class"," ",4,"ngIf"],["type","edit",3,"routerLink","disabled","click"],[1,"item-value"],[1,""]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",0),C["\u0275\u0275elementStart"](3,"div",2),C["\u0275\u0275elementStart"](4,"ul",3),C["\u0275\u0275template"](5,lt,10,9,"li",4),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",5),C["\u0275\u0275element"](7,"sxf-details"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("perfectScrollbar",C["\u0275\u0275pureFunction0"](2,st)),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngForOf",t.routes))},directives:[ae.b,I.n,tt,I.m,I.o,ye.d,Q.a,i.i,i.k],pipes:[I.z],styles:[".list-group-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-bottom:0;border:0}.list-group-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:none;color:#768692;font-size:.875rem}.list-group-item.active[_ngcontent-%COMP%]{background-color:#fff;border-color:#fff;margin-bottom:2rem}.list-group-item.active[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:1.3rem}.list-group-item.active[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:none}.list-group-item.active[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.625rem;color:#06369e;font-weight:700;margin-bottom:0}.list-group-item.active[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:block}.list-group-item.active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-bottom:0}.list-group-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#c4c4c4}.list-group-item.visited[_ngcontent-%COMP%]:not(.active)   label[_ngcontent-%COMP%]{font-size:.9375rem;color:#c4c4c4;margin-bottom:0}.list-group-item.visited[_ngcontent-%COMP%]:not(.active)   label[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{color:#393b3d}.list-group-item[_ngcontent-%COMP%]:last-child   .line[_ngcontent-%COMP%]{border-bottom:0;padding-left:0}.line[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.125);padding-left:0}.questions[_ngcontent-%COMP%]{margin-top:1rem}"]}),at),dt=n("wgY5");function ut(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",10),C["\u0275\u0275elementStart"](2,"span",11),C["\u0275\u0275elementStart"](3,"b"),C["\u0275\u0275text"](4,"La fecha ingresada requiere autorizaci\xf3n."),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}var mt,pt=((mt=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.fb=t,this.storePolicy=n,this.flowRouteEmissionService=i,this.storeEmission=r,this.storeQuote=o,this.isLessThatToday$=new R.a,this.retroactiveVigence=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formValidaty=this.fb.group({beginningValidity:[,L.Validators.required]}),this.storeQuote.select(D.x).subscribe((function(t){e.today=dt(t,"YYYY-MM-DD"),e.date={year:e.today.year(),month:e.today.month()+1,day:e.today.date()};var n=dt(e.today).subtract(2,"months"),i=dt(e.today).add(30,"days");e.minDate={year:n.year(),month:n.month()+1,day:n.date()},e.maxDate={year:i.year(),month:i.month()+1,day:i.date()}})),this.storePolicy.select(u.o).subscribe((function(t){var n=dt(t.start,"YYYY-MM-DD"),i={year:n.year(),month:n.month()+1,day:n.date()};switch(t.method){case"Sura_ThreeMonths":default:e.rebillingMonths=3,e.rebillingCode="Sura_ThreeMonths"}e.formValidaty.get("beginningValidity").setValue(i,{emitEvent:!0});var r=new Date(i.year,i.month,i.day).toDateString(),o=dt(r);e.retroactiveVigence=o.subtract(1,"month").diff(e.today,"days")<0})).unsubscribe(),this.storeEmission.select(c.m).subscribe((function(t){e.routes=t})),this.formValidaty.get("beginningValidity").valueChanges.subscribe((function(t){if(null!==t){var n=new Date(t.year,t.month,t.day).toDateString(),i=dt(n);e.retroactiveVigence=i.subtract(1,"month").diff(e.today,"days")<0,e.periodData={start:i.format(),end:i.add(e.rebillingMonths,"months").format(),method:e.rebillingCode},e.storePolicy.dispatch(new d.A(e.periodData))}})),this.disabledByRetrieve$=Object(p.a)([this.storeEmission.select(c.d),this.storePolicy.select(u.p)]).subscribe((function(t){var n=t[1];e.disabledByRetrieve=!!(t[0].jobNumberFromQuotes&&t[0].approvedEmission&&n.period&&n.period.start)}))}},{key:"ngOnDestroy",value:function(){this.disabledByRetrieve$&&this.disabledByRetrieve$.unsubscribe()}},{key:"onEnter",value:function(){this.formValidaty.valid&&this.continue()}},{key:"continue",value:function(){var e=this;this.flowRouteEmissionService.enableRoute(this.routes,"aditionalauto/1"),this.storeEmission.dispatch(new s.c("aditionalauto/1")),this.routes.forEach((function(t){"validity"===t.path&&(t.value=e.formValidaty.get("beginningValidity").value.day+"/"+e.formValidaty.get("beginningValidity").value.month+"/"+e.formValidaty.get("beginningValidity").value.year)})),this.formValidaty.valid&&this.storeEmission.dispatch(new s.k(!0)),this.flowRouteEmissionService.enableRoute(this.routes,"aditionalauto/1")}}]),e}()).\u0275fac=function(e){return new(e||mt)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](q),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h))},mt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:mt,selectors:[["sxf-validity"]],decls:18,vars:5,consts:[[3,"formGroup"],[1,"row"],[1,"col-lg-4","pl-0"],[1,"col-4","pl-0"],["formControlName","beginningValidity","name","beginningValidityPolicy",3,"minDate","maxDate","disabled","keydown.enter"],["class","row",4,"ngIf"],[1,"row","pt-4"],[1,"col-lg-8","pl-0"],["name","continueValidatePolicyBtn",1,"btn","btn-primary","btn-heft",3,"click"],[1,"press-enter","ml-3","mr-4"],[1,"col-5","pl-0"],[1,"text-danger",2,"font-size","15px"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," Inicio de vigencia "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",1),C["\u0275\u0275elementStart"](8,"div",3),C["\u0275\u0275elementStart"](9,"sxf-datetimepicker",4),C["\u0275\u0275listener"]("keydown.enter",(function(){return t.onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](10,ut,5,0,"div",5),C["\u0275\u0275elementStart"](11,"div",6),C["\u0275\u0275elementStart"](12,"div",7),C["\u0275\u0275elementStart"](13,"span"),C["\u0275\u0275elementStart"](14,"button",8),C["\u0275\u0275listener"]("click",(function(){return t.continue()})),C["\u0275\u0275text"](15," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](16,"span",9),C["\u0275\u0275text"](17," o presiona ENTER "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275property"]("formGroup",t.formValidaty),C["\u0275\u0275advance"](9),C["\u0275\u0275property"]("minDate",t.minDate)("maxDate",t.maxDate)("disabled",t.disabledByRetrieve),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.retroactiveVigence))},directives:[L.NgControlStatusGroup,L.FormGroupDirective,G.a,L.NgControlStatus,L.FormControlName,I.o],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.press-enter[_ngcontent-%COMP%]{color:#a3adb3;font-size:.75rem}"]}),mt),vt=n("xVbo"),ht=function(e){return{active:e}};function bt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"li",12),C["\u0275\u0275elementStart"](1,"label",13),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).changeTab(e)})),C["\u0275\u0275elementStart"](2,"div",14),C["\u0275\u0275elementStart"](3,"div",15),C["\u0275\u0275element"](4,"input",16),C["\u0275\u0275elementStart"](5,"label",17),C["\u0275\u0275text"](6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](7,"div"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",18),C["\u0275\u0275text"](9),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](5,ht,r.activeTab===i.code)),C["\u0275\u0275advance"](3),C["\u0275\u0275propertyInterpolate1"]("name","paymentMethod",i.code,""),C["\u0275\u0275property"]("checked",i.code===r.activeTab),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",i.description," "),C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate"](i.legend)}}function ft(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"ul",10),C["\u0275\u0275template"](1,bt,10,7,"li",11),C["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",n)}}function yt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"label",36),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"](3).setPaymentMethod(e)})),C["\u0275\u0275elementStart"](1,"div",37),C["\u0275\u0275elementStart"](2,"div",38),C["\u0275\u0275elementStart"](3,"div",15),C["\u0275\u0275element"](4,"input",39),C["\u0275\u0275elementStart"](5,"label",17),C["\u0275\u0275text"](6," \xa0\xa0\xa0\xa0 "),C["\u0275\u0275elementStart"](7,"img",40),C["\u0275\u0275listener"]("error",(function(e){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](4).cardNotExists(e)})),C["\u0275\u0275pipe"](8,"uppercase"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275text"](9),C["\u0275\u0275pipe"](10,"cardnumber"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().$implicit,r=C["\u0275\u0275nextContext"](3);C["\u0275\u0275advance"](4),C["\u0275\u0275propertyInterpolate1"]("name","optionPayment",i.id,""),C["\u0275\u0275property"]("checked",r.currentPolicy.payment.id===i.id)("disabled",r.disabledByRetrieve),C["\u0275\u0275advance"](3),C["\u0275\u0275propertyInterpolate1"]("src","../../../../../../../assets/cards/",C["\u0275\u0275pipeBind1"](8,5,r.getCardImg(i.displayname)),".svg",C["\u0275\u0275sanitizeUrl"]),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",C["\u0275\u0275pipeBind1"](10,7,i.displayname)," ")}}function gt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",34),C["\u0275\u0275template"](1,yt,11,9,"label",35),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf","CreditCard"===n.method)}}function St(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div"),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",20),C["\u0275\u0275elementStart"](4,"label"),C["\u0275\u0275text"](5,"Tarjetas guardadas para este cliente"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](6,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",21),C["\u0275\u0275elementStart"](8,"div",22),C["\u0275\u0275elementStart"](9,"button",23),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).previousPaginate()})),C["\u0275\u0275element"](10,"sxf-icon",24),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",25),C["\u0275\u0275elementStart"](12,"div",26),C["\u0275\u0275template"](13,gt,2,1,"div",27),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"div",28),C["\u0275\u0275elementStart"](15,"button",29),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().ngIf;return C["\u0275\u0275nextContext"]().nextPaginate(e.length)})),C["\u0275\u0275element"](16,"sxf-icon",30),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",31),C["\u0275\u0275elementStart"](18,"button",32),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).addNewPaymentWay()})),C["\u0275\u0275element"](19,"sxf-icon",33),C["\u0275\u0275text"](20," Agregar tarjeta "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().ngIf,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](13),C["\u0275\u0275property"]("ngForOf",r.paginateCreditCards(i,2,0)),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("disabled",r.disabledByRetrieve)}}function Et(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"label",36),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"](3).setPaymentMethod(e)})),C["\u0275\u0275elementStart"](1,"div",37),C["\u0275\u0275elementStart"](2,"div",43),C["\u0275\u0275elementStart"](3,"div",15),C["\u0275\u0275element"](4,"input",44),C["\u0275\u0275elementStart"](5,"label",17),C["\u0275\u0275text"](6),C["\u0275\u0275pipe"](7,"slice"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().$implicit,r=C["\u0275\u0275nextContext"](3);C["\u0275\u0275advance"](4),C["\u0275\u0275propertyInterpolate1"]("name","radioPaymentOption",i.id,""),C["\u0275\u0275property"]("checked",r.activePaymentMethodId===i.id),C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" \xa0\xa0 ",C["\u0275\u0275pipeBind3"](7,3,i.displayname,5,27)," ")}}function xt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",34),C["\u0275\u0275template"](1,Et,8,7,"label",35),C["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf","BankingDebt"===n.method)}}function Ct(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div"),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",20),C["\u0275\u0275elementStart"](4,"label"),C["\u0275\u0275text"](5,"Cuentas guardadas para este cliente"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](6,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",21),C["\u0275\u0275elementStart"](8,"div",22),C["\u0275\u0275elementStart"](9,"button",23),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).previousPaginate()})),C["\u0275\u0275element"](10,"sxf-icon",24),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",25),C["\u0275\u0275elementStart"](12,"div",26),C["\u0275\u0275template"](13,xt,2,1,"div",27),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"div",28),C["\u0275\u0275elementStart"](15,"button",41),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=C["\u0275\u0275nextContext"]().ngIf;return C["\u0275\u0275nextContext"]().nextPaginate(e.length)})),C["\u0275\u0275element"](16,"sxf-icon",30),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",31),C["\u0275\u0275elementStart"](18,"button",42),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).addNewPaymentWay()})),C["\u0275\u0275element"](19,"sxf-icon",33),C["\u0275\u0275text"](20," Agregar CBU "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]().ngIf,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](13),C["\u0275\u0275property"]("ngForOf",r.paginateCbus(i,2,0))}}function Pt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",6),C["\u0275\u0275template"](1,St,21,2,"div",19),C["\u0275\u0275template"](2,Ct,21,1,"div",19),C["\u0275\u0275elementEnd"]()),2&e){var n=t.ngIf,i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf","CreditCard"===i.activeTab&&n.length>0),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf","BankingDebt"===i.activeTab&&n.length>0)}}function wt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",45),C["\u0275\u0275elementStart"](1,"div",46),C["\u0275\u0275elementStart"](2,"div",47),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," N\xfamero de tarjeta "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",48),C["\u0275\u0275elementStart"](8,"label"),C["\u0275\u0275text"](9," Vencimiento "),C["\u0275\u0275elementStart"](10,"sup"),C["\u0275\u0275text"](11,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",21),C["\u0275\u0275elementStart"](13,"div",49),C["\u0275\u0275element"](14,"sxf-textbox",50),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](15,"div",51),C["\u0275\u0275element"](16,"sxf-textbox",52),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("formGroup",n.formCredit),C["\u0275\u0275advance"](14),C["\u0275\u0275property"]("mask",n.numberMask)("helpFeedback",""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("mask",n.expirationDateMask)("helpFeedback","")}}function kt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",45),C["\u0275\u0275elementStart"](1,"div",21),C["\u0275\u0275elementStart"](2,"div",47),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," CBU "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",21),C["\u0275\u0275elementStart"](8,"div",47),C["\u0275\u0275element"](9,"sxf-textbox",53),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("formGroup",n.formDebit),C["\u0275\u0275advance"](9),C["\u0275\u0275property"]("maxLength",22)("minLength",22)("helpFeedback","")}}var It,Mt=((It=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,o,l,a){var s;return _classCallCheck(this,n),(s=t.call(this)).fb=e,s.storePolicy=i,s.storeEmission=r,s.paymentMethodService=o,s.paymentInstrument=l,s.storeQuote=a,s.activeTab="",s.arrPaymentMethods=[],s.formDebit={},s.formCredit={},s.arrCardsStored=[],s.paymentInstruments$=new de.a,s.paymentMethods$=new de.a,s.payment={},s.paymentTerm={},s.activePaymentMethodId="",s.newPaymentWay=!1,s.digitalPolicy=!0,s.fromRetrieve=!1,s.approvedEmission=!1,s.currentPolicy={},s.initSlice=0,s.endSlice=2,s.arrayCardsLength=0,s.arrayCbusLength=0,s.expirationDateMask=[/[0-1]/,/[0-9]/,"/",/\d/,/\d/,/\d/,/\d/],s.numberMask=[/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],s.disabledByRetrieve=!1,s.paymentSelectedByRetrieve=!1,s.currentServerDate=new Date,s.disabledByRetrieveSubscription=new m.a,s.serverDataSubscription=new m.a,s.paymentDataSubscription=new m.a,s.paymentTermSubscription=new m.a,s.policyDataSubscription=new m.a,s.creditCardSubscription=new m.a,s.cardExpirationSubcription=new m.a,s.debitCardSubscription=new m.a,s.emissionStoreSubscription=new m.a,s}return _createClass(n,[{key:"ngOnInit",value:function(){var e,t,n,i=this;this.paymentDataSubscription=this.storePolicy.select(u.m).subscribe((function(e){i.payment=e,i.activeTab=e.method})),this.paymentTermSubscription=this.storePolicy.select(u.n).subscribe((function(e){i.paymentTerm=e,i.payment.plan.code=e.code})),this.policyDataSubscription=this.storePolicy.select(u.p).subscribe((function(e){i.currentPolicy=e,i.digitalPolicy=!!e.email})),this.serverDataSubscription=this.storeQuote.select(D.x).subscribe((function(e){i.currentServerDate=new Date(e)})),this.paymentMethods$=this.storePolicy.select(u.l).pipe(Object(y.a)((function(e){return e?i.paymentMethodService.getAllPaymentMethods(e).pipe(Object(y.a)((function(e){return e.map((function(e){"Coupon"!==e.code&&(e.legend="10% de descuento")})),Object(v.a)(e.filter((function(e){return e.code===i.payment.method})))}))):Object(v.a)(ue.a)}))),this.paymentInstruments$=this.storePolicy.select(u.b).pipe(Object(y.a)((function(e){return null!==e.accountnumber?i.paymentInstrument.getPaymentInstruments(e.accountnumber).pipe(Object(vt.a)((function(e){return e.length>0})),Object(y.a)((function(e){return e.filter((function(e){return e.method===i.payment.method})).length<1&&(i.newPaymentWay=!0),Object(v.a)(e.filter((function(e){return e.method===i.payment.method})))}))):(i.newPaymentWay=!0,Object(v.a)(ue.a))})),Object(S.a)((function(){return i.newPaymentWay=!0,Object(v.a)(ue.a)}))),this.formDebit=this.fb.group({number:[,[L.Validators.required,L.Validators.minLength(22)]]}),this.formCredit=this.fb.group({number:[,[L.Validators.required,L.Validators.minLength(14),L.Validators.maxLength(16)]],expirationdate:[,[L.Validators.required,L.Validators.minLength(7)]],owner:[,L.Validators.required]}),this.creditCardSubscription=null===(e=this.formCredit.get("number"))||void 0===e?void 0:e.valueChanges.subscribe((function(e){e.length>6&&i.paymentMethodService.getCreditCards(e.substring(0,6)).subscribe((function(e){e&&(i.payment.creditcard.type=e[0].code,i.storePolicy.dispatch(new d.r(i.payment)))})),i.payment.creditcard.number=e,i.storePolicy.dispatch(new d.r(i.payment))})),this.cardExpirationSubcription=null===(t=this.formCredit.get("expirationdate"))||void 0===t?void 0:t.valueChanges.subscribe((function(e){if(i.payment.creditcard.expirationdate=null,7===e.length){var t="01/"+e,n=dt(i.currentServerDate).format("YYYY-MM-DD");dt(t,"DD/MM/YYYY").format("YYYY-MM-DD")>n?(i.payment.creditcard.expirationdate=dt(t,"DD/MM/YYYY").toISOString(),i.storePolicy.dispatch(new d.r(i.payment))):(i.payment.creditcard.expirationdate=null,i.storePolicy.dispatch(new d.r(i.payment)))}})),this.debitCardSubscription=null===(n=this.formDebit.get("number"))||void 0===n?void 0:n.valueChanges.subscribe((function(e){i.payment.cbu.number=e,i.payment.cbu.conduit="17",i.storePolicy.dispatch(new d.r(i.payment))})),this.disabledByRetrieveSubscription=Object(p.a)([this.storeEmission.select(c.k),this.storePolicy.select(u.p)]).subscribe((function(e){var t=e[0],n=e[1];n.payment.id&&!i.paymentSelectedByRetrieve&&null!==n.client.accountnumber&&i.paymentInstrument.getPaymentInstruments(n.client.accountnumber).subscribe((function(e){var t=e.find((function(e){return e.id===n.payment.id}));t&&(i.setPaymentMethod(t,!0),i.paymentSelectedByRetrieve=!0)})),i.emissionStoreSubscription=i.storeEmission.select(c.d).subscribe((function(e){i.fromRetrieve=!!e.jobNumberFromQuotes,i.approvedEmission=e.approvedEmission})),i.disabledByRetrieve=i.fromRetrieve?!(!i.approvedEmission||!n.payment.id):!(!t||!n.payment.id)}))}},{key:"ngOnDestroy",value:function(){var e,t,n,i,r,o,l,a,s;null===(e=this.debitCardSubscription)||void 0===e||e.unsubscribe(),null===(t=this.creditCardSubscription)||void 0===t||t.unsubscribe(),null===(n=this.cardExpirationSubcription)||void 0===n||n.unsubscribe(),null===(i=this.emissionStoreSubscription)||void 0===i||i.unsubscribe(),null===(r=this.serverDataSubscription)||void 0===r||r.unsubscribe(),null===(o=this.policyDataSubscription)||void 0===o||o.unsubscribe(),null===(l=this.paymentDataSubscription)||void 0===l||l.unsubscribe(),null===(a=this.paymentTermSubscription)||void 0===a||a.unsubscribe(),null===(s=this.disabledByRetrieveSubscription)||void 0===s||s.unsubscribe()}},{key:"changeTab",value:function(e){return!1}},{key:"addNewPaymentWay",value:function(){var e,t,n,i,r,o;this.newPaymentWay=!0,this.activePaymentMethodId=null,this.payment.id=null,this.payment.creditcard.number=null,this.payment.creditcard.type=null,this.payment.creditcard.expirationdate=null,this.payment.cbu.number=null,null===(t=null===(e=this.formCredit)||void 0===e?void 0:e.get("expirationdate"))||void 0===t||t.setValue(""),null===(i=null===(n=this.formCredit)||void 0===n?void 0:n.get("number"))||void 0===i||i.setValue(""),null===(o=null===(r=this.formDebit)||void 0===r?void 0:r.get("number"))||void 0===o||o.setValue(""),this.storePolicy.dispatch(new d.r(this.payment))}},{key:"setPaymentMethod",value:function(e,t){if(!this.disabledByRetrieve||t){switch(this.payment.plan.code=this.payment.plan.code||this.paymentTerm.code,this.newPaymentWay=!1,this.activePaymentMethodId=e.id,this.payment.id=e.id,this.payment.cbu.number=null,this.payment.creditcard.expirationdate=null,this.payment.creditcard.number=null,this.payment.creditcard.type=null,e.method){case"CreditCard":var n=e.displayname.substring(0,e.displayname.indexOf("(")).replace(" ",""),i=e.displayname.substring(e.displayname.lastIndexOf("(")+1,e.displayname.lastIndexOf(")")),r=e.displayname.substring(e.displayname.length-10);this.payment.creditcard.number=i,this.payment.creditcard.expirationdate=dt(r,"DD/MM/YYYY").toISOString(),this.payment.creditcard.type=n.toString().toLowerCase().trim();break;case"BankingDebt":var o=e.displayname.substring(e.displayname.lastIndexOf("(")+1,e.displayname.lastIndexOf(")"));this.payment.cbu.number=o}this.storePolicy.dispatch(new d.r(this.payment))}}},{key:"sendDigitalPolicy",value:function(){this.digitalPolicy=!this.digitalPolicy,this.digitalPolicy?null!==this.currentPolicy.client.email&&this.storePolicy.dispatch(new d.z(this.currentPolicy.client.email)):this.storePolicy.dispatch(new d.z(null))}},{key:"getCardImg",value:function(e){var t=/([^\(]+)/.exec(e);return null!==t?t[1].trim().replace(" ","").toUpperCase():null}},{key:"paginateCbus",value:function(e){return this.arrayCbusLength=e.length,e.slice(this.initSlice,this.endSlice)}},{key:"paginateCreditCards",value:function(e){return this.arrayCardsLength=e.length,e.slice(this.initSlice,this.endSlice)}},{key:"nextPaginate",value:function(e){this.endSlice<e&&(this.initSlice+=2,this.endSlice+=2)}},{key:"previousPaginate",value:function(){this.initSlice>=2&&(this.initSlice-=2,this.endSlice-=2)}},{key:"cardNotExists",value:function(e){var t=e.target;t.src="/assets/icons/GENERAL_TARJETA.svg",t.height=25}}]),n}(l.BaseComponent)).\u0275fac=function(e){return new(e||It)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.PaymentMethodService),C["\u0275\u0275directiveInject"](P.AccountService),C["\u0275\u0275directiveInject"](r.h))},It.\u0275cmp=C["\u0275\u0275defineComponent"]({type:It,selectors:[["sxf-paymentmethod"]],features:[C["\u0275\u0275InheritDefinitionFeature"]],decls:15,vars:8,consts:[["id","tabs"],["tabs",""],[1,"row"],[1,"col-lg-12","px-0"],["class","nav nav-pills nav-fill",4,"ngIf"],["class","tab-content mt-3",4,"ngIf"],[1,"tab-content","mt-3"],[3,"formGroup",4,"ngIf"],[1,"col-6","pl-0","mt-2"],[1,"info","pl-2"],[1,"nav","nav-pills","nav-fill"],["class","nav-item tab-unselected",4,"ngFor","ngForOf"],[1,"nav-item","tab-unselected"],["data-toggle","tab",1,"nav-link","active",3,"ngClass","click"],[1,"cardpayment","input-group"],[1,"form-radio-label"],["type","radio","name","options","autocomplete","off",3,"checked","name"],["for","radio",1,"radio-label"],[1,"text-dark","text-left","ml-2"],[4,"ngIf"],[1,"col-lg-12","pl-2"],[1,"row","pl-2"],[1,"mr-3"],["name","previousPaginateBtn",1,"btn","btn-primary","btn-icon",3,"click"],["type","arrow-left",1,"icon-blue"],[1,"col-7"],[1,"row","p-0"],["class","col mr-3 px-0 nav-item tab-unselected",4,"ngFor","ngForOf"],[1,"px-0"],["name","nextPaginateBtn",1,"btn","btn-primary","btn-icon",3,"click"],["type","arrow-right",1,"icon-blue"],[1,"col-lg-3","px-0"],["name","addNewPaymentWayBtn",1,"btn","btn-primary","btn-icon",2,"color","#00aec7","border","none","box-shadow","none",3,"disabled","click"],["type","plus",1,"icon-green"],[1,"col","mr-3","px-0","nav-item","tab-unselected"],["class","nav-link active","data-toggle","tab",3,"click",4,"ngIf"],["data-toggle","tab",1,"nav-link","active",3,"click"],[1,"payment-card"],[1,"input-group",2,"cursor","pointer"],["type","radio","autocomplete","off",3,"checked","name","disabled"],["width","40",3,"src","error"],["name","nextPaginatePaymentBtn",1,"btn","btn-primary","btn-icon",3,"click"],["name","addNewPaymentWayPaymentBtn",1,"btn","btn-primary","btn-icon",2,"color","#00aec7","border","none","box-shadow","none",3,"click"],[1,"input-group","pt-1"],["type","radio","autocomplete","off",3,"checked","name"],[3,"formGroup"],[1,"row","mt-2","pl-2"],[1,"col-lg-4","px-0"],[1,"col-lg-4"],[1,"col-4","pl-0"],["type","text","formControlName","number","label","","placeholder","","name","numberCard",3,"mask","helpFeedback"],[1,"col-4"],["type","text","formControlName","expirationdate","placeholder","MM/YYYY","name","expirationdateCard",3,"mask","helpFeedback"],["type","text","formControlName","number","label","","placeholder","","placement","bottom","messageTooltips","","name","numberCBU",3,"maxLength","minLength","helpFeedback"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0,1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275template"](4,ft,2,1,"ul",4),C["\u0275\u0275pipe"](5,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](6,Pt,3,2,"div",5),C["\u0275\u0275pipe"](7,"async"),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275template"](9,wt,17,5,"div",7),C["\u0275\u0275template"](10,kt,10,4,"div",7),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"div",2),C["\u0275\u0275elementStart"](12,"div",8),C["\u0275\u0275elementStart"](13,"span",9),C["\u0275\u0275text"](14," Vamos a enviar la p\xf3liza digital por mail "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](5,4,t.paymentMethods$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](7,6,t.paymentInstruments$)),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",t.newPaymentWay&&"CreditCard"===t.activeTab),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.newPaymentWay&&"BankingDebt"===t.activeTab))},directives:[I.o,I.n,I.m,Q.a,L.NgControlStatusGroup,L.FormGroupDirective,U.a,L.NgControlStatus,L.FormControlName],pipes:[I.b,I.z,l.CardNumberPipe,I.w],styles:[".justify-fill[_ngcontent-%COMP%]{-ms-flex-pack:justify;justify-content:space-between}.tab-unselected[_ngcontent-%COMP%]{padding-right:0!important}.tab-unselected[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{background-color:#fff;padding:0}.tab-unselected[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > .discount[_ngcontent-%COMP%]{font-size:.875rem;color:#768692;margin-right:200px}.tab-unselected[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > div.cardpayment[_ngcontent-%COMP%]{font-size:.875rem!important;color:#53565a;font-weight:700}.tab-unselected[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > div.cardpayment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:8px}.card-draw[_ngcontent-%COMP%]{width:100%;height:10em;background:#fff;border-radius:8px}.card-stored-item[_ngcontent-%COMP%]{background:#fff;box-shadow:4px 4px 10px rgba(0,0,0,.05);border-radius:10px}.info[_ngcontent-%COMP%]{color:#768692;font-size:.875rem}label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.form-checkbox[_ngcontent-%COMP%]{margin:.5rem .5rem .5rem 0}.label-checkbox[_ngcontent-%COMP%]{vertical-align:top;margin-left:3px}.payment-card[_ngcontent-%COMP%]{border:.0625rem solid #c4c4c4;border-radius:5px;padding:.5rem .8rem}.payment-card[_ngcontent-%COMP%]   .form-radio-label[_ngcontent-%COMP%]{margin:0}.payment-card[_ngcontent-%COMP%]   .form-radio-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%] + .radio-label[_ngcontent-%COMP%]:before{top:.15rem}.payment-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem}.btn[_ngcontent-%COMP%]{padding:.375rem .475rem .275rem}.btn-primary[_ngcontent-%COMP%]{border-radius:.3rem}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#fff;border-color:#c4c4c4}.btn-icon[_ngcontent-%COMP%]{padding:.5rem}"]}),It),Ot=n("NANo"),_t=["documentType"],Nt=["modalClient"],jt=["modalNoClient"],Vt=["modalUW"],At=["modalMobility"],Bt=["newCosts"];function Rt(e,t){1&e&&C["\u0275\u0275element"](0,"input",45)}function Dt(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span",70),C["\u0275\u0275elementStart"](1,"b"),C["\u0275\u0275text"](2,"Este email ser\xe1 usado para enviar la inspecci\xf3n por photo up"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Lt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",46),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," Nombre "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",47),C["\u0275\u0275elementStart"](8,"label"),C["\u0275\u0275text"](9," Apellido "),C["\u0275\u0275elementStart"](10,"sup"),C["\u0275\u0275text"](11,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",47),C["\u0275\u0275elementStart"](13,"label"),C["\u0275\u0275text"](14," Fecha de Nacimiento "),C["\u0275\u0275elementStart"](15,"sup"),C["\u0275\u0275text"](16,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",1),C["\u0275\u0275elementStart"](18,"div",48),C["\u0275\u0275element"](19,"sxf-textbox",49),C["\u0275\u0275pipe"](20,"async"),C["\u0275\u0275pipe"](21,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](22,"div",50),C["\u0275\u0275element"](23,"sxf-textbox",51),C["\u0275\u0275pipe"](24,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"div",50),C["\u0275\u0275element"](26,"sxf-datetimepicker",52),C["\u0275\u0275pipe"](27,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"div",1),C["\u0275\u0275elementStart"](29,"div",2),C["\u0275\u0275elementStart"](30,"label"),C["\u0275\u0275text"](31," Nacionalidad "),C["\u0275\u0275elementStart"](32,"sup"),C["\u0275\u0275text"](33,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](34,"div",47),C["\u0275\u0275elementStart"](35,"label"),C["\u0275\u0275text"](36," Estado Civil "),C["\u0275\u0275elementStart"](37,"sup"),C["\u0275\u0275text"](38,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](39,"div",47),C["\u0275\u0275elementStart"](40,"label"),C["\u0275\u0275text"](41," Sexo "),C["\u0275\u0275elementStart"](42,"sup"),C["\u0275\u0275text"](43,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](44,"div",1),C["\u0275\u0275elementStart"](45,"div",48),C["\u0275\u0275element"](46,"sxf-select",53),C["\u0275\u0275pipe"](47,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](48,"div",50),C["\u0275\u0275element"](49,"sxf-select",54),C["\u0275\u0275pipe"](50,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](51,"div",50),C["\u0275\u0275element"](52,"sxf-select",55),C["\u0275\u0275pipe"](53,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](54,"div",1),C["\u0275\u0275elementStart"](55,"div",56),C["\u0275\u0275elementStart"](56,"label"),C["\u0275\u0275text"](57," C\xf3d. \xc1rea "),C["\u0275\u0275elementStart"](58,"sup"),C["\u0275\u0275text"](59,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](60,"div",7),C["\u0275\u0275elementStart"](61,"label"),C["\u0275\u0275text"](62," Tel\xe9fono "),C["\u0275\u0275elementStart"](63,"sup"),C["\u0275\u0275text"](64,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](65,"div",47),C["\u0275\u0275elementStart"](66,"label"),C["\u0275\u0275text"](67," Mail "),C["\u0275\u0275elementStart"](68,"sup"),C["\u0275\u0275text"](69,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](70,"div",1),C["\u0275\u0275elementStart"](71,"div",57),C["\u0275\u0275element"](72,"sxf-textbox",58),C["\u0275\u0275pipe"](73,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](74,"div",59),C["\u0275\u0275element"](75,"sxf-textbox",60),C["\u0275\u0275pipe"](76,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](77,"div",50),C["\u0275\u0275element"](78,"sxf-textbox",61),C["\u0275\u0275pipe"](79,"async"),C["\u0275\u0275template"](80,Dt,3,0,"span",62),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](81,"div",50),C["\u0275\u0275elementStart"](82,"div",63),C["\u0275\u0275elementStart"](83,"span",64),C["\u0275\u0275element"](84,"input",65),C["\u0275\u0275element"](85,"label",66),C["\u0275\u0275elementStart"](86,"label",67),C["\u0275\u0275text"](87," Persona politicamente expuesta "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](88,"div",1),C["\u0275\u0275elementStart"](89,"div",68),C["\u0275\u0275elementStart"](90,"span"),C["\u0275\u0275elementStart"](91,"button",69),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).continue()})),C["\u0275\u0275text"](92," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i,r,o,l,a,s,c,d,u,m,p=C["\u0275\u0275nextContext"](2),v=null==(i=C["\u0275\u0275pipeBind1"](20,35,p.clientFromEmission$))?null:i.firstname,h=null==(r=C["\u0275\u0275pipeBind1"](21,37,p.client$))?null:r.firstname,b=null==(o=C["\u0275\u0275pipeBind1"](24,39,p.clientFromEmission$))?null:o.lastname,f=null==(l=C["\u0275\u0275pipeBind1"](27,41,p.clientFromEmission$))?null:l.birth,y=null==(a=C["\u0275\u0275pipeBind1"](47,43,p.clientFromEmission$))?null:a.nationality,g=null==(s=C["\u0275\u0275pipeBind1"](50,45,p.clientFromEmission$))?null:s.maritalstatus,S=null==(c=C["\u0275\u0275pipeBind1"](53,47,p.clientFromEmission$))?null:c.gender,E=(null==(d=C["\u0275\u0275pipeBind1"](73,49,p.clientFromEmission$))||null==d.cellphone?null:d.cellphone.area)&&p.disabledByRetrieve,x=(null==(u=C["\u0275\u0275pipeBind1"](76,51,p.clientFromEmission$))||null==u.cellphone?null:u.cellphone.number)&&p.disabledByRetrieve,P=(null==(m=C["\u0275\u0275pipeBind1"](79,53,p.clientFromEmission$))?null:m.email)&&p.disabledByRetrieve;C["\u0275\u0275property"]("formGroup",p.formPhysicalPerson),C["\u0275\u0275advance"](19),C["\u0275\u0275property"]("disabled",v)("value",h),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",b),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",f)("minDate",p.minDateClient)("maxDate",p.maxDateClient),C["\u0275\u0275advance"](20),C["\u0275\u0275property"]("disabled",y)("items",p.nationalities$)("multiple",!1)("searchable",!0)("dropdownPosition","bottom"),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",g)("items",p.maritalStatus$)("multiple",!1)("searchable",!0)("dropdownPosition","bottom"),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",S)("items",p.genders$)("multiple",!1)("searchable",!0)("dropdownPosition","bottom"),C["\u0275\u0275advance"](20),C["\u0275\u0275property"]("maxLength",5)("minLength",2)("helpFeedback",p.formPhysicalPerson.controls.prefix.disabled?"No es modificable":"")("disabled",E),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("minLength",6)("maxLength",8)("helpFeedback",p.formPhysicalPerson.controls.phone.disabled?"No es modificable":"")("disabled",x),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("maxLength",60)("helpFeedback",p.formPhysicalPerson.controls.email.disabled?"No es modificable":"")("disabled",P),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",(p.formPhysicalPerson.controls.email.dirty||p.formPhysicalPerson.controls.email.touched)&&!p.formPhysicalPerson.controls.email.errors),C["\u0275\u0275advance"](11),C["\u0275\u0275property"]("disabled",!p.formPhysicalPerson.valid)}}function Ft(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span",70),C["\u0275\u0275elementStart"](1,"b"),C["\u0275\u0275text"](2,"Este email ser\xe1 usado para enviar la inspecci\xf3n por photo up"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Tt(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",46),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," Razon Social "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",1),C["\u0275\u0275elementStart"](8,"div",48),C["\u0275\u0275element"](9,"sxf-textbox",71),C["\u0275\u0275pipe"](10,"async"),C["\u0275\u0275pipe"](11,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"div",1),C["\u0275\u0275elementStart"](13,"div",56),C["\u0275\u0275elementStart"](14,"label"),C["\u0275\u0275text"](15," C\xf3d. \xc1rea "),C["\u0275\u0275elementStart"](16,"sup"),C["\u0275\u0275text"](17,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](18,"div",7),C["\u0275\u0275elementStart"](19,"label"),C["\u0275\u0275text"](20," Tel\xe9fono "),C["\u0275\u0275elementStart"](21,"sup"),C["\u0275\u0275text"](22,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](23,"div",47),C["\u0275\u0275elementStart"](24,"label"),C["\u0275\u0275text"](25," Mail "),C["\u0275\u0275elementStart"](26,"sup"),C["\u0275\u0275text"](27,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"div",1),C["\u0275\u0275elementStart"](29,"div",57),C["\u0275\u0275element"](30,"sxf-textbox",72),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](31,"div",59),C["\u0275\u0275element"](32,"sxf-textbox",73),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](33,"div",50),C["\u0275\u0275element"](34,"sxf-textbox",74),C["\u0275\u0275template"](35,Ft,3,0,"span",62),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](36,"div",75),C["\u0275\u0275element"](37,"div",47),C["\u0275\u0275element"](38,"div",47),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](39,"div",1),C["\u0275\u0275elementStart"](40,"div",50),C["\u0275\u0275elementStart"](41,"div",76),C["\u0275\u0275element"](42,"input",77),C["\u0275\u0275element"](43,"label",78),C["\u0275\u0275elementStart"](44,"label"),C["\u0275\u0275text"](45," Organismo social "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](46,"div",50),C["\u0275\u0275elementStart"](47,"div",76),C["\u0275\u0275element"](48,"input",79),C["\u0275\u0275element"](49,"label",80),C["\u0275\u0275elementStart"](50,"label"),C["\u0275\u0275text"](51," Consorcio "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](52,"div",81),C["\u0275\u0275elementStart"](53,"div",68),C["\u0275\u0275elementStart"](54,"span"),C["\u0275\u0275elementStart"](55,"button",82),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).continue()})),C["\u0275\u0275text"](56," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i,r,o=C["\u0275\u0275nextContext"](2),l=null==(i=C["\u0275\u0275pipeBind1"](10,14,o.client$))?null:i.companyname,a=null==(r=C["\u0275\u0275pipeBind1"](11,16,o.clientFromEmission$))?null:r.companyname;C["\u0275\u0275property"]("formGroup",o.formLegalPerson),C["\u0275\u0275advance"](9),C["\u0275\u0275property"]("value",l)("disabled",a)("maxLength",255),C["\u0275\u0275advance"](21),C["\u0275\u0275property"]("maxLength",5)("minLength",2)("helpFeedback",""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("minLength",6)("maxLength",8)("helpFeedback",""),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("maxLength",60)("helpFeedback",""),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",(o.formLegalPerson.controls.email.dirty||o.formLegalPerson.controls.email.touched)&&!o.formLegalPerson.controls.email.errors),C["\u0275\u0275advance"](20),C["\u0275\u0275property"]("disabled",!o.formLegalPerson.valid)}}function $t(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275template"](1,Rt,1,0,"input",43),C["\u0275\u0275pipe"](2,"async"),C["\u0275\u0275template"](3,Lt,93,55,"div",44),C["\u0275\u0275template"](4,Tt,57,18,"div",44),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](2,3,n.clientBaseN$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",!n.loadingData&&"undefined"!==n.isLegalPerson&&"not"===n.isLegalPerson),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",!n.loadingData&&"undefined"!==n.isLegalPerson&&"yes"===n.isLegalPerson)}}function qt(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1,"Recotizar como Persona Jur\xeddica"),C["\u0275\u0275elementEnd"]())}function Qt(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p"),C["\u0275\u0275text"](1," Recotizamos sin el seguro de Movilidad, el nuevo valor de la cuota es de "),C["\u0275\u0275elementStart"](2,"b"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](5,"br"),C["\u0275\u0275text"](6," Para mas detalle revisar el detalle del men\xfa lateral. "),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"]("$ ",C["\u0275\u0275pipeBind2"](4,1,n.newQuote,"1.0-0"),"")}}function Ut(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",83),C["\u0275\u0275element"](2,"ng-lottie",84),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",n.suraLoaderConfig)}}var zt,Gt=function(){return{size:"lg"}},Ht=function(){return{backdrop:"static",keyboard:!1}},Yt=((zt=function(){function e(t,n,i,r,o,l,a,s,c,d,u,p,v,h,b,f,y){_classCallCheck(this,e),this.fb=t,this.genderService=n,this.identificationService=i,this.flowRouteEmissionService=r,this.storeEmission=o,this.accountService=l,this.storePolicy=a,this.storeQuote=s,this.nationalityService=c,this.maritalStatusService=d,this._clientNService=u,this.utilService=p,this.contactService=v,this.provinceService=h,this.route=b,this.policyAdapter=f,this.quotingService=y,this.lottieConfig={path:"/assets/loadings/data-validation-loader.json",loop:!1,autoplay:!1},this.suraLoaderConfig={path:"/assets/loadings/sura-loader.json"},this.buttonLabel="Validar",this.documentSelect={},this.modalClient={},this.modalNoClient={},this.modalUW={},this.modalMobility={},this.modalNewCosts={},this.routes=[],this.accounts={},this.disabledFields=!1,this.fiscalConditions$=new m.a,this.iibb$=new de.a,this.isValidateDocument=!1,this.client$=new de.a,this.clientFromEmission$=new de.a,this.searchClient$=new de.a,this.isLegalPerson="undefined",this.form={},this.loadingData=!1,this.formPhysicalPerson={},this.formLegalPerson={},this.genders$=new de.a,this.maritalStatus$=new de.a,this.documents$=new de.a,this.nationalities$=new de.a,this.disabledByRetrieve$=new m.a,this.maxLength=8,this.documentDescription="DNI",this.currentAccount={},this.currentPolicy={},this.currentMotor={},this.vehicles=[],this.showForms=!1,this.clientBaseN$=new de.a,this.accountReset={},this.accountResetSubscription=new m.a,this.provincesFromApi=[],this.resetResidenceValues={state:null,id:null,city:null,postalcode:null,street:null,streetnumber:null,apartment:null,floor:null,type:null,clarification:null},this.currentBlackList=!1,this.hasMobility=!1,this.MOBILITY_CODE="SURA_CA7_MobilityTheftDamageCov",this.loadingCosts=!1,this.newQuote="",this.callCostsSubscription=new m.a,this.motorConfig=this.route.snapshot.data.config}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t,n,i=this;this.provinceService.getAllProvinces().subscribe((function(e){return i.provincesFromApi=e})),this.utilService.getCurrentServerDate().subscribe((function(e){var t=new Date(e.datetime),n=new Date(e.datetime),r={year:t.getFullYear()-16,month:t.getMonth()+1,day:t.getDate()};i.maxDateClient=r;var o={year:n.getFullYear()-116,month:n.getMonth()+1,day:n.getDate()};i.minDateClient=o})),this.accountResetSubscription=this.storeQuote.select(u.i).subscribe((function(e){i.accountReset=e})),this.genders$=this.genderService.getGenders(),this.maritalStatus$=this.maritalStatusService.getMaritalStatus(),Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v)]).subscribe((function(e){i.currentPolicy=e[0],i.currentMotor=e[0].motor.vehicles.filter((function(t){return t.number===e[1].activeMotor}))[0],i.vehicles=e[0].motor.vehicles,i.vehicles.some((function(e){var t,n,r=null===(t=null==e?void 0:e.packages)||void 0===t?void 0:t.find((function(e){return e.selected}));if(i.hasMobility=null===(n=null==r?void 0:r.coverages)||void 0===n?void 0:n.some((function(e){return e.pattern.code===i.MOBILITY_CODE})),i.hasMobility)return!0}))})),this.form=this.fb.group({document:[this.currentPolicy.client.documentType?this.currentPolicy.client.documentType:"SSN",L.Validators.required],documentNumber:[this.currentPolicy.client.documentNumber,[L.Validators.required,L.Validators.pattern("^[0-9]+$"),L.Validators.minLength(8)]]}),this.documents$=this.identificationService.getDocumentTypes(),this.nationalities$=this.nationalityService.getNationalities().pipe(Object(y.a)((function(e){var t=[],n=e.filter((function(e){return"Argentino(a)"===e.description}))[0];return t.push(n),e.filter((function(e){return"N010"!==e.code})).forEach((function(e){t.push(e)})),Object(v.a)(t)}))),this.storeEmission.select(c.m).subscribe((function(e){i.routes=e})),this.formPhysicalPerson=this.fb.group({firstname:[,[L.Validators.required,L.Validators.pattern("[A-z\xc0-\xff ]*"),L.Validators.maxLength(100)]],lastname:[,[L.Validators.required,L.Validators.pattern("[A-z\xc0-\xff ]*"),L.Validators.maxLength(100)]],birth:[,L.Validators.required],nationality:[,L.Validators.required],maritalstatus:[,L.Validators.required],gender:[,L.Validators.required],prefix:[,[L.Validators.required,L.Validators.minLength(2),L.Validators.maxLength(5),L.Validators.pattern(/^\d+$/)]],phone:[,[L.Validators.required,L.Validators.minLength(6),L.Validators.maxLength(8),L.Validators.pattern(/^-?(0|[1-9]\d*)?$/)]],email:["",[L.Validators.required,L.Validators.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$"),L.Validators.maxLength(60)]],exposedPerson:[!1]}),null===(e=this.formPhysicalPerson.get("birth"))||void 0===e||e.valueChanges.pipe(Object(y.a)((function(e){var t=dt(e).subtract(1,"months");return Object(v.a)(t)}))).subscribe(),this.formLegalPerson=this.fb.group({companyname:[,[L.Validators.required,L.Validators.maxLength(255)]],consortium:[],officialorganism:[],prefix:[,[L.Validators.required,L.Validators.minLength(2),L.Validators.maxLength(5),L.Validators.pattern(/^\d+$/)]],phone:[,[L.Validators.required,L.Validators.minLength(6),L.Validators.maxLength(8),L.Validators.pattern(/^-?(0|[1-9]\d*)?$/)]],email:[,[L.Validators.required,L.Validators.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]]}),this.client$=this.storePolicy.select(u.b).pipe(Object(y.a)((function(e){var t,n,r,o,l,a,s;return i.currentAccount=e,"Person"===e.type?(i.isLegalPerson="not",i.form.patchValue({document:null===e.documentType?null===(t=i.form.get("document"))||void 0===t?void 0:t.value:e.documentType,documentNumber:null===e.documentNumber?null===(n=i.form.get("documentNumber"))||void 0===n?void 0:n.value:e.documentNumber},{emitEvent:!1}),i.formPhysicalPerson.patchValue({firstname:null===(r=e.firstname)||void 0===r?void 0:r.toUpperCase(),lastname:null===(o=e.lastname)||void 0===o?void 0:o.toUpperCase(),birth:Object(Ot.j)(e.birth)?null:{year:parseInt(e.birth.substring(0,4),0),month:parseInt(e.birth.substring(5,7),0),day:parseInt(e.birth.substring(8,10),0)},nationality:e.nationality,maritalstatus:e.maritalstatus,gender:e.gender,prefix:Object(Ot.j)(e.cellphone)?[]:e.cellphone.area,phone:Object(Ot.j)(e.cellphone)?[]:e.cellphone.number,email:e.email,exposedPerson:e.politicallyexposed})):"Company"===e.type&&(i.isLegalPerson="yes",i.openModalMobility(),i.form.patchValue({document:e.documentType,documentNumber:e.documentNumber},{emitEvent:!1}),i.form.updateValueAndValidity(),i.formLegalPerson.patchValue({companyname:null===(l=e.companyname)||void 0===l?void 0:l.toUpperCase(),consortium:e.consortium,prefix:null===(a=e.workphone)||void 0===a?void 0:a.area,phone:null===(s=e.workphone)||void 0===s?void 0:s.number,officialorganism:e.officialorganism,email:e.email})),Object(v.a)(e)})),Object(pe.a)()),this.clientFromEmission$=this.storeEmission.select(c.c),null===(t=this.form.get("documentNumber"))||void 0===t||t.valueChanges.subscribe((function(){i.formPhysicalPerson.reset(),i.formLegalPerson.reset(),i.isLegalPerson="undefined",i.currentBlackList=!1})),null===(n=this.form.get("document"))||void 0===n||n.valueChanges.subscribe((function(e){var t;switch(i.maxLength=11,e){case"SSN":i.maxLength=8,i.documentDescription="DNI";break;case"FEIN":i.maxLength=11,i.documentDescription="CUIT";break;case"CUILSura":i.maxLength=11,i.documentDescription="CUIL";break;case"PassportSura":i.documentDescription="Pasaporte"}i.formPhysicalPerson.reset(),i.formLegalPerson.reset(),i.currentBlackList=!1,null===(t=i.form.get("documentNumber"))||void 0===t||t.reset(),i.isLegalPerson="undefined"})),this.disabledByRetrieve$=Object(p.a)([this.storeEmission.select(c.d),this.storePolicy.select(u.b)]).subscribe((function(e){var t;i.disabledByRetrieve=!!(e[0].jobNumberFromQuotes&&e[0].approvedEmission&&e[1].accountnumber),i.disabledByRetrieve&&(null===(t=i.formPhysicalPerson.get("exposedPerson"))||void 0===t||t.disable())}))}},{key:"validateDocumentNumber",value:function(){var e,t,n,i,r,o,l,a,c,u,m,h,b,f,g,E,C=this;"FEIN"===(null===(e=this.form.get("document"))||void 0===e?void 0:e.value)&&parseInt(null===(t=this.form.get("documentNumber"))||void 0===t?void 0:t.value.substring(0,2),0)>=30?(this.isLegalPerson="yes",this.openModalMobility()):this.isLegalPerson="not",this.checkClienteN(null===(n=this.form.get("documentNumber"))||void 0===n?void 0:n.value);var P=Object.assign(Object.assign({},this.accountReset),{type:"yes"===this.isLegalPerson?"Company":"Person",documentType:null===(i=this.form.get("document"))||void 0===i?void 0:i.value,documentNumber:null===(r=this.form.get("documentNumber"))||void 0===r?void 0:r.value,address:Object.assign(Object.assign({},this.accountReset.address),{state:null===(l=null===(o=this.currentPolicy.insured)||void 0===o?void 0:o.address)||void 0===l?void 0:l.state,city:null===(c=null===(a=this.currentPolicy.insured)||void 0===a?void 0:a.address)||void 0===c?void 0:c.city})});this.storePolicy.dispatch(new d.i(P)),this.storeEmission.dispatch(new s.f(P)),this.routes.forEach((function(e){"residence"===e.path&&(e.value="")})),this.storePolicy.dispatch(new d.e(Object.assign(Object.assign({},this.resetResidenceValues),{city:null===(m=null===(u=this.currentPolicy.insured)||void 0===u?void 0:u.address)||void 0===m?void 0:m.city,state:null===(b=null===(h=this.currentPolicy.insured)||void 0===h?void 0:h.address)||void 0===b?void 0:b.state})));var w={officialid:{type:null===(f=this.form.get("document"))||void 0===f?void 0:f.value,value:null===(g=this.form.get("documentNumber"))||void 0===g?void 0:g.value}},k={type:"yes"===this.isLegalPerson?"Company":"Person",officialid:null===(E=this.form.get("documentNumber"))||void 0===E?void 0:E.value};this.formPhysicalPerson.reset(),this.formLegalPerson.reset(),this.loadingData=!0,this.buttonLabel="Validando",this.buttonAnimated.playSegments([[0,119]],!0),this.searchClient$=Object(p.a)([this.accountService.getAccounts(w),this.contactService.getContacts(k)]).pipe(Object(y.a)((function(e){var t,n,i,r,o,l,a=e[0],c=e[1],u="yes"===C.isLegalPerson?"Company":"Person";if(C.buttonAnimated.playSegments([[120,175]],!1),setTimeout((function(){C.buttonLabel="Validado"}),2e3),C.loadingData=!1,a||c){if(a)a.documentNumber=null===(t=C.form.get("documentNumber"))||void 0===t?void 0:t.value,a.documentType=null===(n=C.form.get("document"))||void 0===n?void 0:n.value,a.address=a.primaryaddress,C.storePolicy.dispatch(new d.i(a)),C.storeEmission.dispatch(new s.f(x()(a)));else{var m=c[0].address.split("|"),p={id:m[0],street:m[1],streetnumber:m[2],floor:m[3],apartment:m[4],postalcode:m[5],city:m[6],state:C.provincesFromApi.filter((function(e){return e.description===m[7]}))[0].code,clarification:null,type:"home"};C.storePolicy.dispatch(new d.f(u,c[0].companyname.toUpperCase(),c[0].firstname.toUpperCase(),c[0].lastname.toUpperCase(),c[0].id,null===(i=C.form.get("documentNumber"))||void 0===i?void 0:i.value,null===(r=C.form.get("document"))||void 0===r?void 0:r.value,p)),C.storeEmission.dispatch(new s.e(u,c[0].companyname.toUpperCase(),c[0].firstname.toUpperCase(),c[0].lastname.toUpperCase(),c[0].id,null===(o=C.form.get("documentNumber"))||void 0===o?void 0:o.value,null===(l=C.form.get("document"))||void 0===l?void 0:l.value,p))}return C.routes.forEach((function(e){var t,n,i;"client"===e.path&&(e.value="yes"===C.isLegalPerson?null===(t=C.formLegalPerson.get("companyname"))||void 0===t?void 0:t.value:(null===(n=C.formPhysicalPerson.get("firstname"))||void 0===n?void 0:n.value)+" "+(null===(i=C.formPhysicalPerson.get("lastname"))||void 0===i?void 0:i.value))})),C.storeEmission.dispatch(new s.o(C.routes)),Object(v.a)(ue.a)}return Object(v.a)(ue.a)})),Object(S.a)((function(e){return C.loadingData=!1,-1===parseInt(e.code,0)&&C.openModalNoClient(),Object(v.a)([])})),Object(pe.a)())}},{key:"checkClienteN",value:function(e){var t=this;this.clientBaseN$=this._clientNService.validateClientN(e).pipe(Object(f.a)((function(e){var n=!1;null!==e&&e.length>0&&(n=!0),t.currentBlackList=n,t.currentBlackList&&t.modalUW.openModal()})))}},{key:"continue",value:function(){var e,t,n,i,r,o,l,a,c,u,m=this,p=[];if(p.push({primary:!0,type:null===(e=this.form.get("document"))||void 0===e?void 0:e.value,value:null===(t=this.form.get("documentNumber"))||void 0===t?void 0:t.value}),this.currentAccount.officialids=p,"not"===this.isLegalPerson&&this.formPhysicalPerson.valid){var v=this.formPhysicalPerson.getRawValue();this.currentAccount.contactid=this.currentAccount.contactid?this.currentAccount.contactid:null,this.currentAccount.documentNumber=null===(n=this.form.get("documentNumber"))||void 0===n?void 0:n.value,this.currentAccount.documentType=null===(i=this.form.get("document"))||void 0===i?void 0:i.value,this.currentAccount.firstname=v.firstname,this.currentAccount.lastname=v.lastname,this.currentAccount.fiscalcondition=this.currentAccount.fiscalcondition?this.currentAccount.fiscalcondition:this.currentPolicy.fiscalcondition,this.currentAccount.type="Person",this.currentAccount.maritalstatus=v.maritalstatus,this.currentAccount.nationality=v.nationality,this.currentAccount.gender=v.gender,this.currentAccount.email=v.email,this.currentAccount.birth=dt(v.birth.year+"-"+v.birth.month+"-"+v.birth.day).format(),this.currentAccount.politicallyexposed=v.exposedPerson,this.currentAccount.blacklist=this.currentBlackList,this.currentAccount.cellphone={area:v.prefix,number:v.phone};var h="";(null===(r=this.currentAccount)||void 0===r?void 0:r.workphone)&&(h=(this.currentAccount.workphone.area||"")+(this.currentAccount.workphone.number||"")),this.storePolicy.dispatch(new d.v(h))}else if(this.formLegalPerson.valid&&"yes"===this.isLegalPerson){var b=this.formLegalPerson.getRawValue();this.currentAccount.contactid=this.currentAccount.contactid?this.currentAccount.contactid:null,this.currentAccount.documentNumber=null===(o=this.form.get("documentNumber"))||void 0===o?void 0:o.value,this.currentAccount.documentType=null===(l=this.form.get("document"))||void 0===l?void 0:l.value,this.currentAccount.companyname=b.companyname,this.currentAccount.fiscalcondition=this.currentAccount.fiscalcondition?this.currentAccount.fiscalcondition:this.currentPolicy.fiscalcondition,this.currentAccount.email=b.email,this.currentAccount.consortium=b.consortium,this.currentAccount.officialorganism=b.officialorganism,this.currentAccount.blacklist=this.currentBlackList,this.currentAccount.type="Company",this.currentAccount.workphone={area:b.prefix,number:b.phone};var f="";(null===(a=this.currentAccount)||void 0===a?void 0:a.workphone)&&(f=(this.currentAccount.workphone.area||"")+(this.currentAccount.workphone.number||"")),this.storePolicy.dispatch(new d.v(f))}this.storePolicy.dispatch(new d.i(this.currentAccount)),this.storePolicy.dispatch(new d.z(this.currentAccount.email));var y=this.vehicles.filter((function(e){return e.number===m.currentMotor.number}));this.disabledByRetrieve||("not"===this.isLegalPerson&&y.length>0&&y[0].driver?y[0].driver.clientIsDriver=null===(u=null===(c=this.motorConfig)||void 0===c?void 0:c.filter((function(e){return e.vehicleType===m.currentMotor.group}))[0])||void 0===u?void 0:u.clientIsDriver:this.vehicles&&y.length>0&&y[0].driver&&(y[0].driver.clientIsDriver=!1)),this.storePolicy.dispatch(new d.H(this.vehicles)),this.flowRouteEmissionService.enableRoute(this.routes,"residence"),this.storeEmission.dispatch(new s.c("residence")),this.routes.forEach((function(e){"residence"===e.path&&(e.value="")})),this.routes.forEach((function(e){var t,n,i;"client"===e.path&&(e.value="yes"===m.isLegalPerson?null===(t=m.formLegalPerson.get("companyname"))||void 0===t?void 0:t.value:(null===(n=m.formPhysicalPerson.get("firstname"))||void 0===n?void 0:n.value)+" "+(null===(i=m.formPhysicalPerson.get("lastname"))||void 0===i?void 0:i.value))})),this.flowRouteEmissionService.enableRoute(this.routes,"residence"),(this.formLegalPerson.valid||this.formPhysicalPerson.valid)&&this.storeEmission.dispatch(new s.h(!0))}},{key:"closeModal",value:function(){this.modalClient.closeModal()}},{key:"openModal",value:function(){this.modalClient.openModal()}},{key:"closeModalNoClient",value:function(){this.modalNoClient.closeModal()}},{key:"openModalNoClient",value:function(){this.modalNoClient.openModal()}},{key:"ngOnDestroy",value:function(){this.fiscalConditions$&&this.fiscalConditions$.unsubscribe(),this.accountResetSubscription&&this.accountResetSubscription.unsubscribe(),this.disabledByRetrieve$&&this.disabledByRetrieve$.unsubscribe(),this.callCostsSubscription&&this.callCostsSubscription.unsubscribe()}},{key:"animationCreated",value:function(e){this.buttonAnimated=e}},{key:"closeUWModal",value:function(e){var t;"continue"!==e?(null===(t=this.form.get("documentNumber"))||void 0===t||t.setValue(""),this.modalUW.closeModal()):this.modalUW.closeModal()}},{key:"openModalMobility",value:function(){this.hasMobility&&this.modalMobility.openModal()}},{key:"closeModalMobility",value:function(){var e,t;null===(e=this.form.get("documentNumber"))||void 0===e||e.setValue("",{emitEvent:!0}),null===(t=this.form.get("document"))||void 0===t||t.setValue("SSN",{emitEvent:!0}),this.modalMobility.closeModal()}},{key:"continueIsLegalPerson",value:function(){var e=this;this.loadingCosts=!0,this.modalMobility.closeModal(),this.modalNewCosts.openModal(),this.vehicles.forEach((function(t){var n,i,r=null===(n=null==t?void 0:t.packages)||void 0===n?void 0:n.find((function(e){return e.selected}));r&&(r.coverages=null===(i=null==r?void 0:r.coverages)||void 0===i?void 0:i.filter((function(t){return t.pattern.code!==e.MOBILITY_CODE})))}));var t=this.policyAdapter.adapt(this.currentPolicy);t.motor.vehicles.forEach((function(e){var t;e.packages=null===(t=e.packages)||void 0===t?void 0:t.filter((function(e){return e.selected}))})),this.callCostsSubscription=this.quotingService.getCosts(t).subscribe((function(t){var n,i,r,o=null===(i=null===(n=e.currentMotor)||void 0===n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected}));e.storePolicy.dispatch(new d.F(null===(r=t.costs)||void 0===r?void 0:r.filter((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(e.currentMotor.number,",").concat(null==o?void 0:o.code))})))),e.vehicles.forEach((function(n){var i,r,o,l,a,s=null===(i=null==n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected})),c=null===(r=t.errors)||void 0===r?void 0:r.find((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==s?void 0:s.code))})),d=null===(l=null===(o=t.motor.vehicles)||void 0===o?void 0:o.find((function(e){return e.number===n.number})))||void 0===l?void 0:l.packages.find((function(e){return e.code===(null==s?void 0:s.code)}));(null==c?void 0:c.code)?(s&&(s.premiums={}),e.newQuote=""):(s&&(s.premiums=null==d?void 0:d.premiums),e.newQuote=null===(a=t.costs)||void 0===a?void 0:a.find((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==s?void 0:s.code))})).invoice.toString(),e.newQuote=e.newQuote?parseFloat(e.newQuote).toFixed(2):"")})),e.storePolicy.dispatch(new d.H(e.vehicles)),e.storeQuote.dispatch(new a.m(t)),e.loadingCosts=!1}))}},{key:"closeModalNewCosts",value:function(){this.modalNewCosts.closeModal()}}]),e}()).\u0275fac=function(e){return new(e||zt)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](P.GenderService),C["\u0275\u0275directiveInject"](P.IdentificationService),C["\u0275\u0275directiveInject"](q),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.AccountService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.NationalityService),C["\u0275\u0275directiveInject"](P.MaritalStatusService),C["\u0275\u0275directiveInject"](P.ClienteNService),C["\u0275\u0275directiveInject"](P.UtilService),C["\u0275\u0275directiveInject"](P.ContactsService),C["\u0275\u0275directiveInject"](P.ProvinceService),C["\u0275\u0275directiveInject"](i.a),C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](P.QuotingService))},zt.\u0275cmp=C["\u0275\u0275defineComponent"]({type:zt,selectors:[["sxf-client-data"]],viewQuery:function(e,t){var n;1&e&&(C["\u0275\u0275viewQuery"](_t,!0),C["\u0275\u0275staticViewQuery"](Nt,!0),C["\u0275\u0275staticViewQuery"](jt,!0),C["\u0275\u0275staticViewQuery"](Vt,!0),C["\u0275\u0275viewQuery"](At,!0),C["\u0275\u0275viewQuery"](Bt,!0)),2&e&&(C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.documentSelect=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalClient=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalNoClient=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalUW=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalMobility=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalNewCosts=n.first))},decls:114,vars:30,consts:[[1,"col-lg-12",3,"formGroup"],[1,"row"],[1,"col-lg-4","pl-0"],[1,"col-lg-6","input-group","pl-0"],["formControlName","document","bindLabel","description","bindValue","code","placeholder","Documento...","name","documentClientEmission",1,"custom",2,"width","100px",3,"items","multiple","searchable","dropdownPosition","disabled"],["documentType",""],["type","text","formControlName","documentNumber","label","","placeholder","","placement","bottom","name","documentNumberClientEmission",3,"helpFeedback","maxLength","messageTooltips","disabled","keyup.enter"],[1,"col-lg-3"],["name","validateDocumentNumberBtn",1,"btn","btn-primary","btn-block",3,"disabled","click"],["height","24px","width","24px",3,"hidden","options","animationCreated"],[1,"press-enter","ml-3","mr-4"],[1,"question-class",2,"cursor","pointer",3,"click"],[4,"ngIf"],["modalClient",""],[1,"modal-header","modal-header-items"],["type","button","aria-label","Close","name","closeModalBtn",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-body-items"],[1,"modal-footer"],[1,"col-lg-4","offset-lg-8","pl-0"],["type","button","name","closeModalBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["modalNoClient",""],["id","modal-basic-title",1,"modal-title"],[3,"closed"],["modalUW",""],[1,"modal-header",2,"padding","1rem 2rem"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"col-lg-4","offset-lg-3","pl-0"],["type","button",1,"btn","btn-modal","btn-lg","btn-block",3,"click"],[1,"col-lg-5","pl-0"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[3,"options"],["modalMobility",""],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"disabled","click"],[1,"col-lg-2","offset-lg-4","pl-0"],[1,"col-lg-6","pl-0"],["type","button",1,"btn","btn-primary",3,"click"],["newCosts",""],[4,"ngIf","ngIfElse"],["stillLoadingCost",""],["type","button","name","closeModalNewCostsBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["type","hidden",4,"ngIf"],["class","col-12",3,"formGroup",4,"ngIf"],["type","hidden"],[1,"col-12",3,"formGroup"],[1,"col-lg-4"],[1,"col-4","pl-0"],["type","text","formControlName","firstname","label","","placeholder","Ingres\xe1 el nombre","maxlength","100","placement","bottom","name","firstnameClientEmission",3,"disabled","helpFeedback","value"],[1,"col-4"],["type","text","formControlName","lastname","maxlength","100","label","","placeholder","Ingres\xe1 el apellido","placement","bottom","name","lastnameClientEmission",3,"disabled","helpFeedback"],["formControlName","birth","navigation","select","name","birthClientEmission",3,"disabled","minDate","maxDate","helpFeedback"],["formControlName","nationality","bindLabel","description","bindValue","code","placeholder","Nacionalidad","name","nationalityClientEmission",1,"custom",3,"disabled","items","multiple","helpFeedback","searchable","dropdownPosition"],["formControlName","maritalstatus","bindLabel","description","bindValue","code","placeholder","Estado Civil","name","maritalstatusClientEmission",1,"custom",3,"disabled","items","multiple","helpFeedback","searchable","dropdownPosition"],["formControlName","gender","bindLabel","description","bindValue","code","placeholder","Sexo","name","genderClientEmission",1,"custom",3,"disabled","items","multiple","helpFeedback","searchable","dropdownPosition"],[1,"col-lg-1","pl-0"],[1,"col-1","pl-0","pr-0"],["type","text","formControlName","prefix","placeholder","C\xf3d. \xc1rea","name","prefixClientEmission",3,"maxLength","minLength","helpFeedback","disabled"],[1,"col-3"],["type","text","formControlName","phone","label","","placeholder","Tel\xe9fono","name","phoneClientEmission",3,"minLength","maxLength","helpFeedback","disabled"],["type","text","formControlName","email","label","","placeholder","Ingres\xe1 el email","name","emailClientEmission",3,"maxLength","helpFeedback","disabled"],["class","text-danger",4,"ngIf"],["id","containerExposedPerson",1,"form-checkbox"],["placement","bottom","ngbTooltip","Funcionarios p\xfablicos nacionales, provinciales o municipales que ocupan u ocuparon altos cargos, puestos jer\xe1rquicos, como as\xed tambi\xe9n sus familiares"],["type","checkbox","formControlName","exposedPerson","id","exposedPerson","name","exposedPersonClientEmission","messageTooltips","Funcionarios p\xfablicos nacionales, provinciales o municipales que ocupan u ocuparon altos cargos, puestos jer\xe1rquicos, como as\xed tambi\xe9n sus familiares",1,"form-checkbox-input"],["for","exposedPerson",1,"form-checkbox-label"],[1,"label-checkbox"],[1,"col-lg-8","pl-0"],["name","continueDataClientEmisionBtn",1,"btn","btn-primary","btn-heft",3,"disabled","click"],[1,"text-danger"],["type","text","formControlName","companyname","label","","placeholder","Ingres\xe1 el nombre","placement","bottom","messageTooltips","Ingres\xe1 solo car\xe1cteres alfanumericos","name","companynameClientEmission",3,"value","disabled","maxLength","helpFeedback"],["type","text","formControlName","prefix","label","","placeholder","C\xf3d. \xc1rea","name","prefixClientEmission",3,"maxLength","minLength","helpFeedback"],["type","text","formControlName","phone","label","","placeholder","Tel\xe9fono","name","phoneClientEmission",3,"minLength","maxLength","helpFeedback"],["type","text","formControlName","email","label","","placeholder","Ingres\xe1 el email","name","emailClientEmission",3,"maxLength","helpFeedback"],[1,"row",2,"display","none"],[1,"form-checkbox"],["type","checkbox","id","officialorganism","formControlName","officialorganism","name","officialorganismClientEmission",1,"form-checkbox-input"],["for","officialorganism",1,"form-checkbox-label"],["type","checkbox","id","consortium","formControlName","consortium","name","consortiumClientEmission",1,"form-checkbox-input"],["for","consortium",1,"form-checkbox-label"],[1,"row","mt-3"],["name","continueClientEmissionBtn",1,"btn","btn-primary","btn-heft",3,"disabled","click"],[1,"col-12","text-center"],["width","8.75rem","height","6.25rem",3,"options"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275elementStart"](3,"label"),C["\u0275\u0275text"](4," Documento "),C["\u0275\u0275elementStart"](5,"sup"),C["\u0275\u0275text"](6,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",1),C["\u0275\u0275elementStart"](8,"div",3),C["\u0275\u0275element"](9,"sxf-select",4,5),C["\u0275\u0275elementStart"](11,"sxf-textbox",6),C["\u0275\u0275listener"]("keyup.enter",(function(){return t.validateDocumentNumber()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](12,"br"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",7),C["\u0275\u0275elementStart"](14,"button",8),C["\u0275\u0275listener"]("click",(function(){return t.validateDocumentNumber()})),C["\u0275\u0275elementStart"](15,"ng-lottie",9),C["\u0275\u0275listener"]("animationCreated",(function(e){return t.animationCreated(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275text"](16),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](17,"div",10),C["\u0275\u0275text"](18," o presiona ENTER "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](19,"div",7),C["\u0275\u0275elementStart"](20,"span",11),C["\u0275\u0275listener"]("click",(function(){return t.openModal()})),C["\u0275\u0275elementStart"](21,"b"),C["\u0275\u0275text"](22,"\xbfLos datos no coinciden?"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](23,$t,5,5,"div",12),C["\u0275\u0275pipe"](24,"async"),C["\u0275\u0275pipe"](25,"async"),C["\u0275\u0275elementStart"](26,"sxf-modal",null,13),C["\u0275\u0275elementStart"](28,"div",14),C["\u0275\u0275elementStart"](29,"button",15),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275elementStart"](30,"span",16),C["\u0275\u0275text"](31,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](32,"div",17),C["\u0275\u0275elementStart"](33,"h3"),C["\u0275\u0275text"](34,"\xbfLos datos no coinciden?"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](35,"p"),C["\u0275\u0275text"](36),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](37,"div",18),C["\u0275\u0275elementStart"](38,"div",1),C["\u0275\u0275elementStart"](39,"div",19),C["\u0275\u0275elementStart"](40,"button",20),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275text"](41," Volver "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](42,"sxf-modal",null,21),C["\u0275\u0275elementStart"](44,"div",14),C["\u0275\u0275elementStart"](45,"h4",22),C["\u0275\u0275text"](46,"Cliente existente"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](47,"button",15),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNoClient()})),C["\u0275\u0275elementStart"](48,"span",16),C["\u0275\u0275text"](49,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](50,"div",17),C["\u0275\u0275elementStart"](51,"h3"),C["\u0275\u0275text"](52,"Este cliente pertenece a otro productor"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](53,"p"),C["\u0275\u0275text"](54," Pertenece a otra organizaci\xf3n comercial deber\xe1 comunicarse con su ejecutivo de cuenta para poder avanzar con esta solicitud. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](55,"div",18),C["\u0275\u0275elementStart"](56,"div",1),C["\u0275\u0275elementStart"](57,"div",19),C["\u0275\u0275elementStart"](58,"button",20),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNoClient()})),C["\u0275\u0275text"](59," Volver "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](60,"sxf-modal",23,24),C["\u0275\u0275listener"]("closed",(function(){return t.closeUWModal()})),C["\u0275\u0275elementStart"](62,"div",25),C["\u0275\u0275elementStart"](63,"button",26),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal("Cross click")})),C["\u0275\u0275elementStart"](64,"span",16),C["\u0275\u0275text"](65,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](66,"div",27),C["\u0275\u0275elementStart"](67,"h4"),C["\u0275\u0275text"](68," La presente emisi\xf3n va a requerir autorizaci\xf3n de la compa\xf1\xeda. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](69,"h4"),C["\u0275\u0275text"](70,"\xbfDesea solicitar autorizaci\xf3n?"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](71,"div",18),C["\u0275\u0275elementStart"](72,"div",1),C["\u0275\u0275elementStart"](73,"div",28),C["\u0275\u0275elementStart"](74,"button",29),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal()})),C["\u0275\u0275text"](75," Cancelar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](76,"div",30),C["\u0275\u0275elementStart"](77,"button",31),C["\u0275\u0275listener"]("click",(function(){return t.closeUWModal("continue")})),C["\u0275\u0275text"](78," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](79,"sxf-modal",32,33),C["\u0275\u0275elementStart"](81,"div",34),C["\u0275\u0275elementStart"](82,"h6",22),C["\u0275\u0275text"](83," Movilidad Sura "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](84,"button",35),C["\u0275\u0275listener"]("click",(function(){return t.closeModalMobility()})),C["\u0275\u0275elementStart"](85,"span",16),C["\u0275\u0275text"](86,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](87,"div",27),C["\u0275\u0275elementStart"](88,"h3"),C["\u0275\u0275text"](89,"Movilidad Sura s\xf3lo est\xe1 disponible para personas f\xedsicas."),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](90,"h6"),C["\u0275\u0275text"](91," Si tu cliente es Jur\xeddico debemos cancelar este producto y realizar una recotizaci\xf3n "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](92,"div",18),C["\u0275\u0275elementStart"](93,"div",1),C["\u0275\u0275elementStart"](94,"div",36),C["\u0275\u0275elementStart"](95,"button",29),C["\u0275\u0275listener"]("click",(function(){return t.closeModalMobility()})),C["\u0275\u0275text"](96," Cancelar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](97,"div",37),C["\u0275\u0275elementStart"](98,"button",38),C["\u0275\u0275listener"]("click",(function(){return t.continueIsLegalPerson()})),C["\u0275\u0275template"](99,qt,2,0,"span",12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](100,"sxf-modal",32,39),C["\u0275\u0275elementStart"](102,"div",34),C["\u0275\u0275elementStart"](103,"h4",22),C["\u0275\u0275text"](104," Recotizando "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](105,"div",17),C["\u0275\u0275template"](106,Qt,7,4,"p",40),C["\u0275\u0275template"](107,Ut,3,1,"ng-template",null,41,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](109,"div",18),C["\u0275\u0275elementStart"](110,"div",1),C["\u0275\u0275elementStart"](111,"div",19),C["\u0275\u0275elementStart"](112,"button",42),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNewCosts()})),C["\u0275\u0275text"](113," Aceptar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](108);C["\u0275\u0275property"]("formGroup",t.form),C["\u0275\u0275advance"](9),C["\u0275\u0275property"]("items",t.documents$)("multiple",!1)("searchable",!1)("dropdownPosition","bottom")("disabled",t.disabledByRetrieve),C["\u0275\u0275advance"](2),C["\u0275\u0275propertyInterpolate2"]("messageTooltips","Ingres\xe1 los ",0!==t.maxLength?t.maxLength:""," d\xedgitos del ",t.documentDescription,""),C["\u0275\u0275property"]("helpFeedback","")("maxLength",t.maxLength)("disabled",t.disabledByRetrieve),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",!t.form.valid||"undefined"!==t.isLegalPerson||t.disabledByRetrieve),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("hidden",!t.loadingData)("options",t.lottieConfig),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",t.buttonLabel," "),C["\u0275\u0275advance"](7),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](24,24,t.searchClient$)||C["\u0275\u0275pipeBind1"](25,26,t.client$)),C["\u0275\u0275advance"](13),C["\u0275\u0275textInterpolate1"](" Si el n\xfamero de ",t.documentDescription," no coincide con los datos de nombre y apellido verific\xe1 que no haya errores de tipeo. Si el error persiste, por favor comunicate con tu ejecutivo de cuenta. "),C["\u0275\u0275advance"](43),C["\u0275\u0275property"]("options",C["\u0275\u0275pureFunction0"](28,Gt)),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("disabled",t.loadingCosts),C["\u0275\u0275advance"](15),C["\u0275\u0275property"]("ngIf",!t.loadingCosts),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("options",C["\u0275\u0275pureFunction0"](29,Ht)),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("ngIf",!t.loadingCosts)("ngIfElse",n),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("disabled",t.loadingCosts)}},directives:[L.NgControlStatusGroup,L.FormGroupDirective,z.a,L.NgControlStatus,L.FormControlName,U.a,M.a,I.o,k.a,L.MaxLengthValidator,G.a,ye.o,L.CheckboxControlValueAccessor],pipes:[I.b,I.f],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.press-enter[_ngcontent-%COMP%]{color:#a3adb3;font-size:.75rem}.label-checkbox[_ngcontent-%COMP%]{font-size:.875rem;vertical-align:top;margin-left:3px}.question-class[_ngcontent-%COMP%]{font-size:1rem;line-height:18px;color:#00aec7}"]}),zt),Wt=n("xtkq"),Jt=n("cJ9h"),Xt=n("SrNW"),Zt=n("A8kH"),Kt=n("iqFP"),en=n("Ti3e");function tn(e,t,n){return 0===n?[t]:(e.push(t),e)}var nn=["newCosts"];function rn(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",16),C["\u0275\u0275elementStart"](1,"div",17),C["\u0275\u0275elementStart"](2,"button",18),C["\u0275\u0275text"](3," Cargando... "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function on(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span",22),C["\u0275\u0275text"](1," No se encontraron resultados "),C["\u0275\u0275elementEnd"]())}var ln=function(e){return{active:e}};function an(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275elementStart"](1,"button",23),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](n);var e=t.$implicit;return C["\u0275\u0275nextContext"](2).selectAddress(e)}))("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"](2).onEnter()})),C["\u0275\u0275text"](2),C["\u0275\u0275pipe"](3,"uppercase"),C["\u0275\u0275pipe"](4,"uppercase"),C["\u0275\u0275pipe"](5,"uppercase"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=C["\u0275\u0275nextContext"](2);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](11,ln,i.id===r.addressIdSelected))("disabled",r.disabledByRetrieve),C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate3"](" ",C["\u0275\u0275pipeBind1"](3,5,i.street)," ",C["\u0275\u0275pipeBind1"](4,7,i.streetnumber),", ",C["\u0275\u0275pipeBind1"](5,9,i.city)," ")}}function sn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",16),C["\u0275\u0275template"](1,on,2,0,"span",19),C["\u0275\u0275template"](2,an,6,13,"div",20),C["\u0275\u0275elementStart"](3,"div",17),C["\u0275\u0275elementStart"](4,"button",21),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().addAddress([])})),C["\u0275\u0275text"](5," + Agregar nuevo domicilio "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.ngIf,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",0==i.length),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngForOf",i),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngClass",C["\u0275\u0275pureFunction1"](4,ln,null===r.addressIdSelected))("disabled",r.disabledByRetrieve)}}function cn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div"),C["\u0275\u0275elementStart"](1,"div",24),C["\u0275\u0275elementStart"](2,"div",1),C["\u0275\u0275elementStart"](3,"div",25),C["\u0275\u0275elementStart"](4,"label"),C["\u0275\u0275text"](5," C\xf3d. postal "),C["\u0275\u0275elementStart"](6,"sup"),C["\u0275\u0275text"](7,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"div",26),C["\u0275\u0275elementStart"](9,"label"),C["\u0275\u0275text"](10," Provincia "),C["\u0275\u0275elementStart"](11,"sup"),C["\u0275\u0275text"](12,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](13,"div",26),C["\u0275\u0275elementStart"](14,"label"),C["\u0275\u0275text"](15," Localidad "),C["\u0275\u0275elementStart"](16,"sup"),C["\u0275\u0275text"](17,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](18,"div",1),C["\u0275\u0275elementStart"](19,"div",25),C["\u0275\u0275elementStart"](20,"sxf-textbox",27),C["\u0275\u0275listener"]("keyup.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().validatePostalCode()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",26),C["\u0275\u0275elementStart"](22,"sxf-select",28,29),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275pipe"](24,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"div",26),C["\u0275\u0275elementStart"](26,"sxf-select",30,31),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](28,"div",1),C["\u0275\u0275elementStart"](29,"div",32),C["\u0275\u0275elementStart"](30,"label"),C["\u0275\u0275text"](31," Calle "),C["\u0275\u0275elementStart"](32,"sup"),C["\u0275\u0275text"](33,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](34,"div",33),C["\u0275\u0275elementStart"](35,"label"),C["\u0275\u0275text"](36," Altura "),C["\u0275\u0275elementStart"](37,"sup"),C["\u0275\u0275text"](38,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](39,"div",34),C["\u0275\u0275elementStart"](40,"label"),C["\u0275\u0275text"](41," Piso "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](42,"div",34),C["\u0275\u0275elementStart"](43,"label"),C["\u0275\u0275text"](44," Depto "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](45,"div",1),C["\u0275\u0275elementStart"](46,"div",32),C["\u0275\u0275elementStart"](47,"sxf-textbox",35),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](48,"div",33),C["\u0275\u0275elementStart"](49,"sxf-textbox",36),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](50,"div",34),C["\u0275\u0275elementStart"](51,"sxf-textbox",37),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](52,"div",34),C["\u0275\u0275elementStart"](53,"sxf-textbox",38),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](54,"div",1),C["\u0275\u0275elementStart"](55,"div",25),C["\u0275\u0275elementStart"](56,"label"),C["\u0275\u0275text"](57," Tipo "),C["\u0275\u0275elementStart"](58,"sup"),C["\u0275\u0275text"](59,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](60,"div",39),C["\u0275\u0275elementStart"](61,"label"),C["\u0275\u0275text"](62," Aclaraciones "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](63,"div",1),C["\u0275\u0275elementStart"](64,"div",25),C["\u0275\u0275elementStart"](65,"sxf-select",40,41),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](67,"div",39),C["\u0275\u0275elementStart"](68,"sxf-textbox",42),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](69,"div",43),C["\u0275\u0275elementStart"](70,"div",39),C["\u0275\u0275elementStart"](71,"span"),C["\u0275\u0275elementStart"](72,"button",44),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().continue()})),C["\u0275\u0275text"](73," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](74,"span",45),C["\u0275\u0275text"](75," o presiona ENTER "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=t.ngIf,r=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("formGroup",r.formClientResidence),C["\u0275\u0275advance"](19),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("maxLength",4),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("items",C["\u0275\u0275pipeBind1"](24,29,r.provinces$))("multiple",!1)("searchable",!0)("dropdownPosition","bottom")("loading",r.loadingPostalCode),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",!r.clientIsEditable||r.loadingPostalCode)("items",r.locations$)("multiple",!1)("searchable",!0)("dropdownPosition","bottom"),C["\u0275\u0275advance"](21),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("maxLength",200),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("maxLength",10),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("maxLength",10),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("maxLength",10),C["\u0275\u0275advance"](12),C["\u0275\u0275property"]("disabled",!r.clientIsEditable)("items",i)("multiple",!1)("searchable",!0)("dropdownPosition","bottom"),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("disabled",!r.clientIsEditable),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",!r.formClientResidence.valid)}}function dn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p"),C["\u0275\u0275text"](1," Recotizamos en base a la direcci\xf3n del cliente, el nuevo valor de la cuota es de "),C["\u0275\u0275elementStart"](2,"b"),C["\u0275\u0275text"](3),C["\u0275\u0275pipe"](4,"number"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](5,"br"),C["\u0275\u0275text"](6," Para mas detalle revisar el detalle del men\xfa lateral. "),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](3),C["\u0275\u0275textInterpolate1"]("$ ",C["\u0275\u0275pipeBind2"](4,1,n.newQuote,"1.0-0"),"")}}function un(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",1),C["\u0275\u0275elementStart"](1,"div",46),C["\u0275\u0275element"](2,"ng-lottie",47),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",n.lottieConfig)}}var mn,pn=function(){return{backdrop:"static",keyboard:!1}},vn=((mn=function(){function e(t,n,i,r,o,l,a,s,c,d){_classCallCheck(this,e),this.fb=t,this.provinceService=n,this.locationService=i,this.storePolicy=r,this.storeQuote=o,this.flowRouteEmissionService=l,this.storeEmission=a,this._addressTypeService=s,this.quotingService=c,this.policyAdapter=d,this.lottieConfig={path:"/assets/loadings/sura-loader.json"},this.zipCode=new L.FormControl(""),this.formClientResidence={},this.provinces$=new de.a,this.policyclientaddress$=new de.a,this.primaryClientAddress$=new de.a,this.provinceDescription="",this.locations$=new de.a,this.routes=[],this.residences$=new de.a,this.addressType$=new de.a,this.defaultAddressType="",this.dataByPostalCodeSubscriber=new m.a,this.dataByPostalCode$=new de.a,this.arrProvinces=[],this.addressIdSelected="",this.filledQuestion=!1,this.loadingPostalCode=!1,this.client={},this.clientIsEditable=!1,this.vehicles=[],this.currentMotor={},this.currentPolicy={},this.loadingCosts=!1,this.newQuote="",this.getClientFromStore$=new m.a,this.modalNewCosts={},this.disabledByRetrieve$=new m.a,this.disabledByRetrieve=!1,this.policySubscription=new m.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.formClientResidence=this.fb.group({id:[null],state:[,L.Validators.required],city:[,L.Validators.required],postalcode:[,L.Validators.required],street:[,L.Validators.required],streetnumber:[,L.Validators.required],apartment:[],floor:[],type:[,L.Validators.required],clarification:[]}),this.storeEmission.select(c.c).subscribe((function(t){return e.clientIsEditable=t.editable})),this.storePolicy.select(u.b).subscribe((function(t){e.client=t})),this.policySubscription=Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v)]).subscribe((function(t){e.vehicles=t[0].motor.vehicles,e.currentMotor=t[0].motor.vehicles.filter((function(e){return e.number===t[1].activeMotor}))[0],e.currentPolicy=t[0]})),this.provinces$=this.provinceService.getAllProvinces().pipe(Object(y.a)((function(t){return e.arrProvinces=t,Object(v.a)(t)}))),this.addressType$=this._addressTypeService.getAddressType().pipe(Object(f.a)((function(t){e.defaultAddressType=t[0].code,e.loadAddressSave()}))),this.addressIdSelected="",this.disabledByRetrieve$=this.storeEmission.select(c.d).subscribe((function(t){e.disabledByRetrieve=!(!t.jobNumberFromQuotes||!t.approvedEmission)}))}},{key:"loadAddressSave",value:function(){var e,t,n=this;this.storeEmission.select(c.m).subscribe((function(e){n.routes=e})),this.routes.forEach((function(e){"residence"===e.path&&(n.filledQuestion=null!==e.value)})),this.residences$=Object(p.a)([this.storeEmission.select(c.b),this.storePolicy.select(u.b)]).pipe(Object(y.a)((function(e){var t,i,r,o,l,a;null===e[0]&&(e[0]=[]);var s=e[0].filter((function(e){return e.postalcode}));return s.length>0||(e&&e.length>1&&null!==(null===(i=null===(t=e[1])||void 0===t?void 0:t.address)||void 0===i?void 0:i.postalcode)&&""!==(null===(o=null===(r=e[1])||void 0===r?void 0:r.address)||void 0===o?void 0:o.postalcode)?n.addAddress(e[1].address):n.addAddress([])),1===s.length&&e&&e.length>0&&null===(null===(a=null===(l=e[1])||void 0===l?void 0:l.address)||void 0===a?void 0:a.postalcode)&&n.selectAddress(s[0]),Object(v.a)(s)}))),null===(e=this.formClientResidence.get("state"))||void 0===e||e.valueChanges.subscribe((function(e){null!==e&&(n.locations$=n.locationService.getLocations(e).pipe(Object(f.a)((function(e){var t,i,r,o;1===e.length?null===(i=null===(t=n.formClientResidence)||void 0===t?void 0:t.get("city"))||void 0===i||i.setValue(e[0].city,{onlySelf:!0,emitEvent:!0}):null===(o=null===(r=n.formClientResidence)||void 0===r?void 0:r.get("city"))||void 0===o||o.setValue([],{onlySelf:!0,emitEvent:!1})}))))})),this.primaryClientAddress$=this.storePolicy.select(u.q),this.getClientFromStore$=Object(p.a)([this.storePolicy.select(u.b),this.provinceService.getAllProvinces(),this.storePolicy.select(u.a)]).pipe(Object(vt.a)((function(e){return null!=e[0].address&&null!==e[0].address.state})),Object(y.a)((function(e){var t=e[1].filter((function(t){return t.code===e[0].address.state}))[0];return n.provinceDescription=t.description,n.formClientResidence.patchValue({id:e[0].address.id,state:e[0].address.state,city:e[0].address.city,postalcode:e[0].address.postalcode,street:e[0].address.street,streetnumber:e[0].address.streetnumber,apartment:e[0].address.apartment,floor:e[0].address.floor,type:e[0].address.type,clarification:e[0].address.clarification},{emitEvent:!1}),void 0!==e[0].address.id&&(n.addressIdSelected=e[0].address.id),Object(v.a)(e[0].address)}))).subscribe(),null===(t=this.formClientResidence.get("postalcode"))||void 0===t||t.valueChanges.subscribe((function(e){null===e||4!==e.length||n.filledQuestion||(n.loadingPostalCode=!0,n.validatePostalCode())}))}},{key:"selectAddress",value:function(e){this.addressIdSelected=e.id,this.clientIsEditable=!1,this.formClientResidence.patchValue({id:e.id?e.id:null,state:e.state?e.state:null,city:e.city?e.city:null,postalcode:e.postalcode?e.postalcode:null,street:e.street?e.street:null,streetnumber:e.streetnumber?e.streetnumber:null,apartment:e.apartment?e.apartment:null,floor:e.floor?e.floor:null,type:e.type?e.type:null,clarification:e.clarification?e.clarification:null},{emitEvent:!1}),this.storePolicy.dispatch(new d.e(this.formClientResidence.value))}},{key:"addAddress",value:function(e){this.clientIsEditable=!0,0===e.length?(this.filledQuestion=!1,this.addressIdSelected="",this.formClientResidence.reset(),this.formClientResidence.patchValue({type:this.defaultAddressType},{emitEvent:!0})):(this.addressIdSelected=null==e?void 0:e.id,this.formClientResidence.patchValue({id:null==e?void 0:e.id,state:null==e?void 0:e.state,city:null==e?void 0:e.city,postalcode:null==e?void 0:e.postalcode,street:null==e?void 0:e.street,streetnumber:null==e?void 0:e.streetnumber,apartment:null==e?void 0:e.apartment,floor:null==e?void 0:e.floor,type:null==e?void 0:e.type,clarification:null==e?void 0:e.clarification},{emitEvent:!1}))}},{key:"onEnter",value:function(){this.formClientResidence.valid&&this.continue()}},{key:"continue",value:function(){var e;this.storePolicy.dispatch(new d.e(this.formClientResidence.value)),this.client.accountnumber&&null===(null===(e=this.formClientResidence.get("id"))||void 0===e?void 0:e.value)&&this.storePolicy.dispatch(new d.C(this.formClientResidence.value)),this.callCost()}},{key:"callCost",value:function(){var e=this;this.disabledByRetrieve?this.closeModalNewCosts():Object(p.a)([this.storePolicy.select(u.p),this.storeEmission.select(c.l)]).pipe(Object(g.a)()).subscribe((function(t){var n,i,r,o,l=_slicedToArray(t,2),s=l[0],c=l[1];if((null===(i=null===(n=null==s?void 0:s.client)||void 0===n?void 0:n.address)||void 0===i?void 0:i.state)!==(null==c?void 0:c.state)||(null===(o=null===(r=null==s?void 0:s.client)||void 0===r?void 0:r.address)||void 0===o?void 0:o.city)!==(null==c?void 0:c.city)){e.loadingCosts=!0,e.modalNewCosts.openModal();var u=e.policyAdapter.adapt(s);u.motor.vehicles.forEach((function(e){var t;e.packages=null===(t=null==e?void 0:e.packages)||void 0===t?void 0:t.filter((function(e){return e.selected}))})),e.quotingService.getCosts(u).subscribe((function(t){var n,i,r,o=null===(i=null===(n=e.currentMotor)||void 0===n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected}));e.storePolicy.dispatch(new d.F(null===(r=t.costs)||void 0===r?void 0:r.filter((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(e.currentMotor.number,",").concat(null==o?void 0:o.code))})))),e.vehicles.forEach((function(n){var i,r,o,l,a,s,c,d,u=null===(i=null==n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected})),m=null===(r=t.errors)||void 0===r?void 0:r.find((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==u?void 0:u.code))})),p=null===(s=null===(a=null===(l=null===(o=null==t?void 0:t.motor)||void 0===o?void 0:o.vehicles)||void 0===l?void 0:l.find((function(e){return e.number===n.number})))||void 0===a?void 0:a.packages)||void 0===s?void 0:s.find((function(e){return e.code===(null==u?void 0:u.code)}));(null==m?void 0:m.code)?(u&&(u.premiums={}),e.newQuote=""):(u&&(u.premiums=null==p?void 0:p.premiums),e.newQuote=null===(d=null===(c=null==t?void 0:t.costs)||void 0===c?void 0:c.find((function(t){var i,r;return null===(r=null===(i=null==t?void 0:t.externalId)||void 0===i?void 0:i.split("&"))||void 0===r?void 0:r.includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==u?void 0:u.code))})))||void 0===d?void 0:d.invoice.toString(),e.newQuote=e.newQuote?parseFloat(e.newQuote).toFixed(2):"")})),e.storePolicy.dispatch(new d.H(e.vehicles)),e.storeQuote.dispatch(new a.m(t)),e.loadingCosts=!1}))}else e.closeModalNewCosts()})).unsubscribe()}},{key:"closeModalNewCosts",value:function(){var e=this;this.modalNewCosts.closeModal(),this.routes.forEach((function(t){var n,i,r,o;"residence"===t.path&&(t.value=(null===(i=null===(n=e.client)||void 0===n?void 0:n.address)||void 0===i?void 0:i.street)+" "+(null===(o=null===(r=e.client)||void 0===r?void 0:r.address)||void 0===o?void 0:o.streetnumber)+", "+e.arrProvinces.filter((function(t){var n,i;return t.code===(null===(i=null===(n=e.client)||void 0===n?void 0:n.address)||void 0===i?void 0:i.state)}))[0].description)})),this.storeEmission.dispatch(new s.c("tax-condition")),this.formClientResidence.valid&&this.storeEmission.dispatch(new s.j(!0)),this.flowRouteEmissionService.enableRoute(this.routes,"tax-condition")}},{key:"validatePostalCode",value:function(){var e,t,n,i=this;null===(t=null===(e=this.formClientResidence)||void 0===e?void 0:e.get("city"))||void 0===t||t.setValue([],{onlySelf:!0,emitEvent:!1}),this.provinces$=this.provinceService.getAllProvinces(),this.locations$=this.locationService.getLocationAndProvince(null===(n=this.formClientResidence.get("postalcode"))||void 0===n?void 0:n.value).pipe(Object(me.a)((function(e){return e})),Object(f.a)((function(e){var t,n,r,o;e&&(1===(e=e.filter((function(e){return e.postalcode}))).length?null===(n=null===(t=i.formClientResidence)||void 0===t?void 0:t.get("city"))||void 0===n||n.setValue(e[0].city,{onlySelf:!0,emitEvent:!0}):null===(o=null===(r=i.formClientResidence)||void 0===r?void 0:r.get("city"))||void 0===o||o.setValue([],{onlySelf:!0,emitEvent:!1}))}))),this.dataByPostalCode$=this.locations$.pipe(Object(Wt.a)((function(e){return e.map((function(e){return e.state.description}))})),Object(Jt.b)((function(e){return Object(p.a)([Object(v.a)(e.key),e.pipe(function(e,t){return arguments.length>=2?function(n){return Object(en.a)(Object(Xt.a)(e,t),Object(Zt.a)(1),Object(Kt.a)(t))(n)}:function(t){return Object(en.a)(Object(Xt.a)((function(t,n,i){return e(t,n,i+1)})),Object(Zt.a)(1))(t)}}(tn,[]))])})),Object(me.a)((function(e){return e[0]}))),this.dataByPostalCodeSubscriber=this.dataByPostalCode$.pipe(Object(me.a)((function(e){var t,n,r,o;if(e){i.loadingPostalCode=!1;var l=Array.from(new Set(e));if(1===l.length){var a=i.arrProvinces.filter((function(e){return e.description===l[0].toString()}))[0];return null===(n=null===(t=i.formClientResidence)||void 0===t?void 0:t.get("state"))||void 0===n||n.setValue(a.code,{onlySelf:!0,emitEvent:!1}),l[0]}return null===(o=null===(r=i.formClientResidence)||void 0===r?void 0:r.get("state"))||void 0===o||o.setValue([],{onlySelf:!0,emitEvent:!1}),ue.a}})),Object(S.a)((function(){var e,t;return null===(e=i.formClientResidence.get("state"))||void 0===e||e.setValue([],{onlySelf:!0,emitEvent:!1}),null===(t=i.formClientResidence.get("city"))||void 0===t||t.setValue([],{onlySelf:!0,emitEvent:!1}),i.loadingPostalCode=!1,Object(v.a)([])}))).subscribe()}},{key:"ngOnDestroy",value:function(){this.disabledByRetrieve$&&this.disabledByRetrieve$.unsubscribe(),this.getClientFromStore$&&this.getClientFromStore$.unsubscribe(),this.policySubscription&&this.policySubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||mn)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](P.ProvinceService),C["\u0275\u0275directiveInject"](P.LocationService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](q),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.AddressTypeService),C["\u0275\u0275directiveInject"](P.QuotingService),C["\u0275\u0275directiveInject"](w.a))},mn.\u0275cmp=C["\u0275\u0275defineComponent"]({type:mn,selectors:[["sxf-client-residence"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](nn,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalNewCosts=n.first)},decls:23,vars:11,consts:[[1,"col-12"],[1,"row"],[1,"col-lg-12","pl-0"],["stillLoading",""],["class","grid-container",4,"ngIf"],[4,"ngIf"],[3,"options"],["newCosts",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body","modal-body-items"],[4,"ngIf","ngIfElse"],["stillLoadingCost",""],[1,"modal-footer"],[1,"col-lg-4","offset-lg-8","pl-0"],["type","button","name","closeModalFiscalConditionNewCostsBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"grid-container"],[1,"grid-item"],[1,"btn","btn-primary","btn-block"],["class","data-not-found",4,"ngIf"],["class","grid-item",4,"ngFor","ngForOf"],["name","addAddressClientEmissionBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"data-not-found"],["name","selectAddressClientEmissionBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click","keydown.enter"],[1,"col-12",3,"formGroup"],[1,"col-lg-4","pl-0"],[1,"col-lg-4"],["type","text","formControlName","postalcode","label","","placeholder","Codigo Postal","name","postalcodeAddressEmission",3,"disabled","maxLength","keyup.enter"],["formControlName","state","bindLabel","description","bindValue","code","placeholder","Provincia","name","stateAddressEmission",1,"custom",3,"disabled","items","multiple","searchable","dropdownPosition","loading","keydown.enter"],["province",""],["formControlName","city","bindLabel","city","bindValue","city","placeholder","Localidad","name","cityAddressEmission",1,"custom",3,"disabled","items","multiple","searchable","dropdownPosition","keydown.enter"],["location",""],[1,"col-lg-5","pl-0"],[1,"col-lg-3"],[1,"col-lg-2"],["type","text","formControlName","street","label","","placeholder","Calle","name","streetAddressEmission",3,"disabled","maxLength","keydown.enter"],["type","text","formControlName","streetnumber","label","","placeholder","Altura","name","streetNumberAddressEmission",3,"disabled","maxLength","keydown.enter"],["type","text","formControlName","floor","label","","placeholder","Piso","name","floorAddressEmission",3,"disabled","maxLength","keydown.enter"],["type","text","formControlName","apartment","label","","placeholder","Depto","name","apartmentAddressEmission",3,"disabled","maxLength","keydown.enter"],[1,"col-lg-8","pl-0"],["formControlName","type","bindLabel","description","bindValue","code","placeholder","Tipo de vivienda","name","typeAddressEmission",1,"custom",3,"disabled","items","multiple","searchable","dropdownPosition","keydown.enter"],["typeHome",""],["type","text","formControlName","clarification","label","","placeholder","Notas","name","clarificationAddressEmission",3,"disabled","keydown.enter"],[1,"row","pt-4"],["name","continueAddressEmissionBtn",1,"btn","btn-primary","btn-heft",3,"disabled","click"],[1,"press-enter","ml-3","mr-4"],[1,"col-12","text-center"],["width","8.75rem","height","6.25rem",3,"options"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275template"](3,rn,4,0,"ng-template",null,3,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275template"](5,sn,6,6,"div",4),C["\u0275\u0275pipe"](6,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](7,cn,76,31,"div",5),C["\u0275\u0275pipe"](8,"async"),C["\u0275\u0275elementStart"](9,"sxf-modal",6,7),C["\u0275\u0275elementStart"](11,"div",8),C["\u0275\u0275elementStart"](12,"h4",9),C["\u0275\u0275text"](13," Recotizando "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"div",10),C["\u0275\u0275template"](15,dn,7,4,"p",11),C["\u0275\u0275template"](16,un,3,1,"ng-template",null,12,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](18,"div",13),C["\u0275\u0275elementStart"](19,"div",1),C["\u0275\u0275elementStart"](20,"div",14),C["\u0275\u0275elementStart"](21,"button",15),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNewCosts()})),C["\u0275\u0275text"](22," Aceptar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](17);C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](6,6,t.residences$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](8,8,t.addressType$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",C["\u0275\u0275pureFunction0"](10,pn)),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("ngIf",!t.loadingCosts)("ngIfElse",n),C["\u0275\u0275advance"](6),C["\u0275\u0275property"]("disabled",t.loadingCosts)}},directives:[I.o,k.a,I.n,I.m,L.NgControlStatusGroup,L.FormGroupDirective,U.a,L.NgControlStatus,L.FormControlName,z.a,M.a],pipes:[I.b,I.z,I.f],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.press-enter[_ngcontent-%COMP%]{color:#a3adb3;font-size:.75rem}.grid-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,auto);grid-template-rows:none;padding:0}.grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{margin:.3rem}.grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{text-align:left;padding:.5rem 1rem;background-color:#fff;border:.5px solid #c4c4c4;color:#06369e;border-radius:5px}.grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .btn-primary.select[_ngcontent-%COMP%]{background-color:transparent;border-color:transparent;box-shadow:none}.grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .btn-primary.active[_ngcontent-%COMP%], .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{background-color:#fff!important;border:.5px solid #00aec7!important;box-shadow:0 0 10px rgba(0,174,199,.4)!important}"]}),mn),hn=["fiscalcondition"],bn=["iibb"],fn=["modalFiscal"],yn=["newCosts"];function gn(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"label"),C["\u0275\u0275text"](2," Ingresos Brutos "),C["\u0275\u0275elementStart"](3,"sup"),C["\u0275\u0275text"](4,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Sn(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"label"),C["\u0275\u0275text"](2," N\xb0 IIBB "),C["\u0275\u0275elementStart"](3,"sup"),C["\u0275\u0275text"](4,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function En(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"sxf-select",26,27),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275pipe"](3,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("items",C["\u0275\u0275pipeBind1"](3,4,i.iibb$))("multiple",!1)("searchable",!0)("disabled",i.disabledByRetrieve)}}function xn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",25),C["\u0275\u0275elementStart"](1,"sxf-textbox",28,29),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("helpFeedback","")("disabled",i.disabledByRetrieve)}}function Cn(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275elementStart"](2,"label"),C["\u0275\u0275text"](3," Inicio de certificado "),C["\u0275\u0275elementStart"](4,"sup"),C["\u0275\u0275text"](5,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"div",25),C["\u0275\u0275elementStart"](7,"label"),C["\u0275\u0275text"](8," Vencimiento de certificado "),C["\u0275\u0275elementStart"](9,"sup"),C["\u0275\u0275text"](10,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]())}function Pn(e,t){if(1&e){var n=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",2),C["\u0275\u0275elementStart"](2,"sxf-datetimepicker",30),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"div",25),C["\u0275\u0275elementStart"](4,"sxf-datetimepicker",31),C["\u0275\u0275listener"]("keydown.enter",(function(){return C["\u0275\u0275restoreView"](n),C["\u0275\u0275nextContext"]().onEnter()})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){var i=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("minDate",i.date)("maxDate",i.maxDate)}}function wn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",32),C["\u0275\u0275element"](2,"ng-lottie",33),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("options",n.lottieConfig)}}function kn(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"p"),C["\u0275\u0275text"](1),C["\u0275\u0275pipe"](2,"number"),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" Recotizamos tu cobertura con la condici\xf3n fiscal registrada. el nuevo valor de la cuota es de ",C["\u0275\u0275pipeBind2"](2,1,n.newQuote,"1.0-0")," Para mas detalle revisar el detalle del men\xfa lateral. ")}}var In,Mn=((In=function(){function e(t,n,i,r,o,l,a,s,c){_classCallCheck(this,e),this.fb=t,this.fiscalService=n,this.iibbService=i,this.storePolicy=r,this.flowRouteEmissionService=o,this.storeEmission=l,this.quotingService=a,this.storeQuote=s,this.policyAdapter=c,this.lottieConfig={path:"/assets/loadings/sura-loader.json"},this.fiscalConditionSelect={},this.iibbSelect={},this.modalFiscal={},this.modalNewCosts={},this.currentMotor={},this.formClienTax={},this.fiscalConditions$=new de.a,this.iibb$=new de.a,this.routes=[],this.client={},this.currentPolicy={},this.packageSelected={},this.arrayFiscalCondition=[],this.clientData={},this.firstTimeFiscalCondition=!1,this.maxDate={},this.minDate={},this.showCertified=!1,this.showIIBB=!1,this.showiibbNumber=!1,this.loadingCosts=!1,this.vehicles={},this.firstTimeFiscalConditionChangeValue=!1,this.newQuote="",this.CONSUMIDOR_FINAL="consumidorFinal",this.NORESPONSABLE="noResponsable",this.arrCondFiscalOriginal=[],this.disabledByRetrieve$=new m.a,this.disabledByRetrieve=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t,n,i=this;this.newQuote="0";var r=new Date(Date.now()),o=r.getMonth()+1,l=r.getDate(),a=r.getFullYear();this.date={day:l,month:o,year:a},this.firstTimeFiscalCondition=!1,this.firstTimeFiscalConditionChangeValue=!1,this.loadingCosts=!1,this.showIIBB=!1,this.showCertified=!1,this.showiibbNumber=!0,this.minDate=this.date,this.maxDate={day:this.date.day,month:o,year:a+10},Object(p.a)([this.storePolicy.select(u.p),this.storeQuote.select(D.v)]).subscribe((function(e){i.vehicles=e[0].motor.vehicles,i.currentMotor=e[0].motor.vehicles.filter((function(t){return t.number===e[1].activeMotor}))[0],i.currentPolicy=e[0]})).unsubscribe(),this.formClienTax=this.fb.group({fiscalcondition:[this.currentPolicy.fiscalcondition,L.Validators.required],iibb:[this.currentPolicy.iibb.type],iibbNumber:[this.currentPolicy.iibb.number],beginningValidity:[this.date],endingValidity:[]}),this.iibb$=this.iibbService.getAllCrudIncome(),this.storeEmission.select(c.m).subscribe((function(e){i.routes=e})),this.storePolicy.select(u.p).subscribe((function(e){var t="Company"===e.client.type;i.fiscalConditions$=i.fiscalService.getAllFiscalCondition().pipe(Object(y.a)((function(n){var r;i.arrayFiscalCondition=n;var o=i.CONSUMIDOR_FINAL;t&&(o=i.NORESPONSABLE);var l=[o];e.client.fiscalcondition!==o&&l.push(e.client.fiscalcondition);var a=[];if(i.arrCondFiscalOriginal.length&&(l=i.arrCondFiscalOriginal),null===e.client.contactid){var s=i.CONSUMIDOR_FINAL;t||(s=i.NORESPONSABLE),a=n.filter((function(e){return e.code!==s}))}else a=n.filter((function(e){return l.includes(e.code)}));e.client.fiscalcondition===e.fiscalcondition||i.firstTimeFiscalCondition||null===e.client.contactid||i.modalFiscal.openModal();var c={emitEvent:!1,onlySelf:!0};i.firstTimeFiscalCondition||(i.firstTimeFiscalCondition=!0,c={emitEvent:!0,onlySelf:!0},i.activateCertifiedDates(e.client.fiscalcondition),i.activateIIBB(e.client.fiscalcondition),e.client.iibb&&e.client.iibb.type&&null!==e.client.iibb.type&&i.activateIIBBnumber(e.client.iibb.type),i.arrCondFiscalOriginal=l);var d=e.client.fiscalcondition,u=null===(r=e.client.iibb)||void 0===r?void 0:r.type;return 0===a.filter((function(t){return t.code===e.client.fiscalcondition})).length&&null===e.client.contactid&&(t?(d=i.NORESPONSABLE,u=u||"noInscripto"):d=i.CONSUMIDOR_FINAL,i.modalFiscal.openModal()),i.formClienTax.patchValue({fiscalcondition:d,iibb:u,iibbNumber:e.client.iibb?e.client.iibb.number:""},c),Object(v.a)(a)})))})).unsubscribe(),null===(e=this.formClienTax.get("beginningValidity"))||void 0===e||e.valueChanges.subscribe((function(e){i.date=e,i.maxDate={day:i.date.day,month:i.date.month,year:i.date.year+5}})),null===(t=this.formClienTax.get("iibb"))||void 0===t||t.valueChanges.subscribe((function(e){i.activateIIBBnumber(e),i.updateCrudIncomeType(e)})),null===(n=this.formClienTax.get("fiscalcondition"))||void 0===n||n.valueChanges.subscribe((function(e){var t=i.fiscalConditionSelect.getValue();void 0===t&&(t=i.arrayFiscalCondition.filter((function(t){return t.code===e}))[0]),i.activateCertifiedDates(e),i.activateIIBB(e),i.updateConditionFiscal(t),i.firstTimeFiscalConditionChangeValue?i.callCost():i.firstTimeFiscalConditionChangeValue=!0})),Object(p.a)([this.storeEmission.select(c.d),this.storePolicy.select(u.g)]).subscribe((function(e){i.disabledByRetrieve=!!(e[0].jobNumberFromQuotes&&e[0].approvedEmission&&e[1])}))}},{key:"ngOnDestroy",value:function(){this.disabledByRetrieve$&&this.disabledByRetrieve$.unsubscribe()}},{key:"activateCertifiedDates",value:function(e){var t,n,i,r,o,l,a,s,c,d;if("inscriptoExentoPercepcion"===e){if(this.showCertified=!0,null===(t=this.formClienTax.get("beginningValidity"))||void 0===t||t.setValidators(L.Validators.required),null===(n=this.formClienTax.get("endingValidity"))||void 0===n||n.setValidators(L.Validators.required),this.currentPolicy.client.certificate&&null!==this.currentPolicy.client.certificate.start){var u=this.currentPolicy.client.certificate.start.toString(),m={year:parseInt(u.substring(0,4),0),month:parseInt(u.substring(5,7),0),day:parseInt(u.substring(8,10),0)},p=null===(l=null===(o=null===(r=null===(i=this.currentPolicy)||void 0===i?void 0:i.client)||void 0===r?void 0:r.certificate)||void 0===o?void 0:o.end)||void 0===l?void 0:l.toString(),v={year:parseInt(null==p?void 0:p.substring(0,4),0),month:parseInt(null==p?void 0:p.substring(5,7),0),day:parseInt(null==p?void 0:p.substring(8,10),0)};this.formClienTax.patchValue({beginningValidity:m,endingValidity:v},{emitEvent:!1,onlySelf:!0})}}else this.showCertified=!1,null===(a=this.formClienTax.get("beginningValidity"))||void 0===a||a.clearValidators(),null===(s=this.formClienTax.get("beginningValidity"))||void 0===s||s.updateValueAndValidity(),null===(c=this.formClienTax.get("endingValidity"))||void 0===c||c.clearValidators(),null===(d=this.formClienTax.get("endingValidity"))||void 0===d||d.updateValueAndValidity()}},{key:"activateIIBB",value:function(e){var t,n,i;e!==this.CONSUMIDOR_FINAL?(this.showIIBB=!0,null===(t=this.formClienTax.get("iibb"))||void 0===t||t.setValidators(L.Validators.required),this.activateIIBBnumber(this.currentPolicy.client.iibb&&this.currentPolicy.client.iibb.type?this.currentPolicy.client.iibb.type:"")):(this.showIIBB=!1,null===(n=this.formClienTax.get("iibb"))||void 0===n||n.clearValidators(),null===(i=this.formClienTax.get("iibb"))||void 0===i||i.updateValueAndValidity(),this.activateIIBBnumber(""))}},{key:"activateIIBBnumber",value:function(e){var t,n,i;"inscriptoConvenioMultilateral"===e||"inscriptoConvenioLocal"===e?(this.showiibbNumber=!0,null===(t=this.formClienTax.get("iibbNumber"))||void 0===t||t.setValidators(L.Validators.required)):(this.showiibbNumber=!1,null===(n=this.formClienTax.get("iibbNumber"))||void 0===n||n.clearValidators(),null===(i=this.formClienTax.get("iibbNumber"))||void 0===i||i.updateValueAndValidity())}},{key:"updateConditionFiscal",value:function(e){this.storePolicy.dispatch(new d.p(e.code))}},{key:"updateCrudIncomeType",value:function(e){this.storePolicy.dispatch(new d.n(e))}},{key:"continue",value:function(){var e,t,n,i,r=this,o=null===(e=this.formClienTax.get("iibb"))||void 0===e?void 0:e.value,l=null===(t=this.formClienTax.get("iibbNumber"))||void 0===t?void 0:t.value;if("inscriptoExentoPercepcion"===this.currentPolicy.fiscalcondition){var a=null===(n=this.formClienTax.get("beginningValidity"))||void 0===n?void 0:n.value,c=null===(i=this.formClienTax.get("endingValidity"))||void 0===i?void 0:i.value,u=a.year+"-"+a.month+"-"+a.day;u=new Date(u).toISOString();var m=c.year+"-"+c.month+"-"+c.day;m=new Date(m).toISOString(),this.storePolicy.dispatch(new d.h({start:u,end:m}))}this.storePolicy.dispatch(new d.n(o)),this.storePolicy.dispatch(new d.m(l)),this.storePolicy.dispatch(new d.l({code:o,description:"",type:o,number:l})),null===this.currentPolicy.client.contactid&&this.storePolicy.dispatch(new d.q(this.currentPolicy.fiscalcondition)),this.flowRouteEmissionService.enableRoute(this.routes,"validity"),this.storeEmission.dispatch(new s.c("validity"));var p="";this.showIIBB&&(p=this.iibbSelect.getValue().description),this.routes.forEach((function(e){"tax-condition"===e.path&&(e.value=r.arrayFiscalCondition.filter((function(e){var t;return e.code===(null===(t=r.formClienTax.get("fiscalcondition"))||void 0===t?void 0:t.value)}))[0].description+" "+p)})),this.formClienTax.valid&&this.storeEmission.dispatch(new s.l(!0)),this.flowRouteEmissionService.enableRoute(this.routes,"validity")}},{key:"closeModal",value:function(){this.modalFiscal.closeModal(),this.callCost()}},{key:"closeModalNewCosts",value:function(){this.modalNewCosts.closeModal()}},{key:"onEnter",value:function(){this.formClienTax.valid&&this.continue()}},{key:"callCost",value:function(){var e=this;this.loadingCosts=!0,this.modalNewCosts.openModal(),this.storePolicy.select(u.p).pipe(Object(g.a)(),Object(y.a)((function(t){var n,i=e.policyAdapter.adapt(t);return null===(n=i.motor.vehicles)||void 0===n||n.forEach((function(e){var t;e.packages=null===(t=null==e?void 0:e.packages)||void 0===t?void 0:t.filter((function(e){return e.selected}))})),e.quotingService.getCosts(i)}))).subscribe((function(t){var n,i,r,o=null===(i=null===(n=e.currentMotor)||void 0===n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected}));e.storePolicy.dispatch(new d.F(null===(r=t.costs)||void 0===r?void 0:r.filter((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(e.currentMotor.number,",").concat(null==o?void 0:o.code))})))),e.vehicles.forEach((function(n){var i,r,o,l,a,s=null===(i=null==n?void 0:n.packages)||void 0===i?void 0:i.find((function(e){return e.selected})),c=null===(r=t.motor.errors)||void 0===r?void 0:r.find((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==s?void 0:s.code))})),d=null===(l=null===(o=t.motor.vehicles)||void 0===o?void 0:o.find((function(e){return e.number===n.number})))||void 0===l?void 0:l.packages.find((function(e){return e.code===(null==s?void 0:s.code)}));(null==c?void 0:c.code)?(s&&(s.premiums={}),e.newQuote=""):(s&&(s.premiums=null==d?void 0:d.premiums),e.newQuote=null===(a=t.costs)||void 0===a?void 0:a.find((function(t){return t.externalId.split("&").includes("".concat(e.currentPolicy.productcode,",").concat(n.number,",").concat(null==s?void 0:s.code))})).invoice.toString(),e.newQuote=e.newQuote?parseFloat(e.newQuote).toFixed(2):"")})),e.storePolicy.dispatch(new d.H(e.vehicles)),e.storeQuote.dispatch(new a.m(t)),e.loadingCosts=!1}))}}]),e}()).\u0275fac=function(e){return new(e||In)(C["\u0275\u0275directiveInject"](L.FormBuilder),C["\u0275\u0275directiveInject"](P.FiscalConditionService),C["\u0275\u0275directiveInject"](P.CrudIncomeService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](q),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](P.QuotingService),C["\u0275\u0275directiveInject"](r.h),C["\u0275\u0275directiveInject"](w.a))},In.\u0275cmp=C["\u0275\u0275defineComponent"]({type:In,selectors:[["sxf-client-tax-condition"]],viewQuery:function(e,t){var n;1&e&&(C["\u0275\u0275viewQuery"](hn,!0),C["\u0275\u0275viewQuery"](bn,!0),C["\u0275\u0275viewQuery"](fn,!0),C["\u0275\u0275viewQuery"](yn,!0)),2&e&&(C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.fiscalConditionSelect=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.iibbSelect=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalFiscal=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.modalNewCosts=n.first))},decls:59,vars:17,consts:[[1,"row"],[1,"col-lg-12",3,"formGroup"],[1,"col-lg-4","pl-0"],["class","col-lg-4",4,"ngIf"],["formControlName","fiscalcondition","bindLabel","description","bindValue","code","placeholder","Cond. Fiscal","dropdownPosition","bottom","name","fiscalconditionSelectEmission",1,"custom",3,"items","multiple","searchable","disabled","keydown.enter"],["fiscalcondition",""],["class","row",4,"ngIf"],[1,"row","pt-4"],[1,"col-lg-8","pl-0"],["name","continueFiscalConditionBtn",1,"btn","btn-primary","btn-heft",3,"disabled","click"],[1,"press-enter","ml-3","mr-4"],["modalFiscal",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","name","closeModalFiscalConditionBtn",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-body-items"],[1,"modal-footer"],[1,"col-lg-4","offset-lg-8","pl-0"],["type","button","name","closeModalFiscalConditionBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],["newCosts",""],["type","button","aria-label","Close","name","closeModalFiscalConditionNewCostsBtn",1,"close",3,"click"],["stillLoading",""],[4,"ngIf","ngIfElse"],["type","button","name","closeModalFiscalConditionNewCostsBtn",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"col-lg-4"],["formControlName","iibb","bindLabel","description","bindValue","code","placeholder","Ing. Brutos","dropdownPosition","bottom","name","iibbEmission",1,"custom",3,"items","multiple","searchable","disabled","keydown.enter"],["iibb",""],["type","text","formControlName","iibbNumber","label","","placeholder","","placement","bottom","name","numIibbEmission",3,"helpFeedback","disabled","keydown.enter"],["numiibb",""],["formControlName","beginningValidity","name","beginningValidityFiscalConditionEmission",3,"keydown.enter"],["formControlName","endingValidity","name","endingValidityFiscalConditionEmission",3,"minDate","maxDate","keydown.enter"],[1,"col-12","text-center"],["width","8.75rem","height","6.25rem",3,"options"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",0),C["\u0275\u0275elementStart"](3,"div",2),C["\u0275\u0275elementStart"](4,"label"),C["\u0275\u0275text"](5," Condici\xf3n fiscal "),C["\u0275\u0275elementStart"](6,"sup"),C["\u0275\u0275text"](7,"*"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](8,gn,5,0,"div",3),C["\u0275\u0275template"](9,Sn,5,0,"div",3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"div",0),C["\u0275\u0275elementStart"](11,"div",2),C["\u0275\u0275elementStart"](12,"sxf-select",4,5),C["\u0275\u0275listener"]("keydown.enter",(function(){return t.onEnter()})),C["\u0275\u0275pipe"](14,"async"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](15,En,4,6,"div",3),C["\u0275\u0275template"](16,xn,3,2,"div",3),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](17,Cn,11,0,"div",6),C["\u0275\u0275template"](18,Pn,5,2,"div",6),C["\u0275\u0275elementStart"](19,"div",7),C["\u0275\u0275elementStart"](20,"div",8),C["\u0275\u0275elementStart"](21,"span"),C["\u0275\u0275elementStart"](22,"button",9),C["\u0275\u0275listener"]("click",(function(){return t.continue()})),C["\u0275\u0275text"](23," Continuar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](24,"span",10),C["\u0275\u0275text"](25," o presiona ENTER "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](26,"sxf-modal",null,11),C["\u0275\u0275elementStart"](28,"div",12),C["\u0275\u0275elementStart"](29,"h4",13),C["\u0275\u0275text"](30," La condici\xf3n fiscal no coincide "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](31,"button",14),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275elementStart"](32,"span",15),C["\u0275\u0275text"](33,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](34,"div",16),C["\u0275\u0275elementStart"](35,"p"),C["\u0275\u0275text"](36," La condici\xf3n fiscal usada para cotizar no coincide con la registrada para el cliente. Vamos a recotizar la cobertura elegida con la condici\xf3n fiscal existente. De haber un cambio en la misma, por favor comunicate con tu Ejecutivo Comercial. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](37,"div",17),C["\u0275\u0275elementStart"](38,"div",0),C["\u0275\u0275elementStart"](39,"div",18),C["\u0275\u0275elementStart"](40,"button",19),C["\u0275\u0275listener"]("click",(function(){return t.closeModal()})),C["\u0275\u0275text"](41," Aceptar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](42,"sxf-modal",null,20),C["\u0275\u0275elementStart"](44,"div",12),C["\u0275\u0275elementStart"](45,"h4",13),C["\u0275\u0275text"](46," Nueva cotizaci\xf3n "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](47,"button",21),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNewCosts()})),C["\u0275\u0275elementStart"](48,"span",15),C["\u0275\u0275text"](49,"\xd7"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](50,"div",16),C["\u0275\u0275template"](51,wn,3,1,"ng-template",null,22,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275template"](53,kn,3,4,"p",23),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](54,"div",17),C["\u0275\u0275elementStart"](55,"div",0),C["\u0275\u0275elementStart"](56,"div",18),C["\u0275\u0275elementStart"](57,"button",24),C["\u0275\u0275listener"]("click",(function(){return t.closeModalNewCosts()})),C["\u0275\u0275text"](58," Aceptar "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){var n=C["\u0275\u0275reference"](52);C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("formGroup",t.formClienTax),C["\u0275\u0275advance"](7),C["\u0275\u0275property"]("ngIf",t.showIIBB),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.showiibbNumber),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("items",C["\u0275\u0275pipeBind1"](14,15,t.fiscalConditions$))("multiple",!1)("searchable",!0)("disabled",t.disabledByRetrieve),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",t.showIIBB),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.showiibbNumber),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.showCertified),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.showCertified),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",!t.formClienTax.valid),C["\u0275\u0275advance"](31),C["\u0275\u0275property"]("ngIf",!t.loadingCosts)("ngIfElse",n),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("disabled",t.loadingCosts)}},directives:[L.NgControlStatusGroup,L.FormGroupDirective,I.o,z.a,L.NgControlStatus,L.FormControlName,k.a,U.a,G.a,M.a],pipes:[I.b,I.f],styles:["label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.75rem;color:#393b3d}.press-enter[_ngcontent-%COMP%]{color:#a3adb3;font-size:.75rem}"]}),In);n("zD4e");var On,_n,Nn=n("D57K"),jn=n("dgOi"),Vn=((On=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.quotesService=t,this.accountService=n,this.storeEmission=i,this.storePolicy=r,this.utilService=o,this.serverDate=null,this.approved=null}return _createClass(e,[{key:"resolve",value:function(){var e=this;return Object(p.a)([this.storePolicy.select(u.l),this.storeEmission.select(c.d),this.utilService.getCurrentServerDate()]).pipe(Object(y.a)((function(t){var n=t[0].number,i=t[1].jobNumberFromQuotes;return e.serverDate=t[2].datetime,e.approved=t[1].approvedEmission,null!==n?Object(v.a)(!0):i&&""!==i?e.quotesService.getQuote(i).pipe(Object(y.a)((function(t){return Object(Nn.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fillPolicyAttributes(t),r=null===(i=null===(n=t.client)||void 0===n?void 0:n.officialids)||void 0===i?void 0:i.find((function(e){return e.primary})),e.next=4,this.getAccountInfo(r,t);case 4:return this.storeEmission.dispatch(new s.n(t.address)),e.abrupt("return",Object(v.a)(!0));case 6:case"end":return e.stop()}}),e,this)})))}))):Object(v.a)(!0)})),Object(g.a)())}},{key:"fillPolicyAttributes",value:function(e){var t,n,i,r,o,l,a,s,c,u,m=this,p={code:null===(n=null===(t=null==(e=Object.assign(Object.assign({},e),{job:Object.assign(Object.assign({},null==e?void 0:e.job),{type:"Submission"})}))?void 0:e.payment)||void 0===t?void 0:t.plan)||void 0===n?void 0:n.code,description:null,maximumnumberofinstallments:null};e.payment=Object.assign(Object.assign({},{method:null,plan:{code:null},cbu:{alias:null,conduit:null,number:null},creditcard:{expirationdate:null,number:null,type:null},id:null}),e.payment),e.paymentTerm=Object.assign(Object.assign({},p),e.paymentTerm),this.populatePeriod(e);var v=null===(r=null===(i=null==e?void 0:e.client)||void 0===i?void 0:i.officialids)||void 0===r?void 0:r.find((function(e){return e.primary}));null===(s=null===(a=null==(e=Object.assign(Object.assign({},e),{client:Object.assign(Object.assign({},e.client),{documentNumber:null==v?void 0:v.value,documentType:null==v?void 0:v.type}),motor:Object.assign(Object.assign({},e.motor),{fleet:"NonFleet",vehicles:null===(l=null===(o=null==e?void 0:e.motor)||void 0===o?void 0:o.vehicles)||void 0===l?void 0:l.sort((function(e,t){return e.number&&t.number?(null==e?void 0:e.number)-(null==t?void 0:t.number):e.number}))})}))?void 0:e.motor)||void 0===a?void 0:a.discounts)||void 0===s||s.forEach((function(e){e.value=Math.abs(e.value)})),null===(u=null===(c=null==e?void 0:e.motor)||void 0===c?void 0:c.vehicles)||void 0===u||u.forEach((function(t){var n,i,r,o,l,a,s,c;t.id=t.number,t.group=m.findVehicleGroup(null===(n=null==t?void 0:t.model)||void 0===n?void 0:n.type),t.license=t.license||null,t.statedamount=null===(i=t.model)||void 0===i?void 0:i.statementamount,!t.zerokm&&t.model&&(t.model.statementamount=t.model.originalcostnew,t.model.originalcostnew=0);var d=!1,u=t.driver,p=e.client;if(u&&(null===(r=null==p?void 0:p.firstname)||void 0===r?void 0:r.toLowerCase())===(null===(o=null==u?void 0:u.firstname)||void 0===o?void 0:o.toLowerCase())&&(null===(l=null==p?void 0:p.lastname)||void 0===l?void 0:l.toLowerCase())===(null===(a=null==u?void 0:u.lastname)||void 0===a?void 0:a.toLowerCase())&&(d=!0),t.driver=Object.assign({firstname:null,lastname:null,birth:null,gender:null,clientIsDriver:d},t.driver),t.bondholder?t.bondholder.type=Number(t.bondholder.type):t.bondholder={finish:null,firstinstallmentdue:null,number:null,quotas:null,start:null,type:null},t.package){var v="";null===(c=null===(s=null==jn.a?void 0:jn.a.find((function(e){return e.vehicleType===t.group})))||void 0===s?void 0:s.package)||void 0===c||c.forEach((function(e){var n;null===(n=null==e?void 0:e.packages)||void 0===n||n.forEach((function(n){var i;if((null==n?void 0:n.code)===(null===(i=null==t?void 0:t.package)||void 0===i?void 0:i.code))return t.package.group=e.code,void(v=n.description)}))})),t.package.description=v,t.package.selected=!0,t.package.externalid="".concat(t.number,"_").concat(t.package.code),t.packages=[],t.packages.push(t.package)}})),this.storePolicy.dispatch(new d.B(e))}},{key:"getAccountInfo",value:function(e,t){var n=this,i={officialid:e};return new Promise((function(r,o){n.accountService.getAccounts(i).subscribe((function(i){var o,l,a,c,u,m;if(!i){var p=t.client;return n.storeEmission.dispatch(new s.e(null==p?void 0:p.type,null===(o=null==p?void 0:p.companyname)||void 0===o?void 0:o.toUpperCase(),null===(l=null==p?void 0:p.firstname)||void 0===l?void 0:l.toUpperCase(),null===(a=null==p?void 0:p.lastname)||void 0===a?void 0:a.toUpperCase(),null==p?void 0:p.contactid,null==p?void 0:p.documentNumber,null==p?void 0:p.documentType,null==p?void 0:p.address)),r()}if(i.documentNumber=e.value,i.documentType=e.type,null===(u=null===(c=null==t?void 0:t.client)||void 0===c?void 0:c.address)||void 0===u?void 0:u.id){var v=null===(m=null==i?void 0:i.addresses)||void 0===m?void 0:m.find((function(e){var n,i;return e.id===(null===(i=null===(n=null==t?void 0:t.client)||void 0===n?void 0:n.address)||void 0===i?void 0:i.id)}));i.address=v||{apartment:null,city:null,clarification:null,floor:null,id:null,postalcode:null,state:null,street:null,streetnumber:null,type:null}}n.storePolicy.dispatch(new d.i(i)),n.storeEmission.dispatch(new s.f(i)),r(i)}),o)}))}},{key:"findVehicleGroup",value:function(e){var t;return null===(t=jn.a.find((function(t){return t.types.includes(e)})))||void 0===t?void 0:t.vehicleType}},{key:"populatePeriod",value:function(e){var t,n,i=dt(this.serverDate);if(!this.approved)if(e.period){switch(e.period.method){case"Sura_ThreeMonths":t="Sura_ThreeMonths",n=3;break;default:t="Sura_ThreeMonths",n=3}var r=i.toDate(),o=i.clone().add(n,"months").toDate();e.period={start:r,end:o,method:t,rate:void 0}}else e.period={start:i.toDate(),end:null,method:null,rate:null}}}]),e}()).\u0275fac=function(e){return new(e||On)(C["\u0275\u0275inject"](P.QuotesService),C["\u0275\u0275inject"](P.AccountService),C["\u0275\u0275inject"](r.h),C["\u0275\u0275inject"](r.h),C["\u0275\u0275inject"](P.UtilService))},On.\u0275prov=C["\u0275\u0275defineInjectable"]({token:On,factory:On.\u0275fac}),On),An=n("SKbR"),Bn=[{path:"",component:B,resolve:{data:Vn},children:[{path:"questions",component:ct,children:[{path:"client",component:Yt,data:{question:"Algunos datos m\xe1s de tu cliente",show:!0,disabled:!1,value:"",shortName:"Cliente",config:An}},{path:"residence",component:vn,data:{question:"\xbfCual es tu domicilio?",show:!0,disabled:!0,value:"",shortName:"\xbfEste es el domicilio fiscal?"}},{path:"tax-condition",component:Mn,data:{question:"\xbfCu\xe1l es la condici\xf3n fiscal?",show:!0,disabled:!0,value:"",shortName:"Condicion fiscal"}},{path:"validity",component:pt,data:{question:"\xbfCu\xe1l es el inicio de vigencia?",show:!0,disabled:!0,value:"",shortName:"Inicio de vigencia"}},{path:"aditionalauto/:id",component:le,data:{question:"\xbfCu\xe1l es le n\xfamero de chasis y de motor?",show:!0,disabled:!0,value:"",shortName:"Chasis y motor"}},{path:"payment-method",component:Mt,data:{question:"\xbfC\xf3mo lo quiere pagar?",show:!0,disabled:!0,value:"",shortName:"payment"}}]}]}],Rn=((_n=function e(){_classCallCheck(this,e)}).\u0275mod=C["\u0275\u0275defineNgModule"]({type:_n}),_n.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(e){return new(e||_n)},providers:[],imports:[[i.j.forChild(Bn),r.j.forFeature("emission",o.a)],i.j]}),_n),Dn=n("NdbC");function Ln(){return n.e(0).then(n.t.bind(null,"Nh1y",7))}var Fn,Tn=((Fn=function e(){_classCallCheck(this,e)}).\u0275mod=C["\u0275\u0275defineNgModule"]({type:Fn}),Fn.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Fn)},providers:[P.GenderService,P.IdentificationService,P.DocumentationService,q,P.AccountService,P.NationalityService,l.PeriodMethodPipe,l.CardNumberPipe,P.AddressTypeService,P.MaritalStatusService,P.ClienteNService,P.PatentBlackListService,Vn,P.QuotesService,P.PatentUseService,P.BondholderService],imports:[[Dn.a,Rn,M.b.forRoot({player:Ln})]]}),Fn)},ihxi:function(e,t,n){"use strict";var i=n("sBpz"),r=n("lTUY"),o=n("GB03"),l=n("Lbxd"),a=n("VTS6"),s=n("xKJD"),c=n("a96P"),d=n("7bXj"),u=n("k/06");t.subscribeTo=function(e){if(e&&"function"==typeof e[u.observable])return l.subscribeToObservable(e);if(a.isArrayLike(e))return i.subscribeToArray(e);if(s.isPromise(e))return r.subscribeToPromise(e);if(e&&"function"==typeof e[d.iterator])return o.subscribeToIterable(e);var t=c.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"k/06":function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},kZSD:function(e,t,n){"use strict";var i=n("d4zx"),r=n("ihxi"),o=n("qiMw");t.subscribeToResult=function(e,t,n,l,a){if(void 0===a&&(a=new i.InnerSubscriber(e,n,l)),!a.closed)return t instanceof o.Observable?t.subscribe(a):r.subscribeTo(t)(a)}},lTUY:function(e,t,n){"use strict";var i=n("tpAt");t.subscribeToPromise=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.hostReportError),t}}},qiMw:function(e,t,n){"use strict";var i=n("JJ8B"),r=n("Yfti"),o=n("k/06"),l=n("E/Xc"),a=n("QuXn");function s(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,o=r.toSubscriber(e,t,n);if(o.add(i?i.call(o,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=s(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:l.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=s(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))},e.create=function(t){return new e(t)},e}()},sBpz:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},tpAt:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},uHtI:function(e,t,n){"use strict";var i=n("qiMw"),r=n("6Br6");t.scheduleArray=function(e,t){return new i.Observable((function(n){var i=new r.Subscription,o=0;return i.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}},uzuk:function(e,t,n){"use strict";var i=n("QuXn"),r=n("tpAt");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;r.hostReportError(e)},complete:function(){}}},v2vP:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},xKJD:function(e,t,n){"use strict";t.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},zD4e:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("ci3w"),l=n("D9en"),a=n("dmvN"),s=n("kZSD"),c=n("DtmU"),d={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,i=null;return o.isScheduler(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&l.isArray(e[0])&&(e=e[0]),c.fromArray(e,i).lift(new u(n))};var u=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new m(e,this.resultSelector))},e}();t.CombineLatestOperator=u;var m=function(e){function t(t,n){var i=e.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return r(t,e),t.prototype._next=function(e){this.values.push(d),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(s.subscribeToResult(this,i,i,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,i,r){var o=this.values,l=this.toRespond?o[n]===d?--this.toRespond:this.toRespond:0;o[n]=t,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(a.OuterSubscriber);t.CombineLatestSubscriber=m}}]);